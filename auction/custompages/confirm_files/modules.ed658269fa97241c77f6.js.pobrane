webpackJsonp([1],{239:function(e,t,n){n(240),n(241),n(242),n(243),n(244),n(245),n(246),e.exports=n(247)},240:function(e,t){angular.module("discountsTemplates",[]).run(["$templateCache",function(e){e.put("components/bannerCoins/bannerCoins.html",'<div class="banner-coins">\n    <p class="banner-coins-paragraph" translate>You want to pay less for shopping?</p>\n    <a nga-action="DiscountsCoupons" nga-category="CoinsBanner" href="https://monety.allegro.pl/" target="_blank" translate>Exchange coins to coupons.</a>\n</div>\n'),e.put("components/chargeMessage/chargeMessage.html",'<section class="chargeable-discount" ng-if="$ctrl.getRegulationUrl()">\n    <span class="didascalia">\n        <translate>By proceeding, you agree to</translate>\n        <a target="_blank" ng-href="{{$ctrl.getRegulationUrl()}}"><translate>the terms and conditions of the coupon campaign</translate></a>.<br>\n        <span ng-if="$ctrl.isDiscountChargeable()" translate>After the purchase, the coupon fee (PLN 0.20) will be added to your Allegro bill.</span>\n    </span>\n</section>\n'),e.put("components/discountCoupons/discountCoupons.html",'<div class="row" ng-if="$ctrl.payments.discounts.length">\n    <div class="col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-3 col-sm-6">\n        <div class="coupons-flex coupons-header">\n            <h2 translate>coupons</h2>\n        </div>\n\n        <banner-coins></banner-coins>\n\n        <div class="coupons-wrapper">\n            <default-coupon\n                payments="$ctrl.payments"\n                payment-id="$ctrl.paymentId"\n                default-coupon="$ctrl.defaultCoupon"\n                bearer-code="$ctrl.bearerCode"\n            ></default-coupon>\n\n            <div ng-repeat="coupon in $ctrl.payments.discounts | filter: { showInput: false } track by coupon.id"\n                class="coupon"\n                ng-class="{selected: $ctrl.isCouponSelected(coupon), disabled: $ctrl.isCouponDisabled(coupon)}"\n                >\n                <button\n                    class="coupon-tile"\n                    ng-click="$ctrl.toggleCoupon(coupon)"\n                    ng-disabled="$ctrl.isCouponDisabled(coupon)">\n                    <div class="coupon-brand">\n                        <i ng-if="!coupon.brandLogo && !coupon.available" class="icon-svg-ml coupons-default"></i>\n                        <i ng-if="!coupon.brandLogo && coupon.available" class="icon-svg-ml coupons-pos"></i>\n                        <img ng-if="coupon.brandLogo" ng-src="{{coupon.brandLogo.small.url}}" alt="{{coupon.descriptionData.shortTitle}}">\n                        <p class="didascalia" ng-if="coupon.expiration.date">\n                            <span translate>to</span>\n                            {{coupon.expiration.date | date: \'d MMM\'}}\n                        </p>\n                    </div>\n\n                    <div class="coupon-info">\n                        <div>\n                            <p class="formatted-price">\n                                {{coupon.descriptionData.caption.amount}} <span class="currency" translate>USD</span>\n                            </p>\n                            <p><strong>{{coupon.descriptionData.title}}</strong></p>\n                        </div>\n\n                        <p class="didascalia">{{coupon.descriptionData.shortTitle}}</p>\n\n                    </div>\n                </button>\n                <p\n                    ng-if="$ctrl.isCouponSelected(coupon) && coupon.descriptionData && coupon.descriptionData.regulationUrl && !coupon.descriptionData.chargeMessage"\n                    class="didascalia coupon-didascalia">\n                    <translate>By selecting this coupon you accept</translate>\n                    <a\n                        target="_blank"\n                        class="coupon-regulations"\n                        ng-href="{{coupon.descriptionData.regulationUrl}}"\n                        translate>\n                        regulations\n                    </a>\n                </p>\n                <p class="didascalia coupon-didascalia" ng-if="$ctrl.isCouponSelected(coupon) && coupon.descriptionData.chargeMessage">\n                    <translate>This coupon costs PLN 0.20. The fee will be added to your Allegro bill after the purchase.</translate>\n                </p>\n                <p class="didascalia coupon-didascalia" ng-if="$ctrl.isCouponDisabled(coupon)">{{coupon.descriptionData.disabledReason}}</p>\n            </div>\n\n        </div>\n    </div>\n</div>\n'),e.put("components/discountCoupons/defaultCoupon/defaultCoupon.html",'<button uib-popover-template="\'components/discountCoupons/defaultCoupon/discountCouponPopover.html\'"\n        ng-click="$ctrl.clearDefaultCoupon()"\n        popover-is-open="$ctrl.isPopoverShown"\n        popover-placement="bottom"\n        popover-trigger="\'outsideClick\'"\n        popover-animation="false"\n        ng-class="{selected: $ctrl.parent.isCouponSelected($ctrl.defaultCoupon)}"\n        class="coupon-btn">\n    <div class="coupon-tile">\n        <div class="coupon-brand">\n            <i ng-if="!$ctrl.defaultCoupon.brandLogo" class="icon-svg-ml coupons-pos"></i>\n            <img ng-if="$ctrl.defaultCoupon.brandLogo" ng-src="{{$ctrl.defaultCoupon.brandLogo.small.url}}" alt="{{$ctrl.defaultCoupon.descriptionData.shortTitle}}">\n            <p class="didascalia" ng-if="$ctrl.defaultCoupon.expiration.date">\n                <span translate>to</span>\n                {{$ctrl.defaultCoupon.expiration.date | date: \'d MMM\'}}\n            </p>\n        </div>\n\n        <div class="coupon-info-default" ng-if="!$ctrl.parent.isCouponSelected($ctrl.defaultCoupon)">\n            <p><strong translate>Have a code or gift card?</strong></p>\n            <p class="didascalia" translate>Select this coupon and enter the code.</p>\n        </div>\n\n        <div class="coupon-info" ng-if="$ctrl.parent.isCouponSelected($ctrl.defaultCoupon)">\n            <div>\n                <p class="formatted-price">\n                    {{$ctrl.defaultCoupon.descriptionData.caption.amount}} <span class="currency" translate>USD</span>\n                </p>\n                <p><strong>{{$ctrl.defaultCoupon.descriptionData.shortTitle}}</strong></p>\n            </div>\n\n            <p class="didascalia">{{$ctrl.defaultCoupon.descriptionData.title}}</p>\n            <p class="change-coupon" translate>change</p>\n        </div>\n    </div>\n</button>\n\n<p class="didascalia coupon-didascalia"\n    ng-if="$ctrl.parent.isCouponSelected($ctrl.defaultCoupon)">\n    <translate>This coupon costs PLN 0.20. The fee will be added to your Allegro bill after the purchase.</translate>\n</p>\n'),e.put("components/discountCoupons/defaultCoupon/discountCouponPopover.html",'<div class="discounts-popover">\n    <div class="form-group">\n\n        <input\n            type="text" class="form-control" id="coupon-code"\n            title="{{\'Enter the code\' | translate}}" ng-keypress="$ctrl.setCouponAfterKeyPress($event)"\n            placeholder="{{\'Enter the code\' | translate}}" name="bearerCode" ng-model="$ctrl.bearerCode" required>\n\n        <div class="validation-message in" ng-if="$ctrl.statusCode">\n            <div ng-if="$ctrl.isValidationError">{{$ctrl.validationMessage}}</div>\n            <div ng-if="$ctrl.isInternalServerError" translate>Server error. Click again "confirm"</div>\n        </div>\n    </div>\n\n    <div class="form-group fb">\n        <button type="button" ng-click="$ctrl.closePopover()" class="btn btn-link" translate>cancel</button>\n        <button type="button" ng-click="$ctrl.setCouponFromPopover()"\n                ng-disabled="!$ctrl.bearerCode" class="btn btn-primary pull-right" translate>confirm</button>\n    </div>\n\n</div>\n')}]),function(){"use strict";angular.module("discountCoupons",["ui.bootstrap","gettext","customError","discountsTemplates","paymentsMethods","ng-analytics","ngStorage"])}(),function(){"use strict";function n(n){function o(){r.payments&&r.payments.discounts&&Array.isArray(r.payments.discounts)&&r.payments.discounts.some(function(e){if(e.showInput)return r.defaultCoupon=e,!0})}function e(){r.bearerCode=null,r.statusCode=null,r.isValidationError=null,r.isInternalServerError=null}function t(e){13===e.which&&a()}function a(){var t=r.parent.returnSelectedDiscountCoupon();t&&(t[0].type="marketingCode"),n.updateSelectedMethod(r.paymentId,r.payments.selectedMethod,t).then(function(t){t.data.discount=t.data.discount||{},t.data.discount.discounts=t.data.discount.discounts||[],t.data.selectedDiscounts=t.data.selectedDiscounts||[],r.payments.discounts=t.data.discount.discounts,r.payments.selectedDiscounts=t.data.selectedDiscounts,r.defaultCoupon={},e(),o()},function(e){r.isPopoverShown=!0,r.isValidationError=422===e.status||404===e.status,r.isInternalServerError=500===e.status,r.statusCode=r.isValidationError||r.isInternalServerError,r.validationMessage=e.data.errors[0].userMessage}),s()}function s(){r.isPopoverShown=!1}var r=this;r.clearDefaultCoupon=e,r.setCouponAfterKeyPress=t,r.setCouponFromPopover=a,r.closePopover=s,o()}n.$inject=["PaymentsMethodsService"],angular.module("discountCoupons").controller("DefaultCouponController",n)}(),function(){"use strict";angular.module("discountCoupons").component("defaultCoupon",{controller:"DefaultCouponController",templateUrl:"components/discountCoupons/defaultCoupon/defaultCoupon.html",require:{parent:"^discountCoupons"},bindings:{payments:"=",paymentId:"<",defaultCoupon:"=",bearerCode:"="}})}(),function(){"use strict";function n(){function n(e){return!!(e&&Array.isArray(e.selectedDiscounts)&&e.selectedDiscounts.length)}return{selectedDiscountIsArray:n}}angular.module("discountCoupons").factory("DiscountCouponsService",n)}(),function(){"use strict";function n(e,n,o){function t(e){return!(!e||!n.selectedDiscountIsArray(r.payments))&&r.payments.selectedDiscounts[0].id===e.id}function a(e){return!e.available}function s(e){t(e)?(r.payments.selectedDiscounts[0].id=null,r.bearerCode=null,r.discountType=null):(r.bearerCode=e.id,r.discountType=e.type),i()}function c(){return r.bearerCode?[{id:r.bearerCode,type:r.discountType,value:null}]:[]}function i(){o.updateSelectedMethod(r.paymentId,r.payments.selectedMethod,c()).then(function(e){e.data.discount=e.data.discount||{},e.data.discount.discounts=e.data.discount.discounts||[],e.data.selectedDiscounts=e.data.selectedDiscounts||[],r.payments.discounts=e.data.discount.discounts,r.payments.selectedDiscounts=e.data.selectedDiscounts,r.defaultCoupon={}},function(e){r.validationMessage=e.data.errors[0].userMessage})}var r=this;r.defaultCoupon={},r.discountType=null,r.isCouponSelected=t,r.isCouponDisabled=a,r.toggleCoupon=s,r.returnSelectedDiscountCoupon=c,e.setAppLocale(r.locale)}n.$inject=["AppConfig","DiscountCouponsService","PaymentsMethodsService"],angular.module("discountCoupons").controller("DiscountCouponsController",n)}(),function(){"use strict";angular.module("discountCoupons").component("discountCoupons",{controller:"DiscountCouponsController",templateUrl:"components/discountCoupons/discountCoupons.html",bindings:{payments:"<",paymentId:"<",selectedDiscounts:"<",locale:"<"}})}(),function(){"use strict";function n(){function n(){return e.payments&&e.payments.selectedDiscounts&&e.payments.selectedDiscounts.length&&e.payments.selectedDiscounts[0].additionalMessage}function o(){return e.payments&&e.payments.selectedDiscounts&&e.payments.selectedDiscounts.length?e.payments.selectedDiscounts[0].regulationUrl:null}var e=this;e.isDiscountChargeable=n,e.getRegulationUrl=o}angular.module("discountCoupons").controller("ChargeMessageController",n)}(),function(){"use strict";angular.module("discountCoupons").component("chargeMessage",{controller:"ChargeMessageController",templateUrl:"components/chargeMessage/chargeMessage.html",bindings:{payments:"<"}})}(),function(){"use strict";angular.module("discountCoupons").component("bannerCoins",{templateUrl:"components/bannerCoins/bannerCoins.html"})}(),angular.module("gettext").run(["gettextCatalog",function(e){e.setStrings("cs",{"Enter the code":"Enter coupon code - Vložte kód","Have a code or gift card?":"Máte kód nebo dárkovou kartu?","Select this coupon and enter the code.":"Vyberte tento kupón a vložte kód",'Server error. Click again "confirm"':'Chyba serveru. Dalším klepnutím na tlačítko "potvrdil"',USD:"CZK",cancel:"Zrušit",change:"změnit",confirm:"Potvrdit",coupons:"kupóny",to:"na"})}]),angular.module("gettext").run(["gettextCatalog",function(e){e.setStrings("pl",{"After the purchase, the coupon fee (PLN 0.20) will be added to your Allegro bill.":"Po zapłacie za zakupy, doliczymy opłatę (20 groszy) za kupon do Twojego rachunku Allegro.","By proceeding, you agree to":"Klikając akceptujesz","By selecting this coupon you accept":"Wybierając kupon akceptujesz","Enter the code":"wpisz kod kuponu","Exchange coins to coupons.":"Wymieniaj monety na kupon.","Have a code or gift card?":"Masz kod lub kartę podarunkową?","Select this coupon and enter the code.":"Wybierz ten kupon, a następnie wprowadź kod.",'Server error. Click again "confirm"':'Błąd serwera. Kliknij ponownie "zatwierdź”',"This coupon costs PLN 0.20. The fee will be added to your Allegro bill after the purchase.":"Ten kupon kosztuje 20 groszy. Po zakupie doliczymy je do Twojego rachunku Allegro.",USD:"PLN","You want to pay less for shopping?":"Chcesz płacić mniej za zakupy?",cancel:"anuluj",change:"zmień",confirm:"zatwierdź",coupons:"kupony",regulations:"warunki regulaminu","the terms and conditions of the coupon campaign":"warunki promocji kuponowej",to:"do"})}])},241:function(e,t){angular.module("pmTemplates",[]).run(["$templateCache",function(e){e.put("directives/paymentsMethods.html",'<ng-form name="payments" payments-methods-validator class="form-horizontal alle-form clearfix" accept-charset="utf-8">\n\n    <div ng-if="!pm.methodsLoaded" class="loader-wrapper">\n        <div class="spinner spinner-medium"></div>\n    </div>\n\n    <div ng-if="pm.methodsLoaded">\n        <payment-methods-vela></payment-methods-vela>\n    </div>\n\n    <div class="payments-validation-message validation-message in"\n         ng-if="pm.methodsLoaded && payments.$error.required[0].$dirty && payments.$invalid">\n        <div translate>select payment method</div>\n    </div>\n\n</ng-form>\n'),e.put("directives/paymentsMethodsSummary.html",'<div ng-if="!pm.methodsLoaded" class="loader-wrapper">\n    <div class="spinner spinner-medium"></div>\n</div>\n<section ng-if="pm.methodsLoaded" class="payments-summary-section">\n    <p ng-if="!pm.isMethodSelected()" translate>No payment method has been selected.</p>\n\n    <div class="flex-summary" ng-if="pm.isMethodSelected()">\n\n        <div>\n            <img ng-if="pm.payments.selectedMethod.imgUrl"\n                 alt="{{pm.payments.selectedMethod.name}}"\n                 ng-src="{{pm.payments.selectedMethod.imgUrl}}">\n            <i ng-if="pm.payments.selectedMethod.group === \'OFFLINE\'" class="icon-svg-lg wire-transfer-default"></i>\n            <i ng-if="pm.payments.selectedMethod.newCard" class="logo-cc {{(pm.payments.selectedMethod.name | creditCardsLogoFilter).logoClass}}"></i>\n        </div>\n\n        <div ng-class="{\'cut-text\': pm.payments.selectedMethod.token}" title="{{pm.payments.selectedMethod.description}}">\n            <span ng-if="pm.payments.selectedMethod.group !== \'STORED_CARD\'">\n                {{pm.payments.selectedMethod.description}}\n            </span>\n\n            <p ng-if="!pm.payments.selectedMethod.token || !pm.payments.selectedMethod.params.token" class="didascalia nowrap cut-text" title="{{pm.payments.selectedMethod.name}}">\n               {{pm.payments.selectedMethod.name}}\n            </p>\n        </div>\n\n        <div ng-if="pm.summaryShowBackUrl">(<a ng-href="{{pm.summaryBackUrl}}" translate>change</a>)</div>\n    </div>\n</section>\n'),e.put("directives/paymentsMethodsVela.html",'<div class="row">\n    <div class="col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-3 col-sm-9">\n\n        <div class="payments-section" ng-if="pm.hasPayuMethods">\n            <span class="my-payments-label"></span>\n            <banner promotions="pm.payments.coins.promotions"></banner>\n            <div class="flex-tiles">\n                <pay-by-links></pay-by-links>\n                <credit-cards></credit-cards>\n                <installments></installments>\n                <blik payment-id="pm.paymentId" payments="pm.payments" method-changed="pm.methodChanged"></blik>\n            </div>\n\n            <div class="secure-payment" translate>Secure payment <i class="secure-payment-icons"></i></div>\n        </div>\n\n        <wire-transfer payment-id="pm.paymentId" payments="pm.payments" method-changed="pm.methodChanged"></wire-transfer>\n    </div>\n</div>\n'),e.put("components/switchPaymentMethodProvider/switchPaymentMethodProvider.html",'<div class="switch-provider" ng-if="!$ctrl.isAvailableMethodWithProvider">\n    <p><translate>The payment is processed by</translate>\n        <span ng-if="$ctrl.selectedProviderIsPayU">PayU.</span>\n        <span ng-if="!$ctrl.selectedProviderIsPayU">Przelewy24.</span>\n        <button ng-if="$ctrl.isMoreThanOneProvider"\n            ng-disabled="$ctrl.loading" ng-click="$ctrl.toggleProvider()" class="btn btn-link" translate>Change operator.</button>\n        <i ng-if="$ctrl.loading" class="spinner"></i>\n    </p>\n    <p class="didascalia" ng-if="!$ctrl.selectedProviderIsPayU">\n        <translate>Should you proceed, you accept <a href="https://allegro.pl/regulamin/zalacznik_7b" target="_blank">the terms</a> and conditions of the service.</translate>\n    </p>\n</div>\n'),e.put("components/thankYouPage/blikRecover.html",'<div class="blik-recover"></div>\n'),e.put("directives/creditCards/creditCards.html",'<button\n    type="button"\n    id="credit-card-btn"\n    class="credit-card-btn"\n    ng-if="creditCard.isMethodAvailable()"\n    ng-class="{\'selected\': creditCard.isMethodSelected()}"\n    ng-click="creditCard.openModal()"\n    ng-disabled="creditCard.isMethodDisabled()"\n    popover-enable="!creditCard.methodListStatusPopover"\n    uib-popover-template="creditCard.templateUrl"\n    popover-trigger="outsideClick"\n    popover-append-to-body="true"\n    >\n    <div ng-if="creditCard.showBannerForCreditCard()" class="banner-part"></div>\n    <div ng-if="creditCard.isMethodSaving()" class="tile-loader-wrapper">\n        <div class="flex-tile">\n            <div class="spinner spinner-medium"></div>\n        </div>\n    </div>\n\n    <div ng-if="!creditCard.isMethodSaving()">\n        <div class="flex-tile">\n            <div>\n                <translate>payment card</translate>\n                <div class="didascalia" ng-show="creditCard.isMethodSelected()">{{pm.payments.selectedMethod.name}}</div>\n            </div>\n            <i class="flex-order" ng-hide="creditCard.isMethodSelected()" ng-class="creditCard.getCreditCardLogo()"></i>\n            <img class="flex-order" ng-show="creditCard.isMethodSelected()" ng-src="{{pm.payments.selectedMethod.imgUrl}}" alt="">\n            <i ng-if="pm.payments.selectedMethod.newCard" class="logo-cc {{(pm.payments.selectedMethod.name | creditCardsLogoFilter).logoClass}}"></i>\n            <div class="change" ng-show="creditCard.isMethodSelected()" translate>change</div>\n        </div>\n    </div>\n</button>\n'),e.put("directives/creditCards/creditCardsForm.html",'<div class="payu-widget-form">\n    <div class="spinner spinner-medium"></div>\n    <div id="payu-widget" class="payu-widget"></div>\n</div>\n'),e.put("directives/creditCards/creditCardsModal.html",'<div class="modal-header">\n    <button class="btn-close" type="button" ng-click="modal.close()">\n        <i class="icon-back"></i>\n        <translate>return to payment methods</translate>\n    </button>\n</div>\n\n<div class="modal-body flex-credit-cards">\n\n    <section class="credit-card-list" ng-if="!modal.isGuest">\n        <h3 translate>saved cards</h3>\n\n        <div class="watermark" ng-if="!modal.creditCards.length">\n            <h3 translate>Payment card list is empty.</h3>\n            <span translate>Pay by card and save it - you do not have to fill in your details next time you shop.</span>\n        </div>\n\n        <div ng-repeat="creditCard in modal.creditCards track by $index">\n            <button\n                class="credit-card"\n                type="button"\n                ng-click="modal.setSavedCard(creditCard)"\n                ng-disabled="!creditCard.enabled"\n                ng-class="{\'selected\' : modal.isCreditCardSelected(creditCard)}">\n                <img ng-src="{{creditCard.imgUrl}}" alt="">\n                <span>{{creditCard.name}}</span>\n            </button>\n        </div>\n    </section>\n\n    <section class="credit-card-form">\n        <h3 translate>new payment card</h3>\n        <credit-cards-form\n            modal="modal"\n            locale="modal.locale"\n            credit-card-method-channel="modal.creditCardMethodChannel"\n            is-guest="modal.isGuest">\n        </credit-cards-form>\n    </section>\n\n</div>\n\n<div class="modal-footer"></div>\n'),e.put("directives/creditCards/methodListStatus.html",'<h3 class="popover-title" translate>Problem with selected payment method</h3>\n<div class="popover-content">\n    <p translate>Due to technical reasons, selected payment method is currently unavailable.</p>\n    <p translate>Try again later or select a quick transfer.</p>\n</div>\n'),e.put("directives/cvvConfirmation/cvvConfirmation.html",'<div class="payu-widget-form">\n    <div class="spinner spinner-medium"></div>\n    <div id="payu-widget" class="payu-widget"></div>\n</div>\n'),e.put("directives/installments/installments.html",'<button\n    type="button"\n    id="installments-btn"\n    ng-if="installments.isMethodAvailable()"\n    ng-class="{\'selected\' : installments.isSelected()}"\n    ng-click="installments.selectInstallments()"\n    ng-disabled="installments.isMethodDisabled()">\n\n    <div ng-if="installments.isMethodSaving()" class="tile-loader-wrapper">\n        <div class="flex-tile">\n            <div class="spinner spinner-medium"></div>\n        </div>\n    </div>\n\n    <div ng-if="!installments.isMethodSaving()">\n        <div class="flex-tile">\n            <div translate>installments</div>\n            <i class="icon-svg-ml installments-standard flex-order"></i>\n        </div>\n    </div>\n</button>\n'),e.put("directives/installments/installmentsModal.html",'<div class="modal-header">\n    <button class="btn-close" type="button" ng-click="modal.close()">\n        <i class="icon-back"></i>\n        <translate>return to payment methods</translate>\n    </button>\n</div>\n<div class="modal-body">\n    <p translate>\n        To pay in instalments, the total price of items collected in your cart <strong>must be between 300 and 20 000</strong>.<br>Edit your cart or select other payment method.\n    </p>\n</div>\n<div class="modal-footer">\n    <a href="/cart" class="btn btn-link" translate>back to cart</a>\n    <button class="btn btn-primary" ng-click="modal.close()" translate>ok, I understand</button>\n</div>\n'),e.put("directives/installmentsAgreement/installmentsAgreement.html",'<section class="installment-agreement-notice didascalia" ng-if="installmentsAgreement.showAgreementNotice(installmentsAgreement.payments)">\n    <p translate>shortAgreementText</p>\n    <p ng-if="installmentsAgreement.showFullNotice" translate>longAgreementText</p>\n    <button class="btn btn-link btn-installment-agreement-notice" ng-click="installmentsAgreement.toggleFullNotice()">\n        <span ng-if="installmentsAgreement.showFullNotice" translate>less</span>\n        <span ng-if="!installmentsAgreement.showFullNotice" translate>more</span>\n    </button>\n</section>\n'),e.put("directives/payByLinks/payByLinks.html",'<button\n    type="button"\n    id="pay-by-links-btn"\n    ng-if="pbl.isMethodAvailable()"\n    ng-class="{\'selected\' : pbl.isMethodSelected()}"\n    ng-click="pbl.openModal()"\n    ng-disabled="pbl.isMethodDisabled()">\n\n    <div ng-if="pbl.isMethodSaving()" class="tile-loader-wrapper">\n        <div class="flex-tile">\n            <div class="spinner spinner-medium"></div>\n        </div>\n    </div>\n\n    <div ng-if="!pbl.isMethodSaving()">\n        <div class="flex-tile" ng-hide="pbl.isMethodSelected()">\n            <div translate>transfer</div>\n            <i class="icon-svg-ml transfer-standard flex-order"></i>\n        </div>\n\n        <div class="flex-tile" ng-show="pbl.isMethodSelected()">\n            <div ng-class="{\'cut-text\': pm.payments.selectedMethod.token}" title="{{pm.payments.selectedMethod.description}}">\n                {{pm.payments.selectedMethod.description}}\n                <div ng-hide="!pm.payments.selectedMethod.token" class="didascalia nowrap">\n                    {{pm.payments.selectedMethod.name}}\n                </div>\n            </div>\n\n            <div class="flex-order">\n                <img alt="{{pm.payments.selectedMethod.name}}" ng-src="{{pm.payments.selectedMethod.imgUrl}}">\n            </div>\n            <div class="change" translate>change</div>\n        </div>\n    </div>\n</button>\n'),e.put("directives/payByLinks/payByLinksModal.html",'<header class="modal-header">\n    <button class="btn-close" type="button" ng-click="modal.close()">\n        <i class="icon-back"></i>\n        <translate>return to payment methods</translate>\n    </button>\n</header>\n<section class="modal-body">\n\n    <h4 class="section-title" ng-if="modal.payuExpressMethods.length">PayU Express</h4>\n    <div class="flex-tiles payment-methods-list">\n        <button\n            type="button"\n            tabindex="0"\n            ng-repeat="payuExpressMethod in modal.payuExpressMethods track by $index"\n            ng-disabled="!payuExpressMethod.enabled"\n            ng-class="{\'selected\' : modal.isPaymentSelected(payuExpressMethod)}"\n            data-dismiss="modal"\n            ng-click="modal.getPayuExpressMethod(payuExpressMethod)">\n            <div class="flex-tile">\n                <div><img alt="{{payuExpressMethod.description}}" ng-src="{{payuExpressMethod.imgUrl}}"></div>\n                <div class="cut-text" title="{{payuExpressMethod.description}}">\n                    {{payuExpressMethod.description}}\n                    <div class="didascalia nowrap">{{payuExpressMethod.name}}</div>\n                </div>\n            </div>\n        </button>\n    </div>\n\n    <h4 class="section-title" ng-if="modal.payByLinkMethods.length" translate>Bank Transfers</h4>\n    <div class="flex-tiles payment-methods-list">\n        <button\n            type="button"\n            tabindex="0"\n            id="{{payByLink.methodId}}-btn"\n            ng-repeat="payByLink in modal.payByLinkMethods track by $index"\n            ng-disabled="!payByLink.enabled"\n            ng-class="{\'selected\' : modal.isPaymentSelected(payByLink)}"\n            data-dismiss="modal"\n            ng-click="modal.getPayByLinkMethod(payByLink)">\n            <div class="flex-tile">\n                <div><img alt="{{payByLink.description}}" ng-src="{{payByLink.imgUrl}}"></div>\n                <div>{{payByLink.description}}</div>\n            </div>\n        </button>\n    </div>\n</section>\n<footer class="modal-footer"></footer>\n'),e.put("components/blik/blikConfirm/blikConfirm.html",'<section class="blik-code-section" id="blik-code-section" ng-if="$ctrl.isBlikCodeRequired">\n    <button class="btn btn-link" ng-click="$ctrl.showTutorial()">\n        <span translate>How to generate the code?</span>\n        <i class="icon-svg help-neg"></i>\n    </button>\n\n    <div>\n        <label for="blik-code" translate> generate and enter Blik code</label>\n        <input type="text" ui-mask="999999" pattern="\\d*" id="blik-code" ng-model="$ctrl.selectedMethod.params.token" class="form-control">\n    </div>\n</section>\n'),e.put("components/blik/blikConfirm/blikConfirmModal.html",'<header class="modal-header">\n    <button class="btn-close" type="button" ng-click="$ctrl.closeModal()"></button>\n    <h4 translate>how to generate the Blik code?</h4>\n</header>\n<section class="modal-body blik-tutorial-content">\n    <ol>\n        <li>\n            <span translate>To enjoy Blik payments, you need to have one of the following apps.</span>\n            <span class="blik-banks-tutorial"></span>\n        </li>\n    </ol>\n    <ol start="2">\n        <li translate>Run the app and select "Blik payment".</li>\n        <li>\n            <span translate>You will receive a 6-digit code that is valid for 2 minutes. Enter the code in a proper field.</span>\n            <span class="blik-phone-tutorial"></span>\n        </li>\n    </ol>\n</section>\n<footer class="modal-footer"></footer>\n'),e.put("components/blik/toggleBlikAlias/toggleBlikAlias.html",'<section class="change-blik-method" ng-if="$ctrl.isEnabled">\n    <p ng-if="$ctrl.isSelectedAliasMethod">\n        <translate>BLIK code is not required.</translate>\n        <button class="btn btn-link text-transform"\n                ng-disabled="$ctrl.loading"\n                ng-click="$ctrl.toggleBlikConfirm()" translate>Change to payment with code.</button>\n        <i ng-if="$ctrl.loading" class="spinner"></i>\n    </p>\n\n    <p ng-if="!$ctrl.isSelectedAliasMethod">\n        <button class="btn btn-link text-transform"\n                ng-disabled="$ctrl.loading"\n                ng-click="$ctrl.toggleBlikConfirm()" translate>Change to BLIK payment without code.</button>\n        <i ng-if="$ctrl.loading" class="spinner"></i>\n    </p>\n</section>\n\n'),e.put("components/installments/installmentsButton/installmentsButton.html",'<button type="button"\n        ng-if="$ctrl.installments.available"\n        id="add-to-cart-promo-installment-btn"\n        class="btn btn-default btn-installments"\n        ng-click="$ctrl.onInstallmentButtonClicked()">\n    <span ng-if="!$ctrl.installments.availableZero" translate>buy in installments</span>\n    <span ng-if="$ctrl.installments.availableZero" translate>buy in 0% installments</span>\n</button>\n'),e.put("components/installments/installmentsCalculator/installmentsCalculator.html",'<section class="installments" ng-if="$ctrl.installments.available">\n    <div class="installments-calculator">\n        <p ng-if="!$ctrl.installments.availableZero"translate>Pay in installments.</p>\n        <p ng-if="$ctrl.installments.availableZero">\n            <translate>Pay in</translate>\n            <img class="zero-badge" src="https://contests.allegrostatic.com/installments/raty_0.svg" alt="{{::\'0% installments\' | translate}}">\n        </p>\n\n        <div class="installments-caption" translate>Your installment plan</div>\n\n        <p>\n            <strong class="installments-quantity">{{$ctrl.installments.example.period}}</strong>\n            <translate translate-n="$ctrl.installments.example.period" translate-plural="installments">1 installment</translate> x\n            <strong class="installments-payment">{{$ctrl.installments.example.installment.amount | currency}}</strong>\n        </p>\n\n        <p translate>Calculation includes delivery fee.</p>\n        <button class="btn btn-link representative-btn" ng-click="$ctrl.openModal()" translate>representative example</button>\n    </div>\n\n    <div class="representative-text">\n        <p class="didascalia">{{$ctrl.installments.representativeExample}}</p>\n    </div>\n</section>\n'),e.put("components/installments/installmentsCalculator/installmentsRepresentativeModal.html",'<header class="modal-header">\n    <button class="btn-close" type="button" ng-click="$ctrl.closeModal()"></button>\n    <h4 translate>representative example</h4>\n</header>\n<section class="modal-body blik-tutorial-content">\n    <p class="didascalia">{{$ctrl.representativeExample}}</p>\n</section>\n<footer class="modal-footer"></footer>\n'),e.put("components/payments/banner/banner.html",'<section ng-if="$ctrl.banner.show" class="banner">\n\n    <p class="banner-text">\n        <span class="banner-image banner-image-visa"></span>{{$ctrl.banner.textBeforeLink}}\n        <a ng-if="$ctrl.banner.textLink" ng-href="{{$ctrl.banner.urlLink}}"> {{$ctrl.banner.textLink}} </a>{{$ctrl.banner.textAfterLink}}\n        <span class="banner-image banner-image-coins"></span>\n    </p>\n\n</section>\n'),e.put("components/payments/methods/blik/blik.html",'<button type="button" id="blik-btn" ng-if="$ctrl.isMethodAvailable()" ng-class="{\'selected\': $ctrl.isMethodSelected()}" ng-click="$ctrl.selectBlik()"\n    ng-disabled="$ctrl.isMethodDisabled()">\n    <div ng-if="$ctrl.isMethodSaving()" class="tile-loader-wrapper">\n        <div class="flex-tile">\n            <div class="spinner spinner-medium"></div>\n        </div>\n    </div>\n\n    <div ng-if="!$ctrl.isMethodSaving()">\n        <div class="flex-tile" ng-hide="$ctrl.isMethodSelected()">\n            <div>{{$ctrl.methodData.name | uppercase}}</div>\n            <i class="icon-svg-ml payu-mobile flex-order"></i>\n        </div>\n\n        <div class="flex-tile" ng-show="$ctrl.isMethodSelected()">\n            <div title="{{$ctrl.methodData.description}}">{{$ctrl.methodData.name | uppercase}}</div>\n            <div class="flex-order">\n                <img alt="{{$ctrl.methodData.name}}" ng-src="{{$ctrl.methodData.imgUrl}}">\n            </div>\n        </div>\n    </div>\n</button>\n'),e.put("components/payments/methods/wireTransfer/wireTransfer.html",'<div class="wire-transfer" ng-if="$ctrl.isMethodAvailable()">\n\n    <label class="checkbox">\n        <input type="radio"\n               id="wire-transfer-radio"\n               name="wireTransfer"\n               ng-click="$ctrl.selectWireTransfer()"\n               ng-checked="$ctrl.isMethodSelected()">\n        <span translate>wire transfer outside Allegro</span>\n        <span class="didascalia" translate>(dispatch of products may be delayed by up to 3 days)</span>\n    </label>\n</div>\n')}]),function(){"use strict";angular.module("paymentsMethods.wireTransfer",[]).component("wireTransfer",{templateUrl:"components/payments/methods/wireTransfer/wireTransfer.html",controller:"WireTransferController",bindings:{paymentId:"<",payments:"<",methodChanged:"="}})}(),function(){"use strict";function e(e,t){function n(){return i.methodChanged===l}function a(){return!1!==i.methodChanged}function s(){return!(!i.payments.selectedMethod||!i.payments.selectedMethod.group)&&i.payments.selectedMethod.group===e.getConfig().OFFLINE_GROUP_NAME}function o(){var e=i.payments.availableMethods;return t.getWireTransferMethods(e).length>0}function r(){var e=t.getWireTransferMethods(i.payments.availableMethods);i.payments.selectedMethod=e[0],i.methodChanged=l}var i=this,l="OFFLINE";i.isMethodSaving=n,i.isMethodDisabled=a,i.isMethodSelected=s,i.isMethodAvailable=o,i.selectWireTransfer=r,i.methodData=function(){if(o()){var e=i.payments.availableMethods;return t.getWireTransferMethods(e)[0]}return null}()}e.$inject=["AppConfig","PaymentsMethodsService"],angular.module("paymentsMethods.wireTransfer").controller("WireTransferController",e)}(),function(){"use strict";angular.module("paymentsMethods.blik",[]).component("blik",{templateUrl:"components/payments/methods/blik/blik.html",controller:"BlikController",bindings:{paymentId:"<",payments:"<",methodChanged:"="}})}(),function(){"use strict";function e(e,t){function n(){return r.methodChanged===d}function a(){return!(r.methodData&&r.methodData.enabled)}function s(){return r.payments.selectedMethod&&r.payments.selectedMethod.group===d&&r.methodData&&r.methodData.enabled}function o(){return!!r.methodData}function i(){r.payments.selectedMethod=l.blikAlias||l.blik,r.methodChanged=d}var r=this,l={},d=e.getConfig().BLIK;r.isMethodSaving=n,r.isMethodDisabled=a,r.isMethodSelected=s,r.isMethodAvailable=o,r.selectBlik=i,r.methodData=null,r.$onChanges=function(){l=t.extractEnabledMethods(r.payments.availableMethods),r.methodData=l.blikAlias||l.blik||t.findAny(r.payments.availableMethods)}}e.$inject=["AppConfig","BlikService"],angular.module("paymentsMethods.blik").controller("BlikController",e)}(),function(){"use strict";var e=["ui.bootstrap","ui.mask","pmTemplates","ngMessages","gettext","customError","ng-analytics","ngStorage","paymentsMethods.creditCards","paymentsMethods.cvv","paymentsMethods.installments","paymentsMethods.payByLinks","paymentsMethods.blik","paymentsMethods.wireTransfer"];angular.module("paymentsMethods",e)}(),function(){"use strict";function e(){var e=this;e.banner={show:!1,textBeforeLink:"",textLink:"",urlLink:"",textAfterLink:""},e.promotions&&function(){e.promotions=e.promotions||[],e.promotions.forEach(function(t){switch(t.id){case"2017-12-04_VISA":e.banner={show:!0,textBeforeLink:"Zapłać kartą Visa, a{nbsp}dostaniesz za ten zakup 2{nbsp}x{nbsp}więcej Monet".split("{nbsp}").join(" ")}}})}()}angular.module("paymentsMethods").controller("BannerController",e)}(),function(){"use strict";angular.module("paymentsMethods").component("banner",{templateUrl:"components/payments/banner/banner.html",controller:"BannerController",bindings:{promotions:"<"}})}(),function(){"use strict";function e(e,t,n){function a(){e.close()}var o=this;o.availableZero=t,o.representativeExample=n,o.closeModal=a}e.$inject=["$uibModalInstance","availableZero","representativeExample"],angular.module("paymentsMethods").controller("InstallmentsRepresentativeModalController",e)}(),function(){"use strict";function e(e,t,n){function a(e,t){function a(e){e&&(s(e)||i(e)||r(e))?(o.installments=e,o.onInstallmentsChange({installmentsData:e})):l()}function s(e){return"INSTALLMENT"===e.mode}function i(e){return"LEASING"===e.mode&&e.leasing}function r(e){return"NONE"===e.mode}function l(){o.installments=null}return n.getInstallmentsByPurchase(e,t).then(a,l)}function s(){e.open({templateUrl:"components/installments/installmentsCalculator/installmentsRepresentativeModal.html",controller:"InstallmentsRepresentativeModalController",controllerAs:"$ctrl",backdrop:!0,resolve:{availableZero:function(){return o.installments.availableZero},representativeExample:function(){return o.installments.representativeExample}}})}var o=this;o.openModal=s,t.setAppDomain(o.domainApi),t.setAppEnvironment(o.env),o.$onChanges=function(e){e.deliveryCheapestPrice&&void 0!==e.deliveryCheapestPrice.currentValue&&a(o.purchase,e.deliveryCheapestPrice.currentValue)}}e.$inject=["$uibModal","AppConfig","InstallmentsService"],angular.module("paymentsMethods").controller("InstallmentsCalculatorController",e)}(),function(){"use strict";angular.module("paymentsMethods").component("installmentsCalculator",{templateUrl:"components/installments/installmentsCalculator/installmentsCalculator.html",controller:"InstallmentsCalculatorController",bindings:{purchase:"<",env:"<",domainApi:"<",deliveryCheapestPrice:"<",onInstallmentsChange:"&"}})}(),function(){"use strict";function e(e,t,n,o,a){var r,s=this,i=t.getConfig().BLIK,l=t.getConfig().BLIK_METHOD_ALIAS,d=t.getConfig().BLIK_METHOD;s.loading=!1,s.$onChanges=function(){r=n.extractEnabledMethods(s.availableMethods),s.selectedMethod&&(r.blik||r.blikAlias)?(s.isEnabled=s.selectedMethod.group===i&&r.blikAlias,s.isSelectedAliasMethod=s.selectedMethod.methodId===l):(s.isEnabled=!1,s.isSelectedAliasMethod=!1)},s.toggleBlikConfirm=function(){var t;s.loading=!0,s.onToggleBlikMode({$event:{isUpdated:s.loading}}),s.payments.selectedMethod.methodId===l?t=r.blik:s.payments.selectedMethod.methodId===d&&(t=r.blikAlias),o.updateSelectedMethod(s.paymentId,t,s.payments.selectedDiscounts).then(function(e){s.loading=!1,s.onToggleBlikMode({$event:{isUpdated:s.loading}}),s.isSelectedAliasMethod=e.data.selectedMethods[0].methodId===l,s.payments.selectedMethod=o.getSelectedMethod(e.data),a.publishPaymentChangeBlikMethodOnSummary(s.purchaseId,e.data)},function(){e.location.reload()})}}e.$inject=["$window","AppConfig","BlikService","PaymentsMethodsService","PaymentsNgaService"],angular.module("paymentsMethods").controller("ToggleBlikAliasController",e)}(),function(){"use strict";angular.module("paymentsMethods").component("toggleBlikAlias",{templateUrl:"components/blik/toggleBlikAlias/toggleBlikAlias.html",controller:"ToggleBlikAliasController",bindings:{payments:"<",paymentId:"<",selectedMethod:"<",availableMethods:"<",purchaseId:"<",onToggleBlikMode:"&"}})}(),function(){"use strict";function e(e){function t(){e.publishInstallmentsSetOnPreBuyNow(),n.onSuccess()}var n=this;n.onInstallmentButtonClicked=t}e.$inject=["PaymentsNgaService"],angular.module("paymentsMethods").controller("InstallmentsButtonController",e)}(),function(){"use strict";angular.module("paymentsMethods").component("installmentsButton",{templateUrl:"components/installments/installmentsButton/installmentsButton.html",controller:"InstallmentsButtonController",bindings:{onSuccess:"&",installments:"<"}})}(),function(){"use strict";function e(e){function t(){e.close()}this.closeModal=t}e.$inject=["$uibModalInstance"],angular.module("paymentsMethods").controller("BlikConfirmModalController",e)}(),function(){"use strict";function e(e,t){var n=this;n.blikMethod=e.getConfig().BLIK_METHOD,n.$onChanges=function(){n.isBlikCodeRequired=n.selectedMethod&&n.selectedMethod.methodId===n.blikMethod},n.showTutorial=function(){t.open({templateUrl:"components/blik/blikConfirm/blikConfirmModal.html",controller:"BlikConfirmModalController",controllerAs:"$ctrl",windowClass:"blik-tutorial-modal",backdrop:!0})}}e.$inject=["AppConfig","$uibModal"],angular.module("paymentsMethods").controller("BlikConfirmController",e)}(),function(){"use strict";angular.module("paymentsMethods").component("blikConfirm",{templateUrl:"components/blik/blikConfirm/blikConfirm.html",controller:"BlikConfirmController",bindings:{selectedMethod:"<"}})}(),function(){"use strict";function e(e,t,n){function a(e){return e&&e.group&&e.group===n.getConfig().INSTALLMENTS_NAME}function s(n){e.debug("[NGA] Installment selected. Sending PurchasingProcess::InstallmentsSelected event for: ",n),t.sendEvent("PurchasingProcess","InstallmentsSelected",null,null,{oid:n})}function o(n){n.pexPrompt&&(e.debug("[NGA] PEX is selected. Sending PurchasingProcess::PEXShow event."),t.sendEvent("PurchasingProcess","PEXShow"))}function i(n,o,a,r){if(n&&o&&o.payments&&o.payments.selectedMethod){var s=o.payments.selectedMethod,i=null,l="null",d="null";switch(s.methodId){case"OCP-VISA":i="c";break;case"OCP-blik-alias":i="blik-alias";break;case"OCP-ai":i="ai",l="Installments";break;default:i=s.methodIdProvider}a&&(l="FillData"),r.availableZero&&(d="0"),e.debug("[NGA] Payment method "+i+" is selected. Sending PurchasingProcess::GoToSummary event..."),t.sendEvent("PurchasingProcess","GoToSummary",l,d,{oid:n,selectedPaymentMethodId:i})}}function r(n,o){if(n&&o.selectedMethods[0]){var a=o.selectedMethods[0];e.debug("[NGA] Payment method "+a.provider+" is selected. Sending PurchasingProcess::ChangeProvider event..."),t.sendEvent("PurchasingProcess","ChangeProvider",null,{oid:n,selectedPaymentMethodId:a.methodId,provider:a.provider})}}function l(n,o){if(n&&o.selectedMethods[0]){var a=o.selectedMethods[0];e.debug("[NGA] Payment method "+a.methodId+" is selected. Sending PurchasingProcess::PaymentChange event..."),t.sendEvent("PurchasingProcess","ChangeBlikMethod",null,{oid:n,selectedBlikMethod:a.methodId})}}function d(n,o){n&&o&&a(o)&&(e.debug("[NGA] Installment is selected. Sending PurchasingProcess::GoToInstallmentForm event."),t.sendEvent("PurchasingProcess","GoToInstallmentForm","Reagreement",null,{oid:n,label:"Reagreement"}))}function c(){e.debug("[NGA] Installment button clicked on PreBuyNow."),t.sendEvent("PurchasingProcess","GoToDesk","Installments",null,{label:"Installments"})}return{publishInstallmentsSelected:s,publishPexShow:o,publishPaymentMethodOnSummary:i,publishPaymentChangeProviderOnSummary:r,publishPaymentChangeBlikMethodOnSummary:l,publishInstallmentsFormSent:d,publishInstallmentsSetOnPreBuyNow:c}}e.$inject=["$log","NgaSvc","AppConfig"],angular.module("paymentsMethods").factory("PaymentsNgaService",e)}(),function(){"use strict";function e(e,n,a,s,i,l,d,m,F,R,G){function p(e){return e&&e.constructor===Array&&e.length>0}function u(e){var t=m.getConfig().APP_DOMAIN;return t&&""!==t?t+"/payments/"+e+"/methods":"/methods"}function h(e){return e.token&&e.mask}function g(e){var t;return t=h(e)?{methodId:"OCP-VISA",params:{token:e.token,mask:e.mask}}:e.params&&e.params.token?{methodId:e.methodId,params:{token:e.params.token,mask:e.params.mask}}:{methodId:e.methodId,params:{}},t.provider=e.provider,t.availableProviders=e.availableProviders,[t]}function y(e){if(e&&e.length>0){var t=e[0];return[{id:t.id,type:t.type}]}return e}function f(){return{Accept:"application/vnd.allegro.public.v2+json","Content-Type":"application/vnd.allegro.public.v2+json","Accept-Language":m.getConfig().LOCALE.languageTag}}function v(){return{Accept:"application/vnd.allegro.public.v4+json","Content-Type":"application/vnd.allegro.public.v4+json","Accept-Language":m.getConfig().LOCALE.languageTag}}function b(n,s){function o(e){return e}function r(e){var t=new F({name:"PaymentsMethodsServiceException",message:"Failed to get available methods.",error:e});return l(t),a.reject(e)}if(!n){var i=new F({name:"PaymentsMethodsServiceException",message:"Failed to load available methods. paymentId needs to be provided."});return l(i),a.reject(i)}var d={};s&&s.flags instanceof Array&&-1!==s.flags.indexOf(t)&&(d.filters=t);var c={method:"GET",url:u(n),headers:v(),params:d};return e(c).then(o,r)}function M(t,n,o){function p(e){return n.mask&&(e.data.selectedMethods[0].name=n.mask,e.data.selectedMethods[0].description=i("creditCardsLogoFilter")(n.mask).name,e.data.selectedMethods[0].group=m.getConfig().CREDIT_CARD_NAME,e.data.selectedMethods[0].newCard=!0,d.newFodPaymentCard=e),s.debug("Selected method updated: ",e),e}function h(e){var t=new F({name:"PaymentsMethodsServiceException",message:"Failed to load available methods.",error:e});return l(t),a.reject(e)}function f(e){return G.publishPexShow(n),e}s.debug("Updating selected method: ",t,n,o);var r={method:"PUT",url:u(t),headers:v(),data:{selectedMethods:g(n),selectedDiscounts:y(o)}};return e(r).then(p).then(f).catch(h)}function C(e,t,n,o){return t.selectedMethod.methodId===m.getConfig().BLIK_METHOD?M(e,t.selectedMethod,t.selectedDiscounts).then(function(){return A(e,t.createEndpointUrl,t.selectedMethod,n)}):A(e,t.createEndpointUrl,t.selectedMethod,n,o)}function P(e,t,n,o,a){return s.debug("createPayment: ",e,n,t,o),t&&t.createEndpointUrl?C(e,t,n,o):b(e,a).then(function(e){var t=e.data.createEndpointUrl,n=w(e.data);return S(n.group)?{endpoint:t,selectedMethod:n}:void 0}).then(function(t){return A(e,t.endpoint,t.selectedMethod,n,o)})}function k(e){var t,n=document.createElement("a");return n.href=e,t="/"===n.pathname.substr(0,1)?n.pathname:"/"+n.pathname,m.getConfig().APP_DOMAIN+t+n.search}function A(t,n,o,r,s){function c(e){var t,n=e.data;return n&&n.redirectUrl?(n.redirectUrl+="WARNING_CONTINUE_BLIK"===n.status?"?transactionToken="+n.externalPaymentId:"",delete d.newFodPaymentCard,n):(t={name:"PaymentsMethodsServiceException",message:"Can not retrive redirect url for payment method.",error:e},l(t),a.reject(t))}function p(e){var t=new F({name:"PaymentsMethodsServiceException",message:"Failed to set payment.",error:e});return l(t),a.reject(e)}function u(e){return G.publishInstallmentsFormSent(r,o),e}n=k(n);var i={paymentId:t};s&&(i.verificationCode=s);var m={method:"POST",url:n,headers:f(),data:i};return e(m).then(c).then(u).catch(p)}function S(e){return!!e&&(e===m.getConfig().INSTALLMENTS_NAME||e===m.getConfig().PBL_GROUP_NAME||e===m.getConfig().PEX_GROUP_NAME)}function w(e){var t,n,o;return p(e.selectedMethods)?e.selectedMethods[0].newCard?e.selectedMethods[0]:(t=e.methods,p(t)?(n=e.selectedMethods[0].methodId,o=e.selectedMethods[0],t.filter(function(e){return e.methodId===n}).map(function(e){return e.provider=o.provider,e.availableProviders=o.availableProviders,e})[0]):{}):{}}function E(e){return p(e)?e.filter(function(e){return e.group===m.getConfig().CARD_NAME}):[]}function I(e){return p(e)?e.filter(function(e){return e.group===m.getConfig().PEX_GROUP_NAME}):[]}function L(e){return p(e)?e.filter(function(e){return e.group===m.getConfig().PBL_GROUP_NAME}):[]}function $(e){return p(e)?e.filter(function(e){return e.group===m.getConfig().OFFLINE_GROUP_NAME}):[]}function T(e){return p(e)?e.filter(function(e){return e.group===m.getConfig().INSTALLMENTS_NAME}):[]}function B(e){return p(e)?e.filter(function(e){return e.group===m.getConfig().BLIK}):[]}function U(e){return e===m.getConfig().COMPLETE_PAYMENT_METHODS_LIST}function N(e){return p(e)?e.filter(function(e){return e.group===m.getConfig().CARD_NAME||e.group===m.getConfig().PEX_GROUP_NAME||e.group===m.getConfig().PBL_GROUP_NAME||e.group===m.getConfig().INSTALLMENTS_NAME}):[]}function z(e){return p(e)?e.filter(function(e){return e.group===m.getConfig().CREDIT_CARD_NAME}):[]}function O(e){return!(!e||!e.group)&&e.group===m.getConfig().INSTALLMENTS_NAME}function _(e){return e.payments&&e.payments.selectedMethod&&e.payments.selectedMethod.group?e.payments.selectedMethod.group===m.getConfig().INSTALLMENTS_NAME:void 0}function x(e){return!(!e||!e.deferred)}function D(e){function t(e){return s.debug("OpenPayU Token received: ",e),e.data}function o(e){var t=new F({name:"PaymentsMethodsServiceException",message:"Failed to receive OpenPayu Token.",error:e});return l(t),a.reject(e)}return n(function(){return R.getToken(e).then(t,o)})}function j(e){return!!(e&&e.group&&e.params)&&(e.group===m.getConfig().BLIK&&!e.params.token&&e.methodId===m.getConfig().BLIK_METHOD)}return{getAvailableMethods:b,updateSelectedMethod:M,createPayment:P,getSelectedMethod:w,getBlikMethods:B,getCardMethodChannel:E,getPEXMethods:I,getPBLMethods:L,getWireTransferMethods:$,getInstallmentMethods:T,isMethodOfInstallmentGroup:O,isInstallmentsGroupSelected:_,isMethodDeferred:x,isMethodListComplete:U,getPayuMethods:N,getSavedCreditCardsMethods:z,setCard:D,isSetBlikCode:j}}e.$inject=["$http","$timeout","$q","$log","$filter","$exceptionHandler","$sessionStorage","AppConfig","CustomException","OpenPayuService","PaymentsNgaService"],angular.module("paymentsMethods").factory("PaymentsMethodsService",e);var t="INSTALLMENTS_ONLY"}(),function(){"use strict";function t(e,t,n,a,r){function o(o,s){function d(e){return e&&e.data?e.data:{}}function c(e){return l=new r({name:"InstallmentsServiceException",message:"paymentsProposal request failed",error:e}),n(l),t.reject(e)}var l,u,m=i(o,s);return m?(u={method:"POST",url:function(){var e=a.getConfig().APP_DOMAIN;return e&&""!==e?e+"/installments-proposal":"/installments-proposal"}(),headers:{Accept:"application/vnd.allegro.public.v1+json","Content-Type":"application/vnd.allegro.public.v1+json","Accept-Language":a.getConfig().LOCALE.languageTag},data:m},e(u).then(d).catch(c)):(l=new r({name:"InstallmentsServiceException",message:"Wrong purchase for paymentsProposal request."}),n(l),t.reject("Wrong purchase for paymentsProposal request."))}function i(e,t){var n=[],o=null;return!!(e&&e.buyer&&e.orders)&&(e.orders.forEach(function(e){e.offers.forEach(function(e){var t=parseFloat(e.price.amount)*parseInt(e.quantity,10);n.push({id:e.id,price:{amount:t,currency:e.price.currency}})}),e.summation&&e.summation.totalAdditionalServicesPrice&&(o={amount:e.summation.totalAdditionalServicesPrice,currency:e.summation.currency})}),{items:n,delivery:{amount:t,currency:e.orders[0].summation.currency},buyerId:e.buyer.id,additionalCosts:o})}return{getInstallmentsByPurchase:o}}t.$inject=["$http","$q","$exceptionHandler","AppConfig","CustomException"],angular.module("paymentsMethods").constant("installmentsConfig",function(){return{paymentMethodNameForInstallment:"installments"}}()).factory("InstallmentsService",t)}(),function(){"use strict";function e(e,t,n,a,s){function o(){return{Accept:"application/vnd.allegro.public.v2+json","Content-Type":"application/vnd.allegro.public.v2+json","Accept-Language":a.getConfig().LOCALE.languageTag}}function i(e,t){return t&&""!==t?t+"/payments/public/"+e+"?filter=selected_methods":"/payments/public/"+e+"?filter=selected_methods"}function r(a,r){function l(e){return e.data}function d(e){var o=new s({name:"PaymentsMethodsServiceException",message:"Failed to get selected methods with filter selected_methods.",error:e});return n(o),t.reject(e)}if(!a){var c=new s({name:"PaymentsMethodsServiceException",message:"Failed to load selected methods. paymentId needs to be provided."});return n(c),t.reject(c)}var u={method:"GET",url:i(a,r),headers:o()};return e(u).then(l,d)}function l(e){var t={blikAlias:null,blik:null};if(c(e)){var n=e.filter(function(e){return e.group===u&&e.enabled}),o=function(e){return n.filter(function(t){return t.methodId===e})[0]||null};t.blikAlias=o(m),t.blik=o(p)}return t}function d(e){return!!c(e)&&e.filter(function(e){return e.group===u})[0]}function c(e){return e&&e.constructor===Array&&e.length>0}var u=a.getConfig().BLIK,m=a.getConfig().BLIK_METHOD_ALIAS,p=a.getConfig().BLIK_METHOD;return{fetchPaymentsData:r,extractEnabledMethods:l,findAny:d}}e.$inject=["$http","$q","$exceptionHandler","AppConfig","CustomException"],angular.module("paymentsMethods").factory("BlikService",e)}(),function(){"use strict";function e(e,t,n,o,a,s){function i(n){var o=t.defer();return void 0===e.OpenPayU?o.reject("OpenPayU library not loaded"):(e.OpenPayU.merchantId=n,e.OpenPayU.Token.create({},function(e){return"SUCCESS"===e.status.statusCode?o.resolve(e):o.reject(e)})),o.promise}function r(){var n,a=t.defer();return n=void 0===o.search().url?e.location.href:function(t){return e.atob(decodeURIComponent(t))}(o.search().url),void 0===e.OpenPayU?a.reject("OpenPayU library not loaded"):(e.OpenPayU.authorizeCVV({url:n},function(e){return"SUCCESS"===e.status.statusCode?a.resolve(e.status):a.reject(e.status)}),a.promise)}function l(e){var o=t.defer(),a=document.createElement("script");return n.debug("Loading: "+e),a.src=e,document.body.appendChild(a),a.onload=a.onreadystatechange=function(t){a.readyState&&"complete"!==a.readyState&&"loaded"!==a.readyState||(n.debug("Loaded: "+e),o.resolve(t))},a.onerror=function(t){n.debug("Failed to load: "+e),o.reject(t)},o.promise}function d(){var o=s.getOpenPayuHost();return void 0!==e.OpenPayU?(n.debug("OpenPayU scripts loaded"),t.when("OpenPayU scripts loaded")):(n.debug("Loading OpenPayU scripts"),l(o+"openpayu-2.0-alle.js").then(function(){return e.OpenPayU.Transport.ready(),l(o+"plugin-token-2.0-alle.js")}))}function c(){return!(!e.PayU||!e.PayU.Merchant)}function m(e){var t=a[0].createElement("script");t.src=s.getOpenPayUWidgetUrl(),t.setAttribute("merchant-pos-id",e.merchantPosId),t.setAttribute("shop-name",e.shopName),t.setAttribute("total-amount",e.totalAmount),t.setAttribute("currency-code",e.currency),t.setAttribute("customer-language",e.customerLanguage),t.setAttribute("sig",e.sig),"cvv"===e.widgetType?(t.setAttribute("widget-type",e.widgetType),t.setAttribute("cvv-success-callback",e.successCallback),t.setAttribute("cvv-url",e.cvvUrl)):(t.setAttribute("payu-brand",e.payuBrand),t.setAttribute("success-callback",e.successCallback),t.setAttribute("pay-button",e.payButton),t.setAttribute("store-card",e.shouldStoreCard),t.setAttribute("recurring-payment",e.recurringPayment),t.setAttribute("widget-mode",e.widgetMode)),a[0].body.appendChild(t)}function p(){return e.PayU&&e.PayU.Merchant&&e.PayU.Merchant.$wrapper&&e.PayU.Merchant.$wrapper.get?e.PayU.Merchant.$wrapper.get(0):null}function u(){e.PayU&&e.PayU.Merchant&&e.PayU.Merchant.openWidget&&e.PayU.Merchant.openWidget()}return{getToken:i,authorizeCVV:r,loadScripts:d,isCreditCardWidgetScriptLoaded:c,loadWidget:m,getCreditCardWidgetWrapper:p,restartCreditCardWidget:u}}e.$inject=["$window","$q","$log","$location","$document","AppConfig"],angular.module("paymentsMethods").factory("OpenPayuService",e)}(),function(){"use strict";function e(e,t,n,a){function s(){return"CREATED"===r.status||"IN_PROGRESS"===r.status||"WAITING_FOR_MONEY"===r.status}function o(){var t=n[0].createElement("script");t.src=e.getP24WidgetUrl(),n[0].body.appendChild(t)}function i(){n.on("Przelewy24PaymentHandlerReady",function(){Przelewy24PaymentHandler.config({completePaymentCallback:function(){a.log("success"),r.onSuccess()},errorCallback:function(){a.log("error"),r.onFail()},requestFailedCallback:function(){a.debug("request failed"),r.onFail()}});var t={transactionToken:l};e.isProduction()||(t.sandbox=!0),Przelewy24PaymentHandler.handle(t)})}var r=this,l=t.search().transactionToken,d=!1;r.isBlikSelected=!1,e.setAppEnvironment(r.env),a.info("Value of transactionToken param: ",l),r.$onChanges=function(){s()&&!d&&l&&(d=!0,o(),i())}}e.$inject=["AppConfig","$location","$document","$log"],angular.module("paymentsMethods").controller("BlikRecoverController",e)}(),function(){"use strict";angular.module("paymentsMethods").component("blikRecover",{templateUrl:"components/thankYouPage/blikRecover.html",controller:"BlikRecoverController",bindings:{status:"<",env:"<",onSuccess:"&",onFail:"&"}})}(),function(){"use strict";function e(e,t,n,o){function s(){a.loading=!0,a.onToggleProvider({$event:{isUpdated:a.loading}}),a.payments.selectedMethod.provider="PAYU"===a.payments.selectedMethod.provider?"P24":"PAYU",t.updateSelectedMethod(a.paymentId,a.payments.selectedMethod,a.payments.selectedDiscounts).then(function(e){a.loading=!1,a.onToggleProvider({$event:{isUpdated:a.loading}}),a.selectedProviderIsPayU="PAYU"===e.data.selectedMethods[0].provider,a.payments.selectedMethod=t.getSelectedMethod(e.data),o.publishPaymentChangeProviderOnSummary(a.purchaseId,e.data)},function(){e.location.reload()})}var a=this;a.isMoreThanOneProvider=null,a.loading=!1,a.toggleProvider=s,a.$onChanges=function(){a.payments&&a.payments.selectedMethod&&a.payments.selectedMethod.availableProviders&&(a.isMoreThanOneProvider=a.payments.selectedMethod.availableProviders.length>1,a.isAvailableMethodWithProvider=a.payments.selectedMethod.group===n.getConfig().OFFLINE_GROUP_NAME,a.selectedProviderIsPayU="PAYU"===a.payments.selectedMethod.provider)}}e.$inject=["$window","PaymentsMethodsService","AppConfig","PaymentsNgaService"],angular.module("paymentsMethods").controller("SwitchPaymentMethodProviderController",e)}(),function(){"use strict";angular.module("paymentsMethods").component("switchPaymentMethodProvider",{templateUrl:"components/switchPaymentMethodProvider/switchPaymentMethodProvider.html",controller:"SwitchPaymentMethodProviderController",bindings:{paymentId:"<",payments:"<",selectedMethod:"<",purchaseId:"<",onToggleProvider:"&"}})}(),function(){"use strict";function e(){function e(e){e=parseInt(e,10);for(var n=0,o=t.length;o>n;n++)if(t[n].pattern.test(e))return{name:t[n].name,logoClass:t[n].cssLogoClass};return""}var t=[{name:"VISA",pattern:/^4/,cssLogoClass:"logo-cc-visa"},{name:"MAESTRO",pattern:/^(06|5[0678]|6\d)/,cssLogoClass:"logo-cc-maestro"},{name:"MASTERCARD",pattern:/^(5[1-5]|2[2-7])/,cssLogoClass:"logo-cc-mastercard"}];return e}angular.module("paymentsMethods").filter("creditCardsLogoFilter",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"directives/payByLinks/payByLinks.html",scope:!1,controller:"PayByLinksController",controllerAs:"pbl",bindToController:!0,link:function(e){e.opensModal=e.pbl.openModal}}}angular.module("paymentsMethods.payByLinks",[]).directive("payByLinks",e)}(),function(){"use strict";function e(e,t,n){function a(){t.close()}function s(t){return e.pm.payments.selectedMethod.methodId===t.methodId}function o(t){e.pm.payments.selectedMethod=t}function i(e){l.setSelectedMethod(e),t.close({data:e})}function r(e){l.setSelectedMethod(e),t.close({data:e})}var l=this;l.payByLinkMethods=n.getPBLMethods(e.pm.payments.availableMethods),l.payuExpressMethods=n.getPEXMethods(e.pm.payments.availableMethods),l.close=a,l.isPaymentSelected=s,l.setSelectedMethod=o,l.getPayByLinkMethod=i,l.getPayuExpressMethod=r}e.$inject=["$scope","$uibModalInstance","PaymentsMethodsService"],angular.module("paymentsMethods.payByLinks").controller("PayByLinksModalController",e)}(),function(){"use strict";function e(e,t,n,a){function s(){return e.pm.methodChanged===c}function o(){return!1!==e.pm.methodChanged}function i(){return!(!e.pm.payments.selectedMethod||!e.pm.payments.selectedMethod.group)&&(e.pm.payments.selectedMethod.group===n.getConfig().PBL_GROUP_NAME||e.pm.payments.selectedMethod.group===n.getConfig().PEX_GROUP_NAME)}function r(){var t=e.pm.payments.availableMethods;return a.getPBLMethods(t).length>0||a.getPEXMethods(t).length>0}function l(){var n=t.open({templateUrl:"directives/payByLinks/payByLinksModal.html",controller:"PayByLinksModalController",controllerAs:"modal",size:"lg",backdrop:!0,scope:e}),o=function(t){t&&t.data&&(e.pm.payments.selectedMethod=t.data,e.pm.methodChanged=c)};n.result.then(o)}var d=this,c="PBL";d.isMethodSaving=s,d.isMethodDisabled=o,d.isMethodSelected=i,d.openModal=l,d.isMethodAvailable=r}e.$inject=["$scope","$uibModal","AppConfig","PaymentsMethodsService"],angular.module("paymentsMethods.payByLinks").controller("PayByLinksController",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"directives/installments/installments.html",scope:!1,controller:"InstallmentsController",controllerAs:"installments"}}angular.module("paymentsMethods.installments",[]).directive("installments",e)}(),function(){"use strict";function e(e){function t(){e.close()}this.close=t}e.$inject=["$uibModalInstance"],angular.module("paymentsMethods.installments").controller("InstallmentsModalController",e)}(),function(){"use strict";function e(e,t,n,a,s){function o(){return e.pm.methodChanged===u}function i(){return!1!==e.pm.methodChanged}function r(){return!(!e.pm.payments.selectedMethod||!e.pm.payments.selectedMethod.group)&&e.pm.payments.selectedMethod.group===n.getConfig().INSTALLMENTS_NAME}function l(){var t=e.pm.payments.availableMethods;return a.getInstallmentMethods(t).length>0}function d(){var n=a.getInstallmentMethods(e.pm.payments.availableMethods);return!(n.length<1)&&(n=n[0],void(n.enabled?angular.equals(e.pm.payments.selectedMethod,n)||(s.publishInstallmentsSelected(e.pm.purchaseId),e.pm.payments.selectedMethod=n,e.pm.methodChanged=u):t.open({templateUrl:"directives/installments/installmentsModal.html",controller:"InstallmentsModalController",controllerAs:"modal",windowClass:"payments-methods-modal confirm-modal",size:"xs",backdrop:!0})))}var c=this,u="INSTALLMENTS";c.isMethodSaving=o,c.isMethodDisabled=i,c.isSelected=r,c.isMethodAvailable=l,c.selectInstallments=d}e.$inject=["$scope","$uibModal","AppConfig","PaymentsMethodsService","PaymentsNgaService"],angular.module("paymentsMethods.installments").controller("InstallmentsController",e)}(),function(){"use strict";function e(e){function t(t){return t&&t.selectedMethod&&e.isMethodOfInstallmentGroup(t.selectedMethod)}function n(){o.showFullNotice=!o.showFullNotice}var o=this;o.showFullNotice=!1,o.showAgreementNotice=t,o.toggleFullNotice=n}e.$inject=["PaymentsMethodsService"],angular.module("paymentsMethods").controller("InstallmentsAgreementController",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"directives/installmentsAgreement/installmentsAgreement.html",scope:{},controller:"InstallmentsAgreementController",controllerAs:"installmentsAgreement",bindToController:{payments:"=?"}}}angular.module("paymentsMethods").directive("installmentsAgreement",e)}(),function(){"use strict";function e(){return{restrict:"E",bindToController:{locale:"=",cvvParams:"=",env:"="},scope:{},templateUrl:"directives/cvvConfirmation/cvvConfirmation.html",controller:"CvvConfirmationController",controllerAs:"cvv",link:t}}function t(e,t,n,o){o.openPayuService.loadWidget(o.prepareCvvConfirmationWidgetConfig())}angular.module("paymentsMethods.cvv",[]).directive("cvvConfirmation",e)}(),function(){"use strict";function e(e,t,n){function a(){var e=o.cvvParams,t=atob(decodeURIComponent(e.url));return{merchantPosId:e.posId,shopName:"Allegro",totalAmount:"100",currency:"PLN",customerLanguage:o.locale.language,widgetType:"cvv",cvvUrl:t,successCallback:"__OpenPayuWidgetCallback",sig:e.sig}}var o=this;n.setAppLocale(o.locale),n.setAppEnvironment(o.env),o.openPayuService=t,o.prepareCvvConfirmationWidgetConfig=a,e.debug("cvvParams",o.cvvParams)}e.$inject=["$log","OpenPayuService","AppConfig"],angular.module("paymentsMethods.cvv").controller("CvvConfirmationController",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"directives/creditCards/creditCards.html",scope:!1,controller:"CreditCardsController",controllerAs:"creditCard",bindToController:!0}}angular.module("paymentsMethods.creditCards",[]).directive("creditCards",e)}(),function(){"use strict";function e(e,t,n){function a(e){t.close(e)}function s(e){t.dismiss(e)}function o(t){return e.pm.payments.selectedMethod.methodId===t.methodId}function i(e){a({ccData:e})}var r=this;r.creditCards=n.getSavedCreditCardsMethods(e.pm.payments.availableMethods),r.locale=e.pm.locale,r.isGuest=!!e.pm.isGuest,r.creditCardMethodChannel=n.getCardMethodChannel(e.pm.payments.availableMethods)[0],r.close=a,r.dismiss=s,r.isCreditCardSelected=o,r.setSavedCard=i}e.$inject=["$scope","$uibModalInstance","PaymentsMethodsService"],angular.module("paymentsMethods.creditCards").controller("CreditCardsModalController",e)}(),function(){"use strict";function e(e,t,n,o){function s(){var e=a.creditCardMethodChannel.params;return{merchantPosId:e.posId,totalAmount:"100",currency:"PLN",customerLanguage:a.locale.language,shouldStoreCard:!a.isGuest,payButton:"#payButton",successCallback:"__OpenPayuWidgetCallback",shopName:"Allegro",widgetMode:"use",payuBrand:!1,recurringPayment:!1,sig:e.sig}}var a=this;a.openPayuService=o,a.prepareCreditCardWidgetConfig=s,t.__OpenPayuWidgetCallback=function(t){e.$apply(function(){n.debug("Card is used.",t),a.modal.close({ccData:{mask:t.maskedCard,token:t.value,type:t.tokenType}})})}}e.$inject=["$scope","$window","$log","OpenPayuService"],angular.module("paymentsMethods.creditCards").controller("CreditCardsFormController",e)}(),function(){"use strict";function e(){return{restrict:"E",bindToController:{modal:"=",locale:"=",creditCardMethodChannel:"=",isGuest:"=?"},scope:{},templateUrl:"directives/creditCards/creditCardsForm.html",controller:"CreditCardsFormController",controllerAs:"creditCardsForm",link:t}}function t(e,t,n,o){var a=o.openPayuService;if(a.isCreditCardWidgetScriptLoaded()){var r=t[0].querySelector("#payu-widget");r.parentNode.replaceChild(a.getCreditCardWidgetWrapper(),r),a.restartCreditCardWidget()}else a.loadWidget(o.prepareCreditCardWidgetConfig())}angular.module("paymentsMethods.creditCards").directive("creditCardsForm",e)}(),function(){"use strict";function e(e,t,a,r,s,i,l,y,v){function d(){return!!e.pm.payments.coins&&!!e.pm.payments.coins.promotions.find(function(e){return"2017-12-04_VISA"===e.id})}function c(){return e.pm.methodChanged===C}function m(){return!1!==e.pm.methodChanged}function p(){var t;return e.pm.payments.selectedMethod&&e.pm.payments.selectedMethod.name&&(t=a("creditCardsLogoFilter")(e.pm.payments.selectedMethod.name).logoClass),t&&f.isMethodSelected()?"logo-cc "+t:"icon-svg-ml credit-card-standard"}function u(){return!(!e.pm.payments.selectedMethod||!e.pm.payments.selectedMethod.group)&&e.pm.payments.selectedMethod.group===i.getConfig().CREDIT_CARD_NAME}function h(){var t=e.pm.payments.availableMethods;return l.getCardMethodChannel(t).length>0}function g(){function n(t){t&&(e.pm.payments.selectedMethod=t.ccData,r.debug("Closing: ",t),e.pm.methodChanged=C)}function o(o){r.debug("Scripts loaded. ",o),t.open({templateUrl:"directives/creditCards/creditCardsModal.html",controller:"CreditCardsModalController",controllerAs:"modal",windowClass:"payments-methods-modal",scope:e,size:"md",backdrop:!0}).result.then(n)}function d(e){throw r.debug("Scripts failed to load. ",e),s(e),new v({name:"CreditCardsController",message:"Failed to load OpenPayU scripts while modal opening."})}l.isMethodListComplete(e.pm.methodListStatus)&&y.loadScripts().then(o,d)}var f=this,C="CREDITCARDS";f.isMethodSaving=c,f.isMethodDisabled=m,f.getCreditCardLogo=p,f.isMethodSelected=u,f.isMethodAvailable=h,f.showBannerForCreditCard=d,f.openModal=g,f.methodListStatusPopover=l.isMethodListComplete(e.pm.methodListStatus),f.templateUrl="directives/creditCards/methodListStatus.html"}e.$inject=["$scope","$uibModal","$filter","$log","$exceptionHandler","AppConfig","PaymentsMethodsService","OpenPayuService","CustomException"],angular.module("paymentsMethods.creditCards").controller("CreditCardsController",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"directives/paymentsMethodsVela.html"}}angular.module("paymentsMethods").directive("paymentMethodsVela",e)}(),function(){"use strict";function e(){return{restrict:"A",link:t}}function t(e,t){function n(n,o){var a=!!n&&!!Object.keys(n).length;void 0===o&&(o={}),e.payments.$pristine=!0,e.payments.$dirty=!1,a?(e.payments.$valid=!0,e.payments.$invalid=!1,t.removeClass("ng-invalid"),t.hasClass("ng-valid")||t.addClass("ng-valid")):(e.payments.$valid=!1,e.payments.$invalid=!0,t.removeClass("ng-valid"),t.hasClass("ng-invalid")||t.addClass("ng-invalid")),angular.equals(n,o)||(e.payments.$pristine=!1,e.payments.$dirty=!0,t.removeClass("ng-pristine"))}e.$watch("pm.payments.selectedMethod",function(e,t){n(e,t)})}angular.module("paymentsMethods").directive("paymentsMethodsValidator",e)}(),function(){"use strict";function e(e,t,n,a){function s(e,o){return t.debug("Get available payments methods for paymentId: ",e),r.payments.selectedMethod&&r.payments.availableMethods?void(r.hasPayuMethods=!!n.getPayuMethods(r.payments.availableMethods).length):(r.methodsLoaded=!1,void n.getAvailableMethods(e,o).then(function(e){e=e.data,e.discount=e.discount||{},r.methodListStatus=e.methodListStatus,r.payments.createEndpointUrl=e.createEndpointUrl,r.payments.selectedMethod=n.getSelectedMethod(e),e.selectedMethods&&e.selectedMethods.length&&(r.payments.selectedMethod.methodIdProvider=e.selectedMethods[0].methodIdProvider),r.payments.availableMethods=e.methods,r.hasPayuMethods=!!n.getPayuMethods(r.payments.availableMethods).length,r.payments.discounts=e.discount.discounts||[],r.payments.selectedDiscounts=e.selectedDiscounts||[],e.coins&&(r.payments.coins=e.coins)},function(e){t.error("Could not get payments methods: ",e)}).finally(function(){r.methodsLoaded=!0}))}function o(e,o,a){return n.updateSelectedMethod(e,o,a).then(function(e){return e.data.discount=e.data.discount||{},r.payments.createEndpointUrl=e.data.createEndpointUrl,r.payments.selectedMethod=n.getSelectedMethod(e.data),e.data.selectedMethods&&e.data.selectedMethods.length&&(r.payments.selectedMethod.methodIdProvider=e.data.selectedMethods[0].methodIdProvider),r.payments.selectedDiscounts=e.data.selectedDiscounts||[],r.payments.discounts=e.data.discount.discounts||[],t.debug("Updated",e,r.payments,a),e},function(e){r.payments.selectedMethod={},r.payments.selectedDiscounts=[],r.payments.discounts=[],t.error("Could not update payments methods: ",e)})}function i(){return!!r.payments.selectedMethod&&Object.getOwnPropertyNames(r.payments.selectedMethod).length>0}var r=this;r.payments=r.payments||{},r.methodChanged=!1,r.methodsLoaded=!0,r.hasPayuMethods=!1,r.groupPbl=a.getConfig().PBL_GROUP_NAME,r.groupBlik=a.getConfig().BLIK,r.isMethodSelected=i,r.updateSelectedMethod=o,r.metadata=r.metadata||{},a.setAppDomain(r.domainApi),a.setAppLocale(r.locale),a.setAppEnvironment(r.env),e.$watch("pm.methodChanged",function(e){e&&r.paymentId&&(t.debug("Payments method changed: ",r.payments.selectedMethod,r.methodChanged),o(r.paymentId,r.payments.selectedMethod,[]).then(function(){r.methodChanged=!1}))}),e.$watch("pm.paymentId",function(e,n){t.debug("PaymentId watch: ",e,n),e!==n&&(r.payments.selectedMethod=null),e&&s(e,r.metadata)})}e.$inject=["$scope","$log","PaymentsMethodsService","AppConfig"],angular.module("paymentsMethods").controller("PaymentsMethodsController",e)}(),function(){"use strict";function e(){function e(e,t){return t.summaryMode&&!0===JSON.parse(t.summaryMode)?"directives/paymentsMethodsSummary.html":"directives/paymentsMethods.html"}return{restrict:"E",controller:"PaymentsMethodsController",controllerAs:"pm",scope:{},bindToController:{payments:"=?",paymentId:"=",methodListStatus:"=?",summaryMode:"=?",locale:"=?",summaryShowBackUrl:"=?",summaryBackUrl:"=?",domainApi:"=?",env:"=?",purchaseId:"=?",metadata:"=?",isGuest:"=?"},templateUrl:e}}angular.module("paymentsMethods").directive("paymentsMethods",e)}(),function(){"use strict";function e(e,t){e.setKeyPrefix("payments-"),t.setKeyPrefix("payments-")}function t(e,t){function n(){return"PRODUCTION"===o.ENV}var o={ENV:"",APP_DOMAIN:"",LOCALE:"",DEBUG:!1,OPENPAYU_TEST_DOMAIN:"https://payu.allegrosandbox.pl/payu-simulator/res/v2/",OPENPAYU_DOMAIN:"https://secure.payu.com/res/v2/",OPENPAYU_WIDGET_URL_PROD:"https://secure.payu.com/front/widget/js/payu-bootstrap.js",OPENPAYU_WIDGET_URL_TEST:"https://payu.allegrosandbox.pl/payu-simulator/front/widget/js/payu-bootstrap.js",PBL_GROUP_NAME:"PBL",PEX_GROUP_NAME:"PEX",CREDIT_CARD_NAME:"STORED_CARD",CARD_NAME:"CARD",BLIK:"BLIK",INSTALLMENTS_NAME:"INSTALLMENTS",OFFLINE_GROUP_NAME:"OFFLINE",COMPLETE_PAYMENT_METHODS_LIST:"COMPLETE",BLIK_METHOD:"OCP-blik",BLIK_METHOD_ALIAS:"OCP-blik-alias",P24_WIDGET_URL_PROD:"https://secure.przelewy24.pl/js/przelewy24.min.js",P24_WIDGET_URL_TEST:"https://sandbox.przelewy24.pl/js/przelewy24.min.js"};this.$get=["gettextCatalog",function(a){return{setAppDomain:function(e){o.APP_DOMAIN=e},setAppEnvironment:function(a){o.ENV=a,t.debugInfoEnabled(!n()),e.debugEnabled(!n())},setAppLocale:function(e){var t={service:"allegro.pl",language:"pl",country:"PL",languageTag:"pl-PL"};o.LOCALE=e||t,this.setAppLanguage(o.LOCALE.language)},setAppLanguage:function(e){a.setCurrentLanguage(e),a.debug=!n()},getOpenPayuHost:function(){return n()?o.OPENPAYU_DOMAIN:o.OPENPAYU_TEST_DOMAIN},getOpenPayUWidgetUrl:function(){return n()?o.OPENPAYU_WIDGET_URL_PROD:o.OPENPAYU_WIDGET_URL_TEST},getP24WidgetUrl:function(){return n()?o.P24_WIDGET_URL_PROD:o.P24_WIDGET_URL_TEST},getConfig:function(){return o},isProduction:n}}]}e.$inject=["$localStorageProvider","$sessionStorageProvider"],t.$inject=["$logProvider","$compileProvider"],angular.module("paymentsMethods").config(e).provider("AppConfig",t)}(),angular.module("gettext").run(["gettextCatalog",function(e){e.setStrings("pl",{"(dispatch of products may be delayed by up to 3 days)":"(może opóźnić wysyłkę o 3 dni)","0% installments":"raty 0%","1 installment":["rata","raty","rat"],"BLIK code is not required.":"Wybrana płatność BLIKIEM nie wymaga podania kodu.","Bank Transfers":"Przelewy Bankowe","Calculation includes delivery fee.":"Obliczenie obejmuje koszt dostawy.","Change operator.":"Zmień operatora.","Change to BLIK payment without code.":"Zmień na płatność BLIK bez kodu.","Change to payment with code.":"Zmień na płatność z kodem.","Due to technical reasons, selected payment method is currently unavailable.":"Z przyczyn technicznych wybrana przez Ciebie metoda jest chwilowo niedostępna.","How to generate the code?":"Jak wygenerować kod?","No payment method has been selected.":"Nie wybrano metody płatności.","Pay by card and save it - you do not have to fill in your details next time you shop.":"Zapłać kartą i zapisz ją – kolejne zakupy zrobisz bez ponownego wypełniania danych.","Pay in":"Tę ofertę możesz kupić na","Pay in installments.":"Tę ofertę możesz kupić na raty ze standardowym oprocentowaniem.","Payment card list is empty.":"Nie masz zapisanych kart.","Problem with selected payment method":"Problem z metodą płatności",'Run the app and select "Blik payment".':"Otwórz aplikację mobilną swojego banku i wybierz płatność BLIK.",'Secure payment <i class="secure-payment-icons"></i>':'Bezpieczne płatności <i class="secure-payment-icons"></i>','Should you proceed, you accept <a href="https://allegro.pl/regulamin/zalacznik_7b" target="_blank">the terms</a> and conditions of the service.':'Przechodząc dalej akceptujesz <a href="https://allegro.pl/regulamin/zalacznik_7b" target="_blank">regulamin</a> tej usługi.',"The payment is processed by":"Płatność obsługiwana w ramach usługi","To enjoy Blik payments, you need to have one of the following apps.":"Aby móc skorzystać z BLIKA musisz mieć aplikację mobilną jednego z poniższych banków.","To pay in instalments, the total price of items collected in your cart <strong>must be between 300 and 20 000</strong>.<br>Edit your cart or select other payment method.":"Aby zrobić zakupy na raty, w koszyku musisz mieć przedmioty <strong>o łącznej wartości od 300 zł do 20 000 zł</strong>.<br>Edytuj koszyk lub wybierz inną metodę płatności.","Try again later or select a quick transfer.":"Spróbuj ponownie lub zmień metodę płatności na szybki przelew.","You will receive a 6-digit code that is valid for 2 minutes. Enter the code in a proper field.":"Otrzymasz 6-cyfrowy kod, który będzie ważny dwie minuty. Wpisz go we wskazane pole na Allegro.","Your installment plan":"Propozycja oferty ratalnej","back to cart":"wróć do koszyka","buy in 0% installments":"Kup na raty 0%","buy in installments":"Kup na raty",change:"zmień","generate and enter Blik code":"wygeneruj i wprowadź kod BLIK","how to generate the Blik code?":"Jak wygenerować kod BLIK?",installments:"raty",less:"mniej",longAgreementText:"Administratorem Twoich danych osobowych w&nbsp;rozumieniu ustawy z&nbsp;dnia 29&nbsp;sierpnia&nbsp;1997&nbsp;r. o ochronie danych osobowych (tj.&nbsp;Dz.U. z 2002 roku, nr 101, poz. 926 z&nbsp;późn. zm.) jest PayU S.A. z&nbsp;siedzibą w&nbsp;Poznaniu (60-166), przy ul.&nbsp;Grunwaldzkiej&nbsp;182. Pożyczkodawcą jest jeden z trzech podmiotów: Alior&nbsp;Bank&nbsp;S.A., mBank&nbsp;S.A. lub Kreditech&nbsp;Sp.&nbsp;z&nbsp;o.o.\nWybierany jest on automatycznie przez PayU. Niezależnie od wyboru, warunki i&nbsp;koszty pożyczki są zawsze takie same.",more:"więcej","new payment card":"nowa karta płatnicza","ok, I understand":"ok, rozumiem","payment card":"karta płatnicza","representative example":"przykład reprezentatywny","return to payment methods":"wróć do metod płatności","saved cards":"zapisane karty","select payment method":"wybierz metodę płatności",shortAgreementText:'Klikając w przycisk "przejdź do wniosku" zgadzasz się, aby powyższe dane do wysyłki zostały przekazane przez Administratora danych osobowych do pożyczkodawcy w&nbsp;celu rozpatrzenia wniosku o udzielenie pożyczki i zawierania umowy pożyczki.',transfer:"szybki przelew","wire transfer outside Allegro":"zwykły przelew poza Allegro"})}])},242:function(e,t){!function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t){e.exports=angular},function(e,t){var n="generalDeliveryTile.html";window.angular.module("deliveryMethods").run(["$templateCache",function(e){e.put(n,'<div ng-if="!$ctrl.isButton" class="tile" ng-class="{\r\n        \'point-details\': $ctrl.summaryMode,\r\n        \'delivery-spot-address\': !$ctrl.summaryMode,\r\n        \'selected\': $ctrl.isSelected\r\n    }"\r\n    ng-click="$ctrl.handleClick()">\r\n    <i ng-if="!$ctrl.summaryMode" class="icon icon-completed"></i>\r\n    <div class="general-delivery-tile-content" ng-include="$ctrl.generalDeliveryTileContentTemplate">\r\n    </div>\r\n</div>\r\n\r\n<button ng-if="$ctrl.isButton" class="tile big-button" ng-class="{\r\n        \'selected\': $ctrl.isSelected\r\n    }"\r\n    ng-click="$ctrl.handleClick()">\r\n    <i ng-if="!$ctrl.summaryMode" class="icon icon-completed"></i>\r\n    <div class="general-delivery-tile-content big-button-box" ng-include="$ctrl.generalDeliveryTileContentTemplate"></div>\r\n</button>')}]),e.exports=n},function(e,t){var n="generalDeliveryTileContent.html";window.angular.module("deliveryMethods").run(["$templateCache",function(e){e.put(n,'<p>\n\n    <div ng-if="$ctrl.showOverloadedInfoTop()">\n        <p>\n            <span class="spot-overloaded spot-overloaded--top">\n                <translate>This parcel can be overloaded.</translate>\n            </span>\n            <span>\n                <br />\n                <translate>Your parcel may be redirected to another parcel or parcel service point. Check other locations nearby.</translate>\n            </span>\n        </p>\n    </div>\n\n    <strong>{{$ctrl.spot.name}}</strong>\n    <br ng-if="$ctrl.spot.address.street">\n    {{$ctrl.spot.address.street}}\n    <br ng-if="$ctrl.spot.address.code || $ctrl.spot.address.city">\n    {{$ctrl.spot.address.code}}\n    {{$ctrl.spot.address.city}}\n\n    <div ng-if="$ctrl.showOverloadedInfoBottom()">\n        <p>\n            <span class="spot-overloaded spot-overloaded--bottom">\n                <translate>This parcel can be overloaded.</translate>\n            </span>\n        </p>\n    </div>\n\n</p>\n<p class="didascalia spot-description-wrapper" ng-if="$ctrl.spot.description">\n    <span class="spot-description" title="{{$ctrl.spot.description}}">\n        <translate>Description:</translate>&nbsp;{{$ctrl.spot.description}}\n    </span>\n</p>\n<p class="didascalia" ng-if="$ctrl.spot.openingTimes">\n    <translate>Opening hours:</translate>&nbsp;\n    <spot-opening-hours opening-hours="$ctrl.spot.openingTimes" break-day-range="false"></spot-opening-hours>\n</p>')}]),e.exports=n},function(e,t){var n="searchableSpotList.html";window.angular.module("deliveryMethods").run(["$templateCache",function(e){e.put(n,'<div id="search-form-container" class="search-form-container separator separator-bottom">\n    <form class="alle-form form-horizontal" name="searchForm" novalidate>\n        <fieldset>\n            <div class="form-group">\n                <div class="col-xm-12 multi-col">\n                    <div class="col-xm-6">\n                        <input class="form-control" id="city" name="city"\n                               ng-model="$ctrl.city" ng-change="$ctrl.searchSpots()" ng-model-options="{ debounce: 500 }"\n                               type="text" placeholder="{{\'type city\' | translate}}" required>\n                    </div>\n\n                    <div class="col-xm-6">\n                        <input class="form-control" id="query" name="query" value=""\n                               ng-model="query"\n                               ng-model-options="{ debounce: 300 }"\n                               ng-change="$ctrl.updateSpotList(query)"\n                               type="text" placeholder="{{\'filter\' | translate}}">\n                    </div>\n                </div>\n            </div>\n        </fieldset>\n    </form>\n</div>\n<div ng-if="$ctrl.searching" class="spot-list-spinner spinner spinner-large"></div>\n<div class="general-delivery-tiles">\n    <general-delivery-tile class="general-delivery-tile"\n        ng-repeat="spot in $ctrl.filteredSpots track by spot.id"\n        spot="::spot"\n        is-button="::true"\n        is-selected="::$ctrl.isTileSelected(spot.id)"\n        on-click="::$ctrl.handleSelectSpot(spot)"\n        selected-animation="::false"\n        overload-info-position="::\'bottom\'">\n    </general-delivery-tile>\n    <div ng-if="!$ctrl.searching" ng-hide="$ctrl.filteredSpots.length" class="watermark">\n        <h3 translate>No items found</h3>\n        <br>\n        <p translate>Try with different address</p>\n    </div>\n</div>')}]),e.exports=n},,function(e,t,n){n(6),e.exports=n(31)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(7),r=n(0);!function(e){!function(e){r.module("deliveryMethods",["gettext","ui.bootstrap","customError","ngMessages","ngStorage","formattedPrice","ng-analytics"]).config(["$localStorageProvider",function(e){e.setKeyPrefix("Delivery")}]).run(["gettextCatalog",function(e){e.currentLanguage=document.documentElement.lang,e.debug=!1}]).constant("DeliverySpotsMapCfg",a.default),n(8),n(13),n(15),n(17),n(18),n(20),n(22),n(23),n(24),n(25),n(26),n(27),n(28),n(29),n(30)}(e.scripts||(e.scripts={}))}(o||(o={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={isEnabled:!0,defaultCenterPoint:{PL:{coordLat:52.00585,coordLng:19.2041}},defaultAddress:{PL:{city:"Poznań"}},deliveryPartnersIcons:{DHL:{file:"partner-dhl.png",zIndex:1},RUCH:{file:"icon-partner-ruch-v2.png",zIndex:1},INPOST:{file:"icon-partner-inpost.png",zIndex:1},POCZTA_POLSKA:{file:"icon-partner-pp.png",zIndex:2},POCZTA_POLSKA_RUCH:{file:"icon-partner-pp-ruch.png",zIndex:1},POCZTA_POLSKA_ORLEN:{file:"icon-partner-pp-orlen.png",zIndex:1},POCZTA_POLSKA_AUTOMAT:{file:"icon-partner-pp-automat.png",zIndex:1},POCZTA_POLSKA_ZABKA:{file:"icon-partner-pp-zabka-v2.png",zIndex:1},POCZTA_POLSKA_FRESHMARKET:{file:"icon-partner-pp-fresh-v2.png",zIndex:1},UNKNOWN_PARTNER:{file:"icon-partner-default.png",zIndex:1}},markerClustererOptions:{zoomOnClick:!0,styles:[{url:"cluster-sm.png",height:36,width:37,anchor:[0,0],textColor:"#FFFFFF",textSize:12,backgroundColor:"#FFFFFF"},{url:"cluster-md.png",height:40,width:41,anchor:[0,0],textColor:"#FFFFFF",textSize:12},{url:"cluster-lg.png",height:42,width:43,anchor:[0,0],textColor:"#FFFFFF",textSize:12}],maxZoom:14},maximalZoomForPointsToLoad:9,coordTypeMapZoom:{GEOMETRIC_CENTER:13,ROOFTOP:15},addressTypeMapZoom:{locality:11,sublocality:13,route:14,postal_code:14,country:6,street_address:15,street_number:15,establishment:15,point_of_interest:15},defaultMapZoom:11,displayTooltipDelay:200}},function(e,n,o){var a,r=o(9),s=o(10),i=o(11),l=o(12);!function(e){!function(e){!function(e){function t(e,t,n,o,a,d,c){function p(e,t){return u(t)?s:r}function u(e){return e.summaryMode&&!0===JSON.parse(e.summaryMode)}function v(r){var s=function(e){angular.extend(r.order.delivery,e)},m=function(){s({deliveryMethod:{id:null},cost:{amount:null},generalDelivery:null,features:null}),r.showCustomCost=!1,r.customCost=null},p=function(e){y(e.selectedSpot),r.address=e.address,r.deliveryForm.$setDirty(),v()},g=function(){r.deliveryMethod=null,m()},y=function(e){s({generalDelivery:{partner:r.deliveryMethod.generalDelivery.partner,pointDetails:e}}),r.deliveryMethod.generalDelivery.pointDetails=e},v=function(){r.showSpotAddressAnimation=!0,t(function(){r.showSpotAddressAnimation=!1},2e3,!0)},h=function(e){return e.features&&e.features.customCost&&!0===e.features.customCost.available},f=function(e){return!h(e)&&e.cost&&parseFloat(e.cost.amount)>=0},C=function(){e.open({templateUrl:i,controller:"DeliverySpotsModalCtrl",controllerAs:"modalCtrl",bindToController:!0,windowTemplateUrl:l,scope:r}).result.then(p,g)},b=function(e){var t=a.getSinglePreferredGeneralDeliveryPointDetailsById(r.preferredMethods,e);t?(y(t),v()):C()};u(r)||c.configure(r.apiUrl),r.order.delivery&&Object.keys(r.order.delivery).length?(r.deliveryMethod=r.order.delivery,r.showCustomCost=h(r.deliveryMethod),r.showCustomCost&&(r.customCostRequired=r.showCustomCost,r.customCost=parseFloat(r.deliveryMethod.cost.amount))):(r.order.delivery={},r.customCostRequired=!0),r.deliveryMethods=function(e){return angular.forEach(e,function(e){var t="PREPAID"===e.deliveryMethod.payment.type;if(e.deliveryMethod.payment.name=t?n.getString("prepaid"):n.getString("postpaid"),e.label=e.deliveryMethod.name,f(e)){if(r.locale)var a=r.locale.country||null,s=r.locale.currency||null;if(r.service)var i=r.service.currencyConversionRates||null;e.label+=" - "+o(e.cost.amount,e.cost.currency,s,i,a)}}),e}(r.order.options.deliveryMethods),r.customCostPattern=/^[0-9]+([,\.][0-9]{1,2})?$/,r.userAddress&&(r.address=r.userAddress.city+", "+r.userAddress.street),r.showChangeDeliverySpotLink=function(){return r.order.delivery.generalDelivery&&r.order.delivery.generalDelivery.pointDetails},r.changeCustomCost=function(){s({cost:{amount:r.customCost,currency:r.service.currency}})},r.changeGeneralDeliverySpot=function(){d.onDeliverySpotChange(function(){return r&&r.deliveryMethod&&r.deliveryMethod.generalDelivery&&r.deliveryMethod.generalDelivery.pointDetails||{}}()),C()},r.changeDeliveryMethod=function(){var e=r.deliveryMethod;if(e){d.onDeliveryMethodChanged(e.deliveryMethod);var t=e.generalDelivery.partner.id;r.showCustomCost=h(e),r.customCostRequired=r.showCustomCost,e.cost||(e.cost={}),e.cost.amount=r.showCustomCost?r.customCost:e.cost.amount,s(e),t?b(e.deliveryMethod.id):s({generalDelivery:null})}else m()}}return{restrict:"E",templateUrl:p,controllerAs:"deliveryMethodsSelectCtrl",controller:"DeliveryMethodsSelectCtrl",bindToController:{showPopover:"="},scope:{order:"=",preferredMethods:"=?",locale:"=?",service:"=?",userAddress:"=?",imagesPath:"@?",markerClustererPath:"@?",summaryMode:"=?",summaryShowBackUrl:"=?",summaryBackUrl:"=?",disableOptimization:"=?",env:"=?",apiUrl:"=?"},link:v}}angular.module("deliveryMethods").directive("deliveryMethodsSelect",t),t.$inject=["$uibModal","$timeout","gettextCatalog","formattedPriceFilter","DeliveryPreferencesSvc","EventsSvc","ApiUrlSvc"]}(e.directives||(e.directives={}))}(e.scripts||(e.scripts={}))}(a||(a={}))},function(e,t){var n="deliveryMethodsSelect.html";window.angular.module("deliveryMethods").run(["$templateCache",function(e){e.put(n,'<div class="delivery-wrapper">\n    <ng-form name="deliveryForm">\n        <div class="clearfix">\n            <select\n                class="form-control select-sm pull-left"\n                name="deliveryMethod"\n                ng-class="{\'input-with-custom-cost\': showCustomCost, \'input-error\': deliveryForm.$dirty && deliveryForm.deliveryMethod.$invalid}"\n                ng-options="method.label group by method.deliveryMethod.payment.name for method in deliveryMethods track by method.deliveryMethod.id"\n                ng-model="deliveryMethod"\n                ng-change="changeDeliveryMethod()"\n                nga-action="DeliveryMethodSelectOpened"\n                required>\n                <option value="">- {{ "choose delivery" | translate}} -</option>\n            </select>\n\n            <input\n                type="hidden"\n                name="generalDeliveryPoint"\n                value=""\n                ng-if="deliveryMethod.generalDelivery.partner.id"\n                ng-model="order.delivery.generalDelivery.pointDetails"\n                required>\n\n            <div class="validation-message in" ng-if="deliveryForm.$dirty && deliveryForm.deliveryMethod.$invalid">\n                <div translate>select shipment method</div>\n            </div>\n\n            <input\n                class="another-shipping-method-cost form-control input-custom-cost pull-right"\n                name="customCost"\n                type="number"\n                step="0.01"\n                ng-value="{{deliveryMethod.cost.amount}}"\n                ng-model-options="{\n                    \'updateOn\': \'default\',\n                    \'debounce\': {\n                        \'default\': 250\n                    }\n                }"\n                ng-class="{\'input-error\': deliveryForm.customCost.$invalid}"\n                ng-show="showCustomCost"\n                ng-model="customCost"\n                ng-change="changeCustomCost()"\n                ng-pattern="customCostPattern"\n                ng-max="deliveryMethod.features.customCost.maxValue.amount"\n                ng-required="customCostRequired">\n            <div class="validation-message in" ng-messages="deliveryForm.customCost.$error" ng-if="showCustomCost && deliveryForm.customCost.$invalid" role="alert">\n                <div ng-message="required"><translate>provide shipment cost</translate></div>\n                <div ng-message="pattern, number"><translate>incorrect entry</translate></div>\n                <div ng-message="max"><translate>provided amount is too high</translate></div>\n            </div>\n        </div>\n        <div class="popover-metrumlike-wrapper"\n             popover-placement="bottom-left"\n             popover-is-open="deliveryMethodsSelectCtrl.showDeliveryMethodsPopover()"\n             popover-class="popover-metrumlike"\n             popover-trigger="\'outsideClick\'"\n             uib-popover-template="\'{{deliveryMethodsSelectCtrl.popoverTemplateUrl}}\'">\n        </div>\n\n        <general-delivery-tile\n            id="selected-shown-delivery-spot"\n            ng-if="showChangeDeliverySpotLink()"\n            spot="order.delivery.generalDelivery.pointDetails"\n            summary-mode="false"\n            is-selected="showSpotAddressAnimation"\n            overload-info-position="\'top\'">\n        </general-delivery-tile>\n\n        <button id="change-delivery-method-button" class="btn btn-link" ng-click="changeGeneralDeliverySpot()"\n                ng-if="showChangeDeliverySpotLink()" translate>\n            change\n        </button>\n    </ng-form>\n</div>\n')}]),e.exports=n},function(e,t){var n="deliverySectionSummary.html";window.angular.module("deliveryMethods").run(["$templateCache",function(e){e.put(n,'<div class="delivery-section-summary" ng-if="order.delivery.deliveryMethod.id">\n    <div class="method-details">\n        <div>\n            {{order.delivery.deliveryMethod.name}}\n\n            <span ng-if="order.delivery.deliveryMethod.payment.type===\'PREPAID\'">\n                (<translate>prepaid</translate>)\n            </span>\n\n            <span ng-if="order.delivery.deliveryMethod.payment.type===\'POSTPAID\'">\n                (<translate>postpaid</translate>)\n            </span>\n\n            <a ng-if="summaryShowBackUrl" ng-href="{{summaryBackUrl}}" translate>change</a>\n        </div>\n\n        <strong>{{ order.delivery.cost.amount | formattedPrice: order.delivery.cost.currency : locale.currency :\n            service.currencyConversionRates : locale.country}}</strong>\n    </div>\n\n    <general-delivery-tile\n        ng-if="order.delivery.generalDelivery.pointDetails"\n        spot="order.delivery.generalDelivery.pointDetails"\n        summary-mode="true"\n        is-selected="false">\n    </general-delivery-tile>\n\n</div>')}]),e.exports=n},function(e,t){var n="deliverySpotsModal.html";window.angular.module("deliveryMethods").run(["$templateCache",function(e){e.put(n,'<div class="modal-header">\n    <button id="delivery-spots-close-btn" class="btn-close" data-dismiss="modal" ng-click="modalCtrl.cancel()">\n        <i class="icon-back"></i>\n        <translate>return to shipping methods</translate>\n    </button>\n    <h4>\n        <translate ng-if="::modalCtrl.isPrePaidMethod()">select a pre collection point</translate>\n        <translate ng-if="::!modalCtrl.isPrePaidMethod()">select a post collection point</translate>\n    </h4>\n</div>\n\n<div class="modal-body">\n    <section id="latest-spots" class="latest-spots" ng-if="!modalCtrl.searchEnabled">\n        <h5 class="latest-spots-header" translate>you have selected those spots in previous purchases</h5>\n\n        <div class="general-delivery-tiles">\n            <general-delivery-tile\n                class="general-delivery-tile"\n                ng-repeat="spot in modalCtrl.latestSpots track by spot.id"\n                spot="::spot"\n                summary-mode="::false"\n                is-selected="::modalCtrl.isTileSelected(spot.id)"\n                is-button="::true"\n                on-click="::modalCtrl.selectTile(spot)"\n                overload-info-position="\'bottom\'">\n            </general-delivery-tile>\n        </div>\n    </section>\n    <button id="toggle-latest-spots-btn" class="btn btn-link" ng-if="::modalCtrl.latestSpotsAvailable" ng-click="modalCtrl.toggleLatestSpots()">\n        <translate ng-if="!modalCtrl.searchEnabled">show other spots</translate>\n        <translate ng-if="modalCtrl.searchEnabled">back to latest spots</translate>\n    </button>\n\n    <section id="spot-search-form" ng-if="modalCtrl.searchEnabled && modalCtrl.isGoogleMapsEnabled()">\n        <div id="search-form-container" class="search-form-container">\n            <form class="alle-form form-horizontal" name="searchForm" ng-submit="geocodeAddress()" novalidate>\n                <fieldset>\n                    <div class="form-group col-sm-8 input-group-validation">\n                        <label class="control-label regular-case" for="address" translate>find nearest delivery spot</label>\n\n                        <div class="input-group">\n                            <input class="form-control" id="address" name="address" ng-model="address" value="" placeholder="{{\'type city/street\'|translate}}" required>\n\n                            <span class="input-group-btn">\n                                <button id="delivery-spots-search-form-submit" class="btn btn-default" type="button" ng-click="geocodeAddress()" translate>\n                                    search\n                                </button>\n                            </span>\n                        </div>\n                        <div class="validation-message in" ng-if="searchForm.address.$error.required"><div translate>fill field</div></div>\n                    </div>\n                </fieldset>\n            </form>\n        </div>\n        <div class="map-container">\n            <spots-map class="map"></spots-map>\n        </div>\n    </section>\n\n    <section ng-if="modalCtrl.searchEnabled && !modalCtrl.isGoogleMapsEnabled()">\n        <div class="spot-list-container">\n            <searchable-spot-list city="userAddress.city"\n                       delivery-method="modalCtrl.deliveryMethod"\n                       on-selected-spot="modalCtrl.selectTile(spot)">\n            </searchable-spot-list>\n        </div>\n    </section>\n</div>\n\n<div class="modal-footer visible-xs visible-xm">\n    <button type="button" class="btn-close" data-dismiss="modal" ng-click="::modalCtrl.cancel()">\n        <i class="icon-back"></i>\n        <translate>return to shipping methods</translate>\n    </button>\n</div>')}]),e.exports=n},function(e,t){var n="deliverySpotsModalWindow.html";window.angular.module("deliveryMethods").run(["$templateCache",function(e){e.put(n,'<div tabindex="-1" role="dialog" class="modal" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog modal-lg modal-xs delivery-spots-modal">\n        <div class="modal-content" ng-transclude></div>\n    </div>\n</div>')}]),e.exports=n},function(e,n,o){var a,r=o(14);!function(e){!function(e){!function(e){function t(e,t,n,o,a,s,i,l,d){function c(c,u){var m=null,p=null,g=null,y=null,v=!0,h=!0,f={},C=null,b=function(){var e=a.defaultCenterPoint[c.service.countryCode];return{zoom:6,center:new google.maps.LatLng(e.coordLat,e.coordLng),mapTypeId:google.maps.MapTypeId.ROADMAP}},M=function(){var e=angular.copy(a.markerClustererOptions);angular.forEach(e.styles,function(e){e.url=c.imagesPath+e.url}),p=new MarkerClusterer(m,[],e)},P=function(){return{nwLat:m.getBounds().getNorthEast().lat(),nwLon:m.getBounds().getSouthWest().lng(),seLat:m.getBounds().getSouthWest().lat(),seLon:m.getBounds().getNorthEast().lng()}},k=function(){if(v){if(m.getZoom()>=a.maximalZoomForPointsToLoad){var e={payments:S(c.deliveryMethod),deliveryMethods:A(c.deliveryMethod),mapBoundaries:P()};o.getDeliverySpotsForMap(e).then(function(e){null!==e&&void 0!==e.points&&w(e.points),v=!0})}}else v=!0},S=function(e){return e&&e.deliveryMethod&&e.deliveryMethod.payment&&e.deliveryMethod.payment.type?e.deliveryMethod.payment.type:null},A=function(e){return e&&e.deliveryMethod&&e.deliveryMethod.id?e.deliveryMethod.id:null},w=function(t){p?p.clearMarkers():M(),angular.forEach(t,function(t){var n=t.deliveryMethods[0].partner.name,o=new google.maps.Marker({position:new google.maps.LatLng(t.coordinates.lat,t.coordinates.lon),icon:x(n),optimized:!c.disableOptimization,zIndex:$(n)});p.addMarker(o,!1),google.maps.event.addListener(o,"mouseout",function(){e.cancel(y)}),google.maps.event.addListener(o,"mouseover",function(){T(t,o)})})},$=function(e){return a.deliveryPartnersIcons[e]?a.deliveryPartnersIcons[e].zIndex:1},x=function(e){var t=a.deliveryPartnersIcons[e];return void 0===t&&(t=a.deliveryPartnersIcons.UNKNOWN_PARTNER),c.imagesPath+t.file},E=function(e){return f[e]||o.getDeliverySpot(e).then(function(t){return f[e]=t,t})},T=function(n,o){y=e(function(){l.when(E(n.id)).then(function(n){e(function(){var e=t(i.get(r))(c);v=!1,c.selectedSpot=n,c.$apply(),d.onDeliverySpotRendered(c.selectedSpot),g.close(),g.setContent(e[0]),g.open(m,o)},0)})},a.displayTooltipDelay)},D=function(e){function t(e,t){this.latlng_=e,this.setMap(t)}return t.prototype=new google.maps.OverlayView,t.prototype.draw=function(){this.div_||(this.div_=angular.element('<div class="customMarker"><div class="customMarkerDot"></div><div class="customMarkerShadow"></div></div>'),this.getPanes().overlayImage.appendChild(this.div_[0]));var e=this.getProjection().fromLatLngToDivPixel(this.latlng_);e&&(this.div_[0].style.left=e.x+"px",this.div_[0].style.top=e.y+"px")},t.prototype.remove=function(){this.div_&&(this.div_.remove(),this.div_=null)},t.prototype.getPosition=function(){return this.latlng_},new t(e,m)},I=function(e){e.setMap(null)},z=function(e){C&&I(C);var t=new google.maps.LatLng(e.lat,e.lon);C=D(t),m.setCenter(t),m.setZoom(N(e))},N=function(e){var t=e.coordType;if(a.coordTypeMapZoom[t])return a.coordTypeMapZoom[t];var n=e.addressTypes;for(var o in n)if(a.addressTypeMapZoom[n[o]])return a.addressTypeMapZoom[n[o]];return a.defaultMapZoom},L=function(){google.maps.event.trigger(m,"resize"),k(),h&&(h=!1,c.order&&c.order.delivery&&c.order.delivery.generalDelivery&&c.order.delivery.generalDelivery.pointDetails&&c.order.delivery.generalDelivery.pointDetails.coordinates?z(c.order.delivery.generalDelivery.pointDetails.coordinates):c.geocodeAddress())},O=function(){d.onMapDisplayed(),m=new google.maps.Map(u[0],b()),g=new google.maps.InfoWindow,google.maps.event.addListener(g,"closeclick",k),google.maps.event.addListener(m,"idle",L)};c.isPostPaidMethod=function(){return"POSTPAID"===S(c.deliveryMethod)},c.selectSpot=function(){d.onSpotSelectedFromMap(c.selectedSpot),c.modalCtrl.resolveModal(c.selectedSpot,c.address)},c.geocodeAddress=function(){c.address&&s.geocode(c.address,c.service.countryCode).then(function(e){z({lat:e.coordLat,lon:e.coordLng,coordType:e.coordType,addressTypes:e.addressTypes})})},c.modalCtrl.isGoogleMapsEnabled()&&(n.isGoogleMapsInitialized()?O():n.loadMap(c.markerClustererPath,c.env).then(function(){O()},function(e){throw new Error("Failed to load map: "+e)}))}return{restrict:"E",link:c}}angular.module("deliveryMethods").directive("spotsMap",t),t.$inject=["$timeout","$compile","MapsInitializerSvc","DeliverySpotsProviderSvc","DeliverySpotsMapCfg","GeocoderSvc","$templateCache","$q","EventsSvc"]}(e.directives||(e.directives={}))}(e.scripts||(e.scripts={}))}(a||(a={}))},function(e,t){var n="spotPopover.html";window.angular.module("deliveryMethods").run(["$templateCache",function(e){e.put(n,'<div class="delivery-spot-tooltip" id="spot-window-{{selectedSpot.id}}">\n    <h5 class="delivery-spot-tooltip-header">{{selectedSpot.name}}</h5>\n    <address>\n        {{selectedSpot.address.street}}<br>\n        {{selectedSpot.address.code}} {{selectedSpot.address.city}}\n    </address>\n\n    <div class="spot-overloaded" ng-if="selectedSpot.overloaded">\n        <translate>This parcel can be overloaded.</translate>\n    </div>\n\n    <div ng-if="selectedSpot.openingTimes">\n        <h6 translate>Opening hours:</h6>\n        <spot-opening-hours opening-hours="selectedSpot.openingTimes" break-day-range="true"></spot-opening-hours>\n    </div>\n    <div>\n        <strong>{{deliveryMethod.cost.amount | currency}}</strong>\n    </div>\n    <div>\n        <a class="btn btn-primary delivery-spot-button" ng-click="selectSpot()" translate>\n            choose\n        </a>\n    </div>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);n(1);var a,r=n(16);!function(e){!function(e){!function(e){o.module("deliveryMethods").controller("GeneralDeliveryTileCtrl",r.GeneralDeliveryTileCtrl).component("generalDeliveryTile",function(){return{restrict:"E",bindings:{spot:"<",summaryMode:"<",isSelected:"<",isButton:"<",onClick:"&",overloadInfoPosition:"<"},controller:"GeneralDeliveryTileCtrl",templateUrl:n(1)}}())}(e.components||(e.components={}))}(e.scripts||(e.scripts={}))}(a||(a={}))},function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),o(2);var a=function(){function e(e){this.eventsSvc=e}return e.prototype.$onInit=function(){this.generalDeliveryTileContentTemplate=o(2)},e.prototype.$onChanges=function(e){!this.summaryMode&&e.spot&&this.notifySpotRendered()},e.prototype.handleClick=function(){this.onClick&&this.onClick()},e.prototype.showOverloadedInfo=function(){return!this.summaryMode&&this.spot.overloaded},e.prototype.showOverloadedInfoTop=function(){return this.showOverloadedInfo()&&"top"===this.overloadInfoPosition},e.prototype.showOverloadedInfoBottom=function(){return this.showOverloadedInfo()&&"bottom"===this.overloadInfoPosition},e.prototype.notifySpotRendered=function(){this.eventsSvc.onDeliverySpotRendered(this.spot)},e}();n.GeneralDeliveryTileCtrl=a,a.$inject=["EventsSvc"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);n(3);var a;!function(e){!function(e){!function(e){o.module("deliveryMethods").component("searchableSpotList",function(){return{restrict:"E",bindings:{city:"<",deliveryMethod:"<",onSelectedSpot:"&"},controller:"SearchableSpotListCtrl",templateUrl:n(3)}}())}(e.components||(e.components={}))}(e.scripts||(e.scripts={}))}(a||(a={}))},function(e,t,n){var o,a=n(19);!function(e){!function(e){!function(e){angular.module("deliveryMethods").component("spotOpeningHours",function(){return{bindings:{openingHours:"<",breakDayRange:"<"},bindToController:!0,controller:"SpotOpeningHoursCtrl",templateUrl:a}}())}(e.components||(e.components={}))}(e.scripts||(e.scripts={}))}(o||(o={}))},function(e,t){var n="spotOpeningHours.html";window.angular.module("deliveryMethods").run(["$templateCache",function(e){e.put(n,'<span ng-if="$ctrl.groupedDays.length">\n    <span ng-if="$ctrl.isOpenAroundTheClock" translate>\n        Open around the clock\n    </span>\n\n    <span ng-repeat="day in $ctrl.groupedDays" ng-if="!$ctrl.isOpenAroundTheClock">\n        <time ng-if="day.range.to && $ctrl.breakDayRange">\n            {{day.range.from}} - {{day.range.to}}:<br/>{{day.hours.from}} - {{day.hours.to}}\n        </time>\n        <time ng-if="day.range.to && !$ctrl.breakDayRange">\n            {{day.range.from}} - {{day.range.to}}:\n            {{day.hours.from}} - {{day.hours.to}}\n        </time>\n        <time ng-if="!day.range.to">\n            {{day.range.from}}: {{day.hours.from}} - {{day.hours.to}}\n        </time>\n    </span>\n</span>')}]),e.exports=n},function(e,n,o){var a,r=o(21);!function(e){!function(e){!function(e){function t(e){var t=this;t.popoverTemplateUrl=r,t.showDeliveryMethodsPopover=function(){return t.showPopover&&(t.isEveningAvailable()||t.isNewPostParcelsAvailable())},t.isEveningAvailable=function(){return!(!t.showPopover||!t.showPopover.evening||e.eveningPopoverOpened)},t.isNewPostParcelsAvailable=function(){return!(!t.showPopover||!t.showPopover.newPostParcels||e.newSpotsPopoverOpened)},t.disableNewSpotsPopover=function(){e.newSpotsPopoverOpened=!0},t.disableEveningPopover=function(){e.eveningPopoverOpened=!0}}angular.module("deliveryMethods").controller("DeliveryMethodsSelectCtrl",t),t.$inject=["$localStorage"]}(e.controllers||(e.controllers={}))}(e.scripts||(e.scripts={}))}(a||(a={}))},function(e,t){var n="deliveryMethodsSelectPopover.html";window.angular.module("deliveryMethods").run(["$templateCache",function(e){e.put(n,'<div ng-if="deliveryMethodsSelectCtrl.isEveningAvailable()" class="popover-metrumlike-content">\n    <h3 class="popover-title" translate>Evening delivery - new method</h3>\n    <div class="popover-content">\n        <p translate>Evening delivery is done from 6 to 10 p.m. Delivery time is between 24 and 48 hours</p>\n    </div>\n    <button type="button" class="metrumlike-button" ng-click="deliveryMethodsSelectCtrl.disableEveningPopover()" translate>close</button>\n</div>\n\n<div ng-if="deliveryMethodsSelectCtrl.isNewPostParcelsAvailable()" class="popover-metrumlike-content">\n    <h3 class="popover-title" translate>New delivery points for post parcels</h3>\n    <div class="popover-content">\n        <p translate>You can now collect your parcel on Orlen stations or RUCH.</p>\n    </div>\n    <button type="button" class="metrumlike-button" ng-click="deliveryMethodsSelectCtrl.disableNewSpotsPopover()" translate>close</button>\n</div>')}]),e.exports=n},function(e,t){var n;!function(e){!function(e){!function(e){function t(e,t,n,o){var a=this,r=this.deliveryMethod&&this.deliveryMethod.deliveryMethod?this.deliveryMethod.deliveryMethod.id:null;this.latestSpots=n.getAllPreferredGeneralDeliveryPointDetailsById(this.preferredMethods,r),this.latestSpotsAvailable=this.latestSpots.length>1,this.searchEnabled=!this.latestSpotsAvailable,this.resolveModal=function(t,n){e.close({selectedSpot:t,address:n})},this.selectTile=function(e){o.onSpotSelectedFromTile(e),this.resolveModal(e,this.address)},this.isTileSelected=function(e){return!!(a.order&&a.order.delivery&&a.order.delivery.generalDelivery&&a.order.delivery.generalDelivery.pointDetails&&a.order.delivery.generalDelivery.pointDetails.id===e)},this.isPrePaidMethod=function(){return!!(a.order&&a.order.delivery&&a.order.delivery.deliveryMethod&&a.order.delivery.deliveryMethod.payment&&"PREPAID"===a.order.delivery.deliveryMethod.payment.type)},this.toggleLatestSpots=function(){this.searchEnabled=!this.searchEnabled},this.cancel=function(){e.dismiss("cancel")},this.isGoogleMapsEnabled=function(){return t.isEnabled}}angular.module("deliveryMethods").controller("DeliverySpotsModalCtrl",t),t.$inject=["$uibModalInstance","DeliverySpotsMapCfg","DeliveryPreferencesSvc","EventsSvc"]}(e.controllers||(e.controllers={}))}(e.scripts||(e.scripts={}))}(n||(n={}))},function(e,t){var n;!function(e){!function(e){!function(e){function t(e,t){var n=this,o=[];this.$onInit=function(){n.filteredSpots=o,n.searchSpots()};var a=function(e){return e&&e.deliveryMethod&&e.deliveryMethod.payment&&e.deliveryMethod.payment.type?e.deliveryMethod.payment.type:null},r=function(e){return e&&e.deliveryMethod&&e.deliveryMethod.id?e.deliveryMethod.id:null},s=function(){n.filteredSpots=o=[]};n.updateSpotList=function(t){n.filteredSpots=e("filter")(o,t)},n.isTileSelected=function(e){return!!(n.deliveryMethod&&n.deliveryMethod.generalDelivery&&n.deliveryMethod.generalDelivery.pointDetails&&n.deliveryMethod.generalDelivery.pointDetails.id===e)},n.handleSelectSpot=function(e){this.onSelectedSpot&&this.onSelectedSpot({spot:e})},n.searchSpots=function(){if(n.city&&n.city.length){s(),n.searching=!0;var e={payments:a(n.deliveryMethod),deliveryMethods:r(n.deliveryMethod),city:n.city};t.getDeliverySpotsForList(e).then(function(e){o=Array.isArray(e.points)?e.points:[],n.updateSpotList("")}).finally(function(){n.searching=!1})}}}angular.module("deliveryMethods").controller("SearchableSpotListCtrl",t),t.$inject=["$filter","DeliverySpotsProviderSvc"]}(e.controllers||(e.controllers={}))}(e.scripts||(e.scripts={}))}(n||(n={}))},function(e,t){var n;!function(e){!function(e){!function(e){function t(e){var t=this;t.$onChanges=function(n){n.openingHours&&(t.groupedDays=e.groupOpeningHours(t.openingHours),t.groupedDays.length&&(t.isOpenAroundTheClock=e.isOpenAroundTheClock(t.openingHours))),n.breakDayRange&&void 0===t.breakDayRange&&(t.breakDayRange=!0)}}angular.module("deliveryMethods").controller("SpotOpeningHoursCtrl",t),t.$inject=["DeliverySpotsProviderSvc"]}(e.controllers||(e.controllers={}))}(e.scripts||(e.scripts={}))}(n||(n={}))},function(e,t){var n;!function(e){!function(e){!function(e){function t(e,t){var n=function(n,o){var a=t.defer(),r=document.createElement("script");return o?(e[o]=a.resolve,n+=o):r.onload=a.resolve,r.src=n,document.body.appendChild(r),a.promise};return{loadMap:function(e,t){var o="key=AIzaSyAIBiigINE-y84BISb2lAZvi8C6_yil7H4&v=3";return"PRODUCTION"===t&&(o="client=gme-grupaallegrospzoo&v=3.31"),n("https://maps.googleapis.com/maps/api/js?"+o+"&callback=","googleMapsInitialized").then(function(){return n(e)})},isGoogleMapsInitialized:function(){return!!e.googleMapsInitialized}}}angular.module("deliveryMethods").factory("MapsInitializerSvc",t),t.$inject=["$window","$q"]}(e.services||(e.services={}))}(e.scripts||(e.scripts={}))}(n||(n={}))},function(e,t){var n;!function(e){!function(e){!function(e){function t(e,t,n){var o=!0,a=null,r=function(e,n){return e||t[n].city};return{geocode:function(t,s){var i=e.defer();return a||(a=new google.maps.Geocoder),o=!1,a.geocode({address:r(t,s)},function(e,t){o=!0,n.onAddressGeocoded(),t===google.maps.GeocoderStatus.OK?i.resolve({coordLat:e[0].geometry.location.lat(),coordLng:e[0].geometry.location.lng(),coordType:e[0].geometry.location_type,addressTypes:e[0].types}):i.reject()}),i.promise}}}angular.module("deliveryMethods").factory("GeocoderSvc",t),t.$inject=["$q","DeliverySpotsMapCfg","EventsSvc"]}(e.services||(e.services={}))}(e.scripts||(e.scripts={}))}(n||(n={}))},function(e,t){var n;!function(e){!function(e){!function(e){function t(e){function t(e,t){var n=o(e,t);return n.length?n[0]:null}function o(t,o){return t&&Array.isArray(t.generalDelivery)?r(t.generalDelivery.filter(function(e){return e.pointDetails&&Array.isArray(e.pointDetails.deliveryMethods)&&e.pointDetails.deliveryMethods.some(function(e){return e.id===o})}).map(function(t){var n=t.pointDetails;return e.isOpeningTimesAvailable(n.openingTimes)||(n.openingTimes=null),n})).slice(0,n):[]}function r(e){var t=e.map(function(e){return e.id});return e.filter(function(e,n){return n===t.indexOf(e.id)})}return{getSinglePreferredGeneralDeliveryPointDetailsById:t,getAllPreferredGeneralDeliveryPointDetailsById:o}}angular.module("deliveryMethods").factory("DeliveryPreferencesSvc",t);var n=3;t.$inject=["DeliverySpotsProviderSvc"]}(e.services||(e.services={}))}(e.scripts||(e.scripts={}))}(n||(n={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(){function e(e){this.ngaService=e}return e.prototype.onMapDisplayed=function(){this.sendEvent("GoogleMapDisplayed")},e.prototype.onAddressGeocoded=function(){this.sendEvent("GoogleGeocodingApiUsed")},e.prototype.onDeliveryMethodChanged=function(e){this.sendEvent("DeliveryMethodSelected",e.name,{id:e.id,paymentType:e.payment.type})},e.prototype.onDeliverySpotChange=function(e){this.sendDeliverySpotEvent("PickupPointChanged",e)},e.prototype.onSpotSelectedFromMap=function(e){this.sendDeliverySpotEvent("PickupPointSelectedFromMap",e)},e.prototype.onSpotSelectedFromTile=function(e){this.sendDeliverySpotEvent("PickupPointSelectedFromTile",e)},e.prototype.onDeliverySpotRendered=function(e){this.sendDeliverySpotEvent("PickupPointDetailsRendered",e)},e.prototype.sendDeliverySpotEvent=function(e,t){this.sendEvent(e,t.name,{id:t.id,overloaded:t.overloaded,partner:t.deliveryMethods&&t.deliveryMethods.map(function(e){return e.partner.name}).filter(function(e){return e}).filter(function(e,t,n){return n.indexOf(e)===t}).join()})},e.prototype.sendEvent=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n={}),this.ngaService.sendEvent("PurchasingProcess",e,t,null,n)},e}();t.EventsSvc=a,a.$inject=["NgaSvc"];var r;!function(e){!function(e){!function(e){o.module("deliveryMethods").service("EventsSvc",a)}(e.services||(e.services={}))}(e.scripts||(e.scripts={}))}(r||(r={}))},function(e,t){var n;!function(e){!function(e){!function(e){function t(e,t,n,o,r,i){function s(e){var t={deliveryMethods:e.deliveryMethods,payments:e.payments,clusterThreshold:1e5,zoom:"16",showAffiliates:!0};return a({url:o.get("/general-deliveries"),method:"GET",headers:{Accept:"application/vnd.allegro.public.v3+json"},params:angular.extend(t,e.mapBoundaries),withCredentials:!1,context:this})}function l(e){var t={deliveryMethods:e.deliveryMethods,payments:e.payments,"address.city":e.city};return a({url:o.get("/general-deliveries/search"),cache:!0,method:"GET",headers:{Accept:"application/vnd.allegro.public.v3+json"},params:t,withCredentials:!1,context:this})}function a(o){return e(o).then(function(e){return e.data},function(e){throw new t({name:"DeliverySpotsProviderException",message:"Failed to load delivery spots",userMessage:n.getString("Failed to load delivery spots, please try again"),error:e})})}function d(a){var r={url:o.get("/general-deliveries/"+a),method:"GET",withCredentials:!1,headers:{Accept:"application/vnd.allegro.public.v3+json"},params:{showAffiliates:!0}};return e(r).then(function(e){var t=e.data;return c(t.openingTimes)||(t.openingTimes=null),t},function(e){throw new t({name:"DeliverySpotProviderException",message:"Failed to load delivery spot details from general delivery service",userMessage:n.getString("Failed to load delivery spot details, please try again"),error:e})})}function c(e){return!!e&&Object.keys(e).filter(function(t){return e[t]&&""!==e[t].from&&""!==e[t].to}).length>0}function p(e){return Array.isArray(e)&&e.some(function(e){return e.deliveryMethod.name===r.PACZKA24||e.deliveryMethod.name===r.PACZKA48})}function u(e){return Array.isArray(e)&&e.some(function(e){return-1!==i.indexOf(e.deliveryMethod.id)})}function v(e){var t=!0;return angular.forEach(e,function(e){(null===e||"00:00"!==e.from||"23:59"!==e.to&&"24:00"!==e.to)&&(t=!1)}),t}function y(e){var t=null,n=[],o=0;if(!e)return n;for(var a in m){var r=m[a],s=e[r];if(void 0===s)return n;null!==s?(t?t.hours.from===s.from&&t.hours.to===s.to||(n[o].range.from!==t.name&&(n[o].range.to=t.name),n[++o]={range:{from:h[r],to:null},hours:s}):n[o]={range:{from:h[r],to:null},hours:s},r===g&&n[o].range.from!==h[r]&&t.hours.from===s.from&&t.hours.to===s.to&&(n[o].range.to=h[r]),t={name:h[r],hours:s}):n.length&&t&&(n[o].range.from!==t.name&&(n[o].range.to=t.name),t=null,o++)}return n}var m=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],g=m[m.length-1],h={monday:n.getString("monday"),tuesday:n.getString("tuesday"),wednesday:n.getString("wednesday"),thursday:n.getString("thursday"),friday:n.getString("friday"),saturday:n.getString("saturday"),sunday:n.getString("sunday")};return{getDeliverySpotsForList:l,getDeliverySpotsForMap:s,getDeliverySpot:d,isOpeningTimesAvailable:c,isNewDeliveryMethodsForPostParcelsAvailable:p,isEveningDeliveryMethodAvailable:u,isOpenAroundTheClock:v,groupOpeningHours:y}}angular.module("deliveryMethods").constant("DELIVERY_TO_POINT_PREPAID_MAP",{PACZKA24:"Paczka24 Odbiór w Punkcie",PACZKA48:"E-PRZESYŁKA / Paczka48 Odbiór w Punkcie"}).constant("EVENING_DELIVERY_METHOD_IDS",["6a0f88ba-8f25-44fc-b1cf-25f45cbe8e72","3ca09a1f-11f2-4763-974e-ae80404062c3"]).factory("DeliverySpotsProviderSvc",t),t.$inject=["$http","CustomException","gettextCatalog","ApiUrlSvc","DELIVERY_TO_POINT_PREPAID_MAP","EVENING_DELIVERY_METHOD_IDS"]}(e.services||(e.services={}))}(e.scripts||(e.scripts={}))}(n||(n={}))},function(e,t){var n;!function(e){!function(e){!function(e){angular.module("deliveryMethods").factory("ApiUrlSvc",function(){var e;return{configure:function(t){e=t},get:function(t){return""+(e||"")+t}}})}(e.services||(e.services={}))}(e.scripts||(e.scripts={}))}(n||(n={}))},function(e,t){angular.module("deliveryMethods").run(["gettextCatalog",function(e){e.setStrings("pl",{"Description:":"Opis:","Evening delivery - new method":"Kurier wieczór - nowa metoda dostawy","Evening delivery is done from 6 to 10 p.m. Delivery time is between 24 and 48 hours":"Paczkę dostarcza DHL:<br />- od 18:00 do 22:00 w większości miast,<br />- od 17:00 do 22:00 na pozostałych terenach.<br /><br />Dostawa w 1-2 dni robocze od nadania paczki.","Failed to load delivery spot details, please try again":"Nie udało się załadować szczegółów tego punktu, spróbuj ponownie","Failed to load delivery spots, please try again":"Nie udało się załadować punktów odbioru, spróbuj ponownie","New delivery points for post parcels":"Nowe punkty odbioru przesyłek pocztowych","No items found":"Nie znaleźliśmy żadnego punktu odbioru.","Open around the clock":"całodobowo","Opening hours:":"Godziny otwarcia:","This parcel can be overloaded.":"Ten Paczkomat może być przepełniony.","Your parcel may be redirected to another parcel or parcel service point. Check other locations nearby.":"Twoja paczka może zostać przekierowana do innego Paczkomatu lub Punktu Obsługi Paczek. Sprawdź inne lokalizacje w pobliżu.","Try with different address":"Spróbuj wpisać inny adres.","You can now collect your parcel on Orlen stations or RUCH.":"Teraz przesyłki pocztowe opłacone z góry możesz odbierać również na stacjach Orlen oraz w&nbsp;punktach&nbsp;RUCH.","back to latest spots":"wróć do ostatnio wybranych punktów odbioru",change:"Zmień",choose:"wybierz","choose delivery":"wybierz",close:"zamknij","fill field":"uzupełnij pole",filter:"wpisz ulicę lub nazwę punktu odbioru","find nearest delivery spot":"znajdź punkt odbioru najbliżej Ciebie",friday:"Piątek","incorrect entry":"zły format",monday:"Poniedziałek",postpaid:"płatne przy odbiorze",prepaid:"płatne z góry","provide shipment cost":"podaj koszt dostawy","provided amount is too high":"podana kwota jest zbyt duża","return to shipping methods":"wróć do sposobów dostawy",saturday:"Sobota",search:"pokaż punkty","select a post collection point":"punkty odbioru (płatne przy odbiorze)","select a pre collection point":"punkty odbioru (płatne z góry)","select shipment method":"wybierz sposób dostawy","show other spots":"pokaż inne punkty odbioru",sunday:"Niedziela",thursday:"Czwartek",tuesday:"Wtorek","type city":"wpisz miasto","type city/street":"wpisz miejscowość, ulicę",wednesday:"Środa","you have selected those spots in previous purchases":"Z tych punktów odbioru korzystałeś przy poprzednich zakupach."})}])}])},243:function(e,t){!function(){"use strict";function CustomExceptionService(){function CustomException(e){var t,n,o=[];if(t=e.error,this.errorCode="",this.name=e.name,this.message=e.message,this.userMessage=e.userMessage,this.traceId=t&&"function"==typeof t.headers?t.headers("Trace-Id"):"",t)if(t.status?this.message="["+t.status+"] "+this.message:this.message="[no status]",this.traceId&&(this.message+=" ("+this.traceId+")"),t.data&&Array.isArray(t.data.errors)&&t.data.errors[0]){if(t.data.errors[0].code&&(this.errorCode=t.data.errors[0].code),t.data.errors[0].message&&(this.message+=". "+t.data.errors[0].message),t.data.errors[0].details){var a=t.data.errors[0].details;this.message+=" ("+a+")",o.push(a)}if(t.data.errors[0].path){var r=t.data.errors[0].path;this.message+=" (path: "+r+")",o.push(r)}t.data.errors[0].userMessage&&(this.userMessage+=" ("+t.data.errors[0].userMessage+")")}else t.statusText&&(this.message+=" ("+t.statusText+")");if(n=Error.call(this,this.message),n.stack){var s=this.name+this.errorCode;o.unshift(n.stack.replace(/CustomException/g,s))}this.stack=o.join("\n")}return CustomException.prototype=Object.create(Error.prototype),CustomException.prototype.constructor=CustomException,CustomException}angular.module("customError",[]).service("CustomException",CustomExceptionService)}()},244:function(e,t){!function(e,t,n){"use strict";function d(e){function b(e,t){return e?o(e)?e.indexOf(t)>=0:e.hasOwnProperty(t):void 0}return["$animate",function(e){return{restrict:"AE",transclude:"element",terminal:!0,require:"^^ngMessages",link:function(t,n,a,r,s){var i,l=n[0],d=a.ngMessage||a.when,c=a.ngMessageExp||a.whenExp,u=function(e){i=e?o(e)?e:e.split(/[\s,]+/):null,r.reRender()};c?(u(t.$eval(c)),t.$watchCollection(c,u)):u(d);var m,p;r.register(l,p={test:function(e){return b(i,e)},attach:function(){m||s(t,function(t){e.enter(t,null,n),m=t;var o=m.$$attachId=r.getAttachId();m.on("$destroy",function(){m&&m.$$attachId===o&&(r.deregister(l),p.detach())})})},detach:function(){if(m){var t=m;m=null,e.leave(t)}}})}}}]}var o=t.isArray,a=t.forEach,r=t.isString,s=t.element;t.module("ngMessages",[]).directive("ngMessages",["$animate",function(e){function b(e,t){return r(t)&&0===t.length||c(e.$eval(t))}function c(e){return r(e)?e.length:!!e}var t="ng-active",n="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(o,r,s){function j(e,t){for(var n=t,o=[];n&&n!==e;){var a=n.$$ngMessageNode;if(a&&a.length)return g[a];n.childNodes.length&&-1==o.indexOf(n)?(o.push(n),n=n.childNodes[n.childNodes.length-1]):n=n.previousSibling||n.parentNode}}function k(e,t,n){var o=g[n];if(i.head){var a=j(e,t);a?(o.next=a.next,a.next=o):(o.next=i.head,i.head=o)}else i.head=o}function l(e,t,n){var o=g[n],a=j(e,t);a?a.next=o.next:i.head=o.next}var i=this,d=0,u=0;this.getAttachId=function(){return u++};var m,p,g=this.messages={};this.render=function(l){l=l||{},m=!1,p=l;for(var d=b(r,s.ngMessagesMultiple)||b(r,s.multiple),u=[],g={},y=i.head,v=!1,h=0;null!=y;){h++;var f=y.message,C=!1;v||a(l,function(e,t){if(!C&&c(e)&&f.test(t)){if(g[t])return;g[t]=!0,C=!0,f.attach()}}),C?v=!d:u.push(f),y=y.next}a(u,function(e){e.detach()}),u.length!==h?e.setClass(o,t,n):e.setClass(o,n,t)},r.$watchCollection(s.ngMessages||s.for,i.render),this.reRender=function(){m||(m=!0,r.$evalAsync(function(){m&&p&&i.render(p)}))},this.register=function(e,t){var n=d.toString();g[n]={message:t},k(o[0],e,n),e.$$ngMessageNode=n,d++,i.reRender()},this.deregister=function(e){var t=e.$$ngMessageNode;delete e.$$ngMessageNode,l(o[0],e,t),delete g[t],i.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(e,t,n){return{restrict:"AE",require:"^^ngMessages",link:function(o,a,r){var i=r.ngMessagesInclude||r.src;e(i).then(function(e){n(e)(o,function(e){a.after(e);var n=s(t[0].createComment(" ngMessagesInclude: "+i+" "));a.after(n),a.remove()})})}}}]).directive("ngMessage",d("AE")).directive("ngMessageExp",d("A"))}(window,window.angular),angular.module("addresses",["gettext","ngMessages","ui.mask"]).run(["gettextCatalog",function(e){e.currentLanguage=document.documentElement.lang,e.debug=!1}]),angular.module("addresses").constant("COUNTRIES_CS",[{countryCode:"PL",name:"Polsko"},{countryCode:"GB",name:"Velká Británie"},{countryCode:"CH",name:"Švýcarsko"},{countryCode:"AL",name:"Albánie"},{countryCode:"DZ",name:"Alžírsko"},{countryCode:"AS",name:"Americká Samoa"},{countryCode:"AD",name:"Andorra"},{countryCode:"AO",name:"Angola"},{countryCode:"AI",name:"Anguilla"},{countryCode:"AG",name:"Antigua a Barbuda"},{countryCode:"AR",name:"Argentina"},{countryCode:"AM",name:"Arménie"},{countryCode:"AW",name:"Aruba"},{countryCode:"AU",name:"Austrálie"},{countryCode:"AT",name:"Rakousko"},{countryCode:"AZ",name:"Ázerbájdžánská republika"},{countryCode:"BS",name:"Bahamské ostrovy"},{countryCode:"BH",name:"Bahrajn"},{countryCode:"BD",name:"Bangladéš"},{countryCode:"BB",name:"Barbados"},{countryCode:"BY",name:"Bělorusko"},{countryCode:"BE",name:"Belgie"},{countryCode:"BZ",name:"Belize"},{countryCode:"BJ",name:"Benin"},{countryCode:"BM",name:"Bermudské ostrovy"},{countryCode:"BT",name:"Bhutan"},{countryCode:"BO",name:"Bolívie"},{countryCode:"BA",name:"Bosna a Hercegovina"},{countryCode:"BW",name:"Botswana"},{countryCode:"BR",name:"Brazílie"},{countryCode:"VG",name:"Britské Panenské ostrovy"},{countryCode:"BN",name:"Brunei Darussalam"},{countryCode:"BG",name:"Bulharsko"},{countryCode:"BF",name:"Burkina Faso"},{countryCode:"MM",name:"Burma"},{countryCode:"BI",name:"Burundi"},{countryCode:"KH",name:"Kambodža"},{countryCode:"CM",name:"Kamerun"},{countryCode:"CV",name:"Kapverdské ostrovy"},{countryCode:"KY",name:"Kajmanské ostrovy"},{countryCode:"CF",name:"Středoafrická republika"},{countryCode:"TD",name:"Čadská republika"},{countryCode:"CL",name:"Chile"},{countryCode:"CN",name:"Čína"},{countryCode:"CO",name:"Kolumbie"},{countryCode:"KM",name:"Komory"},{countryCode:"CD",name:"Demokratická republika Kongo"},{countryCode:"CG",name:"Republika Kongo"},{countryCode:"CK",name:"Cookovy ostrovy"},{countryCode:"CR",name:"Kostarika"},{countryCode:"CI",name:"Pobřeží slonoviny"},{countryCode:"HR",name:"Chorvatsko"},{countryCode:"CY",name:"Kypr"},{countryCode:"CZ",name:"Česká republika"},{countryCode:"DK",name:"Dánsko"},{countryCode:"DJ",name:"Džibutsko"},{countryCode:"DM",name:"Dominika"},{countryCode:"DO",name:"Dominikánská republika"},{countryCode:"EC",name:"Ekvádor"},{countryCode:"EG",name:"Egypt"},{countryCode:"SV",name:"El Salvador"},{countryCode:"GQ",name:"Rovníková Guinea"},{countryCode:"ER",name:"Eritrea"},{countryCode:"EE",name:"Estonsko"},{countryCode:"ET",name:"Etiopie"},{countryCode:"FK",name:"Falklandy (Malvíny)"},{countryCode:"FJ",name:"Fidži"},{countryCode:"FI",name:"Finsko"},{countryCode:"FR",name:"Francie"},{countryCode:"GF",name:"Francouzská Guiana"},{countryCode:"PF",name:"Francouzská Polynésie"},{countryCode:"GA",name:"Gabonská republika"},{countryCode:"GE",name:"Georgia"},{countryCode:"GH",name:"Ghana"},{countryCode:"GI",name:"Gibraltar"},{countryCode:"GR",name:"Řecko"},{countryCode:"GL",name:"Grónsko"},{countryCode:"GD",name:"Grenada"},{countryCode:"GP",name:"Guadeloupe"},{countryCode:"GU",name:"Guam"},{countryCode:"GT",name:"Guatemala"},{countryCode:"GG",name:"Guernsey"},{countryCode:"GN",name:"Guinea"},{countryCode:"GW",name:"Guinea-Bissau"},{countryCode:"GY",name:"Guyana"},{countryCode:"HT",name:"Haiti"},{countryCode:"HN",name:"Honduras"},{countryCode:"HK",name:"Hong Kong"},{countryCode:"HU",name:"Maďarsko"},{countryCode:"IS",name:"Island"},{countryCode:"IN",name:"Indie"},{countryCode:"ID",name:"Indonésie"},{countryCode:"IE",name:"Irsko"},{countryCode:"IL",name:"Izrael"},{countryCode:"IT",name:"Italy"},{countryCode:"JM",name:"Jamajka"},{countryCode:"JP",name:"Japonsko"},{countryCode:"JE",name:"Jersey"},{countryCode:"JO",name:"Jordánsko"},{countryCode:"KZ",name:"Kazachstán"},{countryCode:"KE",name:"Keňská republika"},{countryCode:"KI",name:"Kiribati"},{countryCode:"KR",name:"Jižní Korea"},{countryCode:"KW",name:"Kuvajt"},{countryCode:"KG",name:"Kyrgyzstán"},{countryCode:"LA",name:"Laos"},{countryCode:"LV",name:"Lotyšsko"},{countryCode:"LY",name:"Libanon"},{countryCode:"LI",name:"Lichtenštejnsko"},{countryCode:"LT",name:"Litva"},{countryCode:"LU",name:"Lucembursko"},{countryCode:"MO",name:"Macao"},{countryCode:"MK",name:"Makedonie"},{countryCode:"MG",name:"Madagaskar"},{countryCode:"MW",name:"Malawi"},{countryCode:"MY",name:"Malajsie"},{countryCode:"MV",name:"Maledivy"},{countryCode:"ML",name:"Mali"},{countryCode:"MT",name:"Malta"},{countryCode:"MH",name:"Marshallovy ostrovy"},{countryCode:"MQ",name:"Martinik"},{countryCode:"MR",name:"Mauritánie"},{countryCode:"MU",name:"Mauricius"},{countryCode:"YT",name:"Mayotte"},{countryCode:"MX",name:"Mexiko"},{countryCode:"MD",name:"Moldavsko"},{countryCode:"MC",name:"Monako"},{countryCode:"MN",name:"Mongolsko"},{countryCode:"MS",name:"Montserrat"},{countryCode:"MA",name:"Moroko"},{countryCode:"MZ",name:"Mosambik"},{countryCode:"NA",name:"Namibie"},{countryCode:"NR",name:"Nauru"},{countryCode:"NP",name:"Nepál"},{countryCode:"NL",name:"Holandsko"},{countryCode:"AN",name:"Holandské Antily"},{countryCode:"NC",name:"Nová Kaledonie"},{countryCode:"NZ",name:"Nový Zéland"},{countryCode:"NI",name:"Nicaragua"},{countryCode:"NE",name:"Niger"},{countryCode:"NG",name:"Nigérie"},{countryCode:"NU",name:"Niue"},{countryCode:"NO",name:"Norsko"},{countryCode:"OM",name:"Omán"},{countryCode:"PK",name:"Pákistán"},{countryCode:"PW",name:"Palau"},{countryCode:"PA",name:"Panama"},{countryCode:"PG",name:"Papua-Nová Guinea"},{countryCode:"PY",name:"Paraguay"},{countryCode:"PE",name:"Peru"},{countryCode:"PH",name:"Filipíny"},{countryCode:"US",name:"Spojené státy americké"},{countryCode:"PT",name:"Portugalsko"},{countryCode:"PR",name:"Portoriko"},{countryCode:"QA",name:"Katar"},{countryCode:"RO",name:"Rumunsko"},{countryCode:"RU",name:"Rusko"},{countryCode:"RW",name:"Rwanda"},{countryCode:"SH",name:"Svatá Helena"},{countryCode:"KN",name:"Svatý Kryštof a Nevis"},{countryCode:"LC",name:"Svatá Lucie"},{countryCode:"PM",name:"Svatý Pierre and Miquelon"},{countryCode:"VC",name:"Svatý Vincenc a Grenadiny"},{countryCode:"SM",name:"San Marino"},{countryCode:"SA",name:"Saúdská Arábie"},{countryCode:"GM",name:"Gambie"},{countryCode:"SN",name:"Senegal"},{countryCode:"SC",name:"Seychely"},{countryCode:"SL",name:"Sierra Leone"},{countryCode:"SG",name:"Singapur"},{countryCode:"SK",name:"Slovensko"},{countryCode:"DE",name:"Německo"},{countryCode:"SI",name:"Slovinsko"},{countryCode:"SB",name:"Solomonské ostrovy"},{countryCode:"SO",name:"Somálsko"},{countryCode:"ZA",name:"Jižní Afrika"},{countryCode:"ES",name:"Španělsko"},{countryCode:"LK",name:"Srí Lanka"},{countryCode:"SR",name:"Surinam"},{countryCode:"SJ",name:"Špicberky"},{countryCode:"SZ",name:"Svazijsko"},{countryCode:"SE",name:"Švédsko"},{countryCode:"CA",name:"Kanada"},{countryCode:"SY",name:"Sýrie"},{countryCode:"TW",name:"Tchaj-wan"},{countryCode:"TJ",name:"Tádžikistán"},{countryCode:"TZ",name:"Tanzanie"},{countryCode:"TH",name:"Thajsko"},{countryCode:"TG",name:"Togo"},{countryCode:"TO",name:"Tonga"},{countryCode:"TT",name:"Trinidad a Tobago"},{countryCode:"TN",name:"Tunsko"},{countryCode:"TR",name:"Turecko"},{countryCode:"TM",name:"Turkmenistán"},{countryCode:"TC",name:"Turks a Caicos"},{countryCode:"TV",name:"Tuvalu"},{countryCode:"UG",name:"Uganda"},{countryCode:"UA",name:"Ukrajina"},{countryCode:"AE",name:"Spojené arabské emiráty"},{countryCode:"UY",name:"Uruguay"},{countryCode:"UZ",name:"Uzbekistán"},{countryCode:"VU",name:"Vanuatu"},{countryCode:"VA",name:"Městský stát Vatikán"},{countryCode:"VE",name:"Venezuela"},{countryCode:"VN",name:"Vietnam"},{countryCode:"VI",name:"Panenské ostrovy"},{countryCode:"WF",name:"Wallis a Futuna"},{countryCode:"EH",name:"Západní Sahara"},{countryCode:"WS",name:"Západní Samoa"},{countryCode:"YE",name:"Jemen"},{countryCode:"RS",name:"Serbia"},{countryCode:"ZM",name:"Zambie"},{countryCode:"ZW",name:"Zimbabwe"},{countryCode:"FM",name:"Mikronésie"},{countryCode:"AF",name:"Afghánistán"},{countryCode:"ME",name:"Černá hora"},{countryCode:"IR",name:"Írán"},{countryCode:"IQ",name:"Irák"}]),angular.module("addresses").constant("COUNTRIES_PL",[{countryCode:"PL",name:"Polska"},{countryCode:"GB",name:"Wielka Brytania"},{countryCode:"CH",name:"Szwajcaria"},{countryCode:"AL",name:"Albania"},{countryCode:"DZ",name:"Algeria"},{countryCode:"AS",name:"Samoa Amerykańska"},{countryCode:"AD",name:"Andora"},{countryCode:"AO",name:"Angola"},{countryCode:"AI",name:"Anguilla"},{countryCode:"AG",name:"Antigua i Barbuda"},{countryCode:"AR",name:"Argentyna"},{countryCode:"AM",name:"Armenia"},{countryCode:"AW",name:"Aruba"},{countryCode:"AU",name:"Australia"},{countryCode:"AT",name:"Austria"},{countryCode:"AZ",name:"Republika Azerbejdżanu"},{countryCode:"BS",name:"Bahamy"},{countryCode:"BH",name:"Bahrajn"},{countryCode:"BD",name:"Bangladesz"},{countryCode:"BB",name:"Barbados"},{countryCode:"BY",name:"Białoruś"},{countryCode:"BE",name:"Belgia"},{countryCode:"BZ",name:"Belize"},{countryCode:"BJ",name:"Benin"},{countryCode:"BM",name:"Bermuda"},{countryCode:"BT",name:"Bhutan"},{countryCode:"BO",name:"Boliwia"},{countryCode:"BA",name:"Bośnia i Hercegowina"},{countryCode:"BW",name:"Botswana"},{countryCode:"BR",name:"Brazylia"},{countryCode:"VG",name:"Brytyjskie Wyspy Dziewicze"},{countryCode:"BN",name:"Brunei"},{countryCode:"BG",name:"Bułgaria"},{countryCode:"BF",name:"Burkina Faso"},{countryCode:"MM",name:"Birma"},{countryCode:"BI",name:"Burundi"},{countryCode:"KH",name:"Kambodża"},{countryCode:"CM",name:"Kamerun"},{countryCode:"CV",name:"Republika Zielonego Przylądka"},{countryCode:"KY",name:"Kajmany"},{countryCode:"CF",name:"Republika Środkowoafrykańska"},{countryCode:"TD",name:"Czad"},{countryCode:"CL",name:"Chile"},{countryCode:"CN",name:"Chiny"},{countryCode:"CO",name:"Kolumbia"},{countryCode:"KM",name:"Komory"},{countryCode:"CD",name:"Kongo, Demokratyczna Republika"},{countryCode:"CG",name:"Kongo, Republika"},{countryCode:"CK",name:"Wyspy Cooka"},{countryCode:"CR",name:"Kostaryka"},{countryCode:"CI",name:"Wybrzeże Kości Słoniowej"},{countryCode:"HR",name:"Chorwacja"},{countryCode:"CY",name:"Cypr"},{countryCode:"CZ",name:"Czechy"},{countryCode:"DK",name:"Dania"},{countryCode:"DJ",name:"Dżibuti"},{countryCode:"DM",name:"Dominika"},{countryCode:"DO",name:"Dominikana"},{countryCode:"EC",name:"Ekwador"},{countryCode:"EG",name:"Egipt"},{countryCode:"SV",name:"Salwador"},{countryCode:"GQ",name:"Gwinea Równikowa"},{countryCode:"ER",name:"Erytrea"},{countryCode:"EE",name:"Estonia"},{countryCode:"ET",name:"Etiopia"},{countryCode:"FK",name:"Falklandy"},{countryCode:"FJ",name:"Fidżi"},{countryCode:"FI",name:"Finlandia"},{countryCode:"FR",name:"Francja"},{countryCode:"GF",name:"Gujana Francuska"},{countryCode:"GM",name:"Gambia"},{countryCode:"GE",name:"Gruzja"},{countryCode:"DE",name:"Niemcy"},{countryCode:"GH",name:"Ghana"},{countryCode:"GR",name:"Grecja"},{countryCode:"GL",name:"Grenlandia"},{countryCode:"GD",name:"Grenada"},{countryCode:"GP",name:"Gwadelupa"},{countryCode:"GU",name:"Guam"},{countryCode:"GT",name:"Gwatemala"},{countryCode:"GG",name:"Guernsey"},{countryCode:"GN",name:"Gwinea"},{countryCode:"GW",name:"Gwinea Bissau"},{countryCode:"GY",name:"Gujana"},{countryCode:"HT",name:"Haiti"},{countryCode:"HN",name:"Honduras"},{countryCode:"HK",name:"Hong Kong"},{countryCode:"HU",name:"Węgry"},{countryCode:"IS",name:"Islandia"},{countryCode:"IN",name:"Indie"},{countryCode:"ID",name:"Indonezja"},{countryCode:"IE",name:"Irlandia"},{countryCode:"IL",name:"Izrael"},{countryCode:"IT",name:"Włochy"},{countryCode:"JM",name:"Jamajka"},{countryCode:"JP",name:"Japonia"},{countryCode:"JE",name:"Jersey"},{countryCode:"JO",name:"Jordan"},{countryCode:"KZ",name:"Kazachstan"},{countryCode:"KE",name:"Kenia"},{countryCode:"KI",name:"Kiribati"},{countryCode:"KR",name:"Korea Południowa"},{countryCode:"KW",name:"Kuwejt"},{countryCode:"KG",name:"Kirgistan"},{countryCode:"LA",name:"Laos"},{countryCode:"LV",name:"Łotwa"},{countryCode:"LY",name:"Liban"},{countryCode:"LI",name:"Liechtenstein"},{countryCode:"LT",name:"Litwa"},{countryCode:"LU",name:"Luksemburg"},{countryCode:"MO",name:"Makau"},{countryCode:"MK",name:"Macedonia"},{countryCode:"MG",name:"Madagaskar"},{countryCode:"MW",name:"Malawi"},{countryCode:"MY",name:"Malezja"},{countryCode:"MV",name:"Malediwy"},{countryCode:"ML",name:"Mali"},{countryCode:"MT",name:"Malta"},{countryCode:"MH",name:"Wyspy Marshalla"},{countryCode:"MQ",name:"Martynika"},{countryCode:"MR",name:"Mauretania"},{countryCode:"MU",name:"Mauritius"},{countryCode:"YT",name:"Majotta"},{countryCode:"MX",name:"Meksyk"},{countryCode:"MD",name:"Mołdawia"},{countryCode:"MC",name:"Monako"},{countryCode:"MN",name:"Mongolia"},{countryCode:"MS",name:"Montserrat"},{countryCode:"MA",name:"Maroko"},{countryCode:"MZ",name:"Mozambik"},{countryCode:"NA",name:"Namibia"},{countryCode:"NR",name:"Nauru"},{countryCode:"NP",name:"Nepal"},{countryCode:"NL",name:"Holandia"},{countryCode:"AN",name:"Antyle Holenderskie"},{countryCode:"NC",name:"Nowa Kaledonia"},{countryCode:"NZ",name:"Nowa Zelandia"},{countryCode:"NI",name:"Nikaragua"},{countryCode:"NE",name:"Niger"},{countryCode:"NG",name:"Nigeria"},{countryCode:"NU",name:"Niue"},{countryCode:"NO",name:"Norwegia"},{countryCode:"OM",name:"Oman"},{countryCode:"PK",name:"Pakistan"},{countryCode:"PW",name:"Palau"},{countryCode:"PA",name:"Panama"},{countryCode:"PG",name:"Papua-Nowa Gwinea"},{countryCode:"PY",name:"Paragwaj"},{countryCode:"PE",name:"Peru"},{countryCode:"PH",name:"Filipiny"},{countryCode:"US",name:"Stany Zjednoczone"},{countryCode:"PT",name:"Portugalia"},{countryCode:"PR",name:"Portoryko"},{countryCode:"QA",name:"Katar"},{countryCode:"RO",name:"Rumunia"},{countryCode:"RU",name:"Rosja"},{countryCode:"RW",name:"Rwanda"},{countryCode:"SH",name:"Wyspa Świętej Heleny"},{countryCode:"KN",name:"Saint Kitts i Nevis"},{countryCode:"LC",name:"Saint Lucia"},{countryCode:"PM",name:"Saint-Pierre i Miquelon"},{countryCode:"VC",name:"Saint Vincent i Grenadyny"},{countryCode:"GA",name:"Republika Gabonu"},{countryCode:"SM",name:"San Marino"},{countryCode:"SA",name:"Arabia Saudyjska"},{countryCode:"SN",name:"Senegal"},{countryCode:"SC",name:"Seszele"},{countryCode:"SL",name:"Sierra Leone"},{countryCode:"SG",name:"Singapur"},{countryCode:"SK",name:"Słowacja"},{countryCode:"SI",name:"Słowenia"},{countryCode:"SB",name:"Wyspy Salomona"},{countryCode:"SO",name:"Somalia"},{countryCode:"ZA",name:"Republika Południowej Afryki"},{countryCode:"GI",name:"Gibraltar"},{countryCode:"ES",name:"Hiszpania"},{countryCode:"LK",name:"Sri Lanka"},{countryCode:"SR",name:"Surinam"},{countryCode:"SJ",name:"Svalbard"},{countryCode:"SZ",name:"Suazi"},{countryCode:"SE",name:"Szwecja"},{countryCode:"CA",name:"Kanada"},{countryCode:"SY",name:"Syria"},{countryCode:"PF",name:"Polinezja Francuska"},{countryCode:"TW",name:"Tajwan"},{countryCode:"TJ",name:"Tadżykistan"},{countryCode:"TZ",name:"Tanzania"},{countryCode:"TH",name:"Tajlandia"},{countryCode:"TG",name:"Togo"},{countryCode:"TO",name:"Tonga"},{countryCode:"TT",name:"Trynidad i Tobago"},{countryCode:"TN",name:"Tunezja"},{countryCode:"TR",name:"Turcja"},{countryCode:"TM",name:"Turkmenistan"},{countryCode:"TC",name:"Turks i Caicos"},{countryCode:"TV",name:"Tuvalu"},{countryCode:"UG",name:"Uganda"},{countryCode:"UA",name:"Ukraina"},{countryCode:"AE",name:"Zjednoczone Emiraty Arabskie"},{countryCode:"UY",name:"Urugwaj"},{countryCode:"UZ",name:"Uzbekistan"},{countryCode:"VU",name:"Vanuatu"},{countryCode:"VA",name:"Watykan"},{countryCode:"VE",name:"Wenezuela"},{countryCode:"VN",name:"Wietnam"},{countryCode:"VI",name:"Wyspy Dziewicze (USA)"},{countryCode:"WF",name:"Wallis i Futuna"},{countryCode:"EH",name:"Sahara Zachodnia"},{countryCode:"WS",name:"Samoa Zachodnie"},{countryCode:"YE",name:"Jemen"},{countryCode:"RS",name:"Serbia"},{countryCode:"ZM",name:"Zambia"},{countryCode:"ZW",name:"Zimbabwe"},{countryCode:"FM",name:"Mikronezja"},{countryCode:"AF",name:"Afganistan"},{countryCode:"ME",name:"Czarnogóra"},{countryCode:"IR",name:"Iran"},{countryCode:"IQ",name:"Irak"}]),angular.module("addresses").constant("RULES_DEFAULT",{name:{length:{min:1,max:99},pattern:/^[-`'a-ząćęłńóśźżäëöüčšžßæøáéőúűåабвгдеёжзийклмнопрстуўфхцчшщъыьэюяїіďěíňřťůýәғқңһөүұľôґє\. ]+$/i},street:{length:{min:1,max:150},pattern:/^[^\*\(\)%&\^#@!\\\\\n<>'"`]+$/},city:{length:{min:2,max:64}},phone:{pattern:/^(|[0-9\+\- ()]{9,40})$/}}),angular.module("addresses").constant("RULES_CS",{name:{length:{min:2,max:64},pattern:/^[-`'a-ząćęłńóśźżäëöüčšžßæøáéőúűåабвгдеёжзийклмнопрстуўфхцчшщъыьэюяїіďěíňřťůýәғқңһөүұľôґє\. ]+$/i},street:{length:{min:2,max:50},pattern:/^(|([^\*\(\)\%\&\^\#\@\!\\\\\n<>"']+[0-9]+[^\*\(\)\%\&\^\#\@\!\\\\\n<>"']*))$/},city:{length:{min:2,max:64}},phone:{pattern:/^(|[0-9\+\- ()]{9,16})$/}}),angular.module("addresses").constant("RULES_DE",{name:{length:{min:1,max:99},pattern:/^[-`'a-ząćęłńóśźżäëöüčšžßæøáéőúűåабвгдеёжзийклмнопрстуўфхцчшщъыьэюяїіďěíňřťůýәғқңһөүұľôґє\. ]+$/i},street:{length:{min:2,max:50},pattern:/^[^\*\(\)%&\^#@!\\\\\n<>'"`]+$/},city:{length:{min:2,max:100}},phone:{pattern:/^ *((\+)|(00))?( *\d){7,15} *$/}}),angular.module("addresses").constant("RULES_GB",{name:{length:{min:2,max:64},pattern:/^[-`'a-ząćęłńóśźżäëöüčšžßæøáéőúűåабвгдеёжзийклмнопрстуўфхцчшщъыьэюяїіďěíňřťůýәғқңһөүұľôґє\. ]+$/i},street:{length:{min:3,max:150},pattern:/|[^\*\(\)\%\&\^\#\@\!\\\\\n<>'"`]/},city:{length:{min:2,max:64}},phone:{pattern:/^(|[0-9\+\- ()]{9,40})$/}}),angular.module("addresses").constant("RULES_IE",{name:{length:{min:1,max:99},pattern:/^[-`'a-ząćęłńóśźżäëöüčšžßæøáéőúűåабвгдеёжзийклмнопрстуўфхцчшщъыьэюяїіďěíňřťůýәғқңһөүұľôґє\. ]+$/i},street:{length:{min:3,max:150},pattern:/^[^\*\(\)%&\^#@!\\\\\n<>'"`]+$/},city:{length:{min:2,max:64}},phone:{pattern:/^(|[0-9\+\- ()]{9,40})$/}}),angular.module("addresses").constant("RULES_PL",{name:{length:{min:2,max:64},pattern:/^[-`'a-ząćęłńóśźżäëöüčšžßæøáéőúűåабвгдеёжзийклмнопрстуўфхцчшщъыьэюяїіďěíňřťůýәғқңһөүұľôґє\. ]+$/i},street:{length:{min:3,max:150},pattern:/^[^\*\(\)%&\^#@!\\\\\n<>'"`]+$/},city:{length:{min:2,max:64}},phone:{pattern:/^(|[0-9\+\- ()]{9,40})$/}}),angular.module("addresses").constant("RULES_UA",{name:{length:{min:3,max:99},pattern:/^[-`'a-ząćęłńóśźżäëöüčšžßæøáéőúűåабвгдеёжзийклмнопрстуўфхцчшщъыьэюяїіďěíňřťůýәғқңһөүұľôґє\. ]+$/i},street:{length:{min:1,max:150},pattern:/^(|[^\*\(\)\%\&\^\#\@\!\\\\\n]+[0-9]+[^\*\(\)\%\&\^\#\@\!\\\\\n]*)$/},city:{length:{min:2,max:64}},phone:{pattern:/^(|[0-9\+\- ()]{9,49})$/}}),angular.module("addresses").controller("AddressesSectionCtrl",["$scope","countriesTranslator","validationRules",function(t,n,o){function d(e){var n=e.email?e.email:t.activeAddress.email;return{firstName:e.firstName,lastName:e.lastName,company:e.company,street:e.street,city:e.city,zipCode:e.zipCode,countryCode:e.countryCode,phoneNumber:e.phoneNumber,email:n,taxId:e.taxId,isValid:e.isValid}}function e(e){return angular.equals({},e)}function f(t,n){var o;return!e(t)&&!e(n)&&(o=!0,angular.forEach(n,function(e,n){e!==t[n]&&(o=!1)}),o)}function g(e){e.firstName.$touched=!0,e.lastName.$touched=!0,e.street.$touched=!0,e.zipCode.$touched=!0,e.city.$touched=!0}t.displayAddressesModal=!1,t.countries=n.getCountries(t.locale.language),t.defaultPattern=/^[^~!@#\$%\^&\*(){}\+=|:;,\?\[\]_\\\/<>]*$/,t.emailPattern=/^|([a-z0-9-_]+)(\.[a-z0-9-_]+){0,30}(\+[a-z0-9-_]+){0,30}@[a-z0-9-_]+(\.[a-z0-9-_]+){0,30}(\.[a-z]{2,})$/i,t.formAddress={countryCode:t.locale.country},t.updateCountryRules=function(e){t.nameLength=o.getNameLength(e),t.streetLength=o.getStreetLength(e),t.cityLength=o.getCityLength(e),t.streetPattern=o.getStreetPattern(e),t.namePattern=o.getNamePattern(e),void 0!==t.phoneNumberPattern?t.phonePattern=t.phoneNumberPattern:t.phonePattern=o.getPhonePattern(e)},t.updateCountryRules(t.locale.country),t.invoiceForCompany=!0,t.hasInvoiceAddress&&t.invoiceAddress&&(t.invoiceForCompany=!!t.invoiceAddress.company,t.useInvoiceAddress=!!Object.keys(t.invoiceAddress).length),t.submitOtherAddress=function(e,n){g(e),n.isValid=!0,e.$valid&&t.changeActiveAddress(n)},t.changeActiveAddress=function(e,n){var o=n||null;e.phoneNumber||(e.phoneNumber=t.activeAddress&&t.activeAddress.phoneNumber?t.activeAddress.phoneNumber:""),t.phoneNumberMask&&(e.phoneNumber=null),t.activeAddress=d(e),t.dismissAddressModal(),f(t.activeAddress,t.formAddress)||(t.formAddress={countryCode:t.locale.country}),o&&(o.$dirty=!0)},t.showAddressModal=function(){t.updateCountryRules(t.formAddress.countryCode),t.displayAddressesModal=!0},t.dismissAddressModal=function(){t.updateCountryRules(t.activeAddress.countryCode),t.displayAddressesModal=!1},t.isAddressSelected=function(e){var n=d(e);return angular.equals(n,t.activeAddress)},t.copyToInvoiceAddress=function(e,n){t.invoiceAddress={street:e.street,city:e.city,zipCode:e.zipCode,taxId:e.taxId},n?t.invoiceAddress.company=e.company:(t.invoiceAddress.firstName=e.firstName,t.invoiceAddress.lastName=e.lastName)},t.clearInvoiceAddress=function(){t.invoiceAddress={}},t.changeInvoiceType=function(e){t.invoiceForCompany=!t.invoiceForCompany,t.clearInvoiceAddress(),e.street.$touched=!1,e.zipCode.$touched=!1,e.city.$touched=!1,e.taxId.$touched=!1}}]),angular.module("addresses").directive("addressesSection",function(){function a(e,t){return t.summaryMode&&!0===JSON.parse(t.summaryMode)?"addressSummaryMode.html":"addressSection.html"}return{restrict:"E",templateUrl:a,controller:"AddressesSectionCtrl",scope:{hasAccountAddress:"=",userAddresses:"=",activeAddress:"=",invoiceAddress:"=?",hasInvoiceAddress:"=",isPhoneRequired:"=",locale:"=",summaryMode:"=?",summaryShowBackUrl:"=?",summaryBackUrl:"=?",phoneNumberMask:"=?",phoneNumberPattern:"=?",isCompanyUser:"=?",isGuest:"=?"},link:function(e){function b(t){e.allAddresses=t}function c(){e.activeAddress&&Object.keys(e.activeAddress).length?e.changeActiveAddress(e.activeAddress):e.changeActiveAddress(e.allAddresses[0])}e.hasAccountAddress&&e.userAddresses.then(b).then(c)}}}),angular.module("addresses").directive("requiredValidation",function(){return{require:"ngModel",scope:{isRequired:"="},link:function(t,n,o,a){function e(){r=!!a.$viewValue,a.$setValidity("required",r)}var r;t.$watchGroup(["isRequired",function(){return a.$viewValue}],function(){a.$setValidity("required","false"),t.isRequired&&e()})}}}),angular.module("addresses").directive("taxIdValidation",function(){return{require:"ngModel",scope:{countryCode:"=",isRequired:"="},link:function(t,n,o,a){function e(e){var t,n,o;return!!/^(\d{3}(([ -]?\d{2}[ -]?\d{2}[ -]?\d{3})|([ -]?\d{3}[ -]?\d{2}[ -]?\d{2})))|(\d{11})$/.test(e)&&(t=e.replace(/[ -]/g,""),n=6*parseInt(t[0])+5*parseInt(t[1])+7*parseInt(t[2])+2*parseInt(t[3])+3*parseInt(t[4])+4*parseInt(t[5])+5*parseInt(t[6])+6*parseInt(t[7])+7*parseInt(t[8]),o=n%11,10===o&&(o=0),o===parseInt(t[9]))}function f(e){return/^\d{6}\/?\d{2,4}$/.test(e)}function g(e){return/^\d{9,12}$/.test(e)}function h(e){return/^\d{7}\wW?$/.test(e)}function i(e){return/^\d[\d\- ]{0,10}$/.test(e)}function j(e){return/^\d{9,12}$/.test(e)}function k(t,n){switch(t){case"PL":return e(n);case"CZ":return f(n);case"GB":return g(n);case"IE":return h(n);case"DE":return j(n);default:return i(n)}}function l(){var e=t.countryCode;r=a.$viewValue?k(e,a.$viewValue):"true",a.$setValidity("pattern",r)}function m(){var e=!!a.$viewValue;a.$setValidity("required",e)}var r;t.$watchGroup(["countryCode","isRequired",function(){return a.$viewValue}],function(){a.$setValidity("required","false"),t.isRequired&&m(),l()})}}}),angular.module("addresses").directive("validationMessages",function(){return{restrict:"E",templateUrl:"validationMessages.html",scope:{formModel:"=",patternMessage:"@",requiredMessage:"@",minLengthMessage:"@",maxLengthMessage:"@"}}}),angular.module("addresses").directive("zipCodeValidation",function(){return{require:"ngModel",scope:{countryCode:"=",isRequired:"="},link:function(t,n,o,a){function e(){var e=t.countryCode;e&&(e=e.toLowerCase()),s="pl"===e?l:"cz"===e?d:"ua"===e?c:"de"===e?u:i,r=a.$viewValue?s.test(a.$viewValue):"true",a.$setValidity("pattern",r)}function f(){var e=!!a.$viewValue;a.$setValidity("required",e)}var r,s,i=/^[a-zA-Z \-0-9]{0,10}$/,l=/^[0-9]{2}-[0-9]{3}$/,d=/^[0-9]{3} ?[0-9]{2}$/,c=/^[0-9]{5,6}$/,u=/^[0-9]{5}$/;t.$watchGroup(["countryCode","isRequired",function(){return a.$viewValue}],function(){a.$setValidity("required","false"),t.isRequired&&f(),e()})}}}),angular.module("addresses").filter("countryName",["$filter","countriesTranslator",function(e,t){return function(n,o){if(!n)return"";var a=e("filter")(t.getCountries(o),{countryCode:n});return a.length?a[0].name:""}}]),angular.module("addresses").factory("countriesTranslator",["COUNTRIES_PL","COUNTRIES_CS",function(e,t){return{getCountries:function(n){switch(n){case"cs":return t;case"pl":default:return e}}}}]),angular.module("addresses").factory("validationRules",["RULES_PL","RULES_UA","RULES_GB","RULES_DE","RULES_CS","RULES_IE","RULES_DEFAULT",function(e,t,n,o,a,r,s){function h(i){switch(i){case"PL":return e;case"UA":return t;case"GB":return n;case"DE":return o;case"CZ":return a;case"IE":return r;default:return s}}var i=function(e,t){return h(e)[t.toLowerCase()]};return{getNameLength:function(e){return i(e,"name").length},getNamePattern:function(e){return i(e,"name").pattern},getStreetLength:function(e){return i(e,"street").length},getCityLength:function(e){return i(e,"city").length},getStreetPattern:function(e){return i(e,"street").pattern},getPhonePattern:function(e){return i(e,"phone").pattern}}}]),angular.module("addresses").run(["gettextCatalog",function(e){e.setStrings("cs",{"bad format":"špatný formát",change:"změnit","change to company":"změnit na společnost","change to person":"změnit na soukromé osoby",city:"město",company:"Společnost","copy from delivery address":"Zkopírovat doručovací údaje",country:"Země","do not change my address":"nemění svou adresu","enter city name":"Zadejte město","enter company name":"Zadejte název společnosti","enter phone number":"Zadejte telefonní číslo","enter street name":"Zadejte název ulice","enter your name":"Zadejte jméno","Enter your phone number. That will make the contact with a seller much easier.":"Zadejte prosím vaše telefonní číslo, které usnadní komunikaci s prodejcem.","enter your surname":"Zadejte jméno","enter your tax id no.":"Zadejte DIČ","enter zip code":"Zadejte PSČ","entry is too short":"Údaj je příliš krátký","full name":"Jméno a příjmení","I would like to receive an invoice":"Chci dostávat faktury s následujícími údaji","invoice address":"faktura",name:"Jméno","other address":"jiná adresa","phone number":"Telefon","Provided data will be saved in your profile.":'Poskytnuté údaje budou uloženy v Moje Aukro > Můj účet > Nastavení: Moje "\n"údaje.',"saved addresses":"uložené adresy","shipping address":"přeprava",street:"Ulice a číslo domu",surname:"Příjmení","tax id no.":"DIČ","too long entry":"Údaj je příliš dlouho","use this address":"Použijte tuto adresu","zip code":"PSČ","zip code and city":"PSČ a město"}),e.setStrings("pl",{"bad format":"zły format","buyer address":"dane kupującego",change:"zmień","change to company":"zmień na firmę","change to person":"zmień na osobę prywatną",city:"miasto",company:"firma","copy from delivery address":"skopiuj z danych do wysyłki",country:"kraj","do not change my address":"nie zmieniaj adresu","enter city name":"podaj miasto","enter company name":"podaj firmę","enter phone number":"podaj numer telefonu","enter street name":"podaj ulicę","Enter those changes in My Allegro &gt; Account in order to store correct data.":"Wprowadź te same zmiany w Moje Allegro &gt; Dane konta Allegro, aby w przyszłości wyświetlały się tutaj poprawne dane.","enter your name":"podaj imię","Enter your phone number. That will make the contact with a seller much easier.":"Podaj numer telefonu. Ułatwi to kontakt ze sprzedającym.","enter your surname":"podaj nazwisko","enter your tax id no.":"podaj NIP","enter zip code":"podaj kod pocztowy","entry is too short":"zbyt krótki wpis","full name":"imię i nazwisko","I would like to receive an invoice":"chcę otrzymać fakturę","invoice address":"dane do faktury",name:"imię","other address":"inny adres","phone number":"telefon","Please correct your address to finalize purchase.":"Popraw błędne dane, aby dokończyć zakupy.","Provided data will be saved in your profile.":"Dane wpisane przy pierwszym zakupie zachowamy w Twoim profilu, abyś nie musiał powtarzać tego w przyszłości.","saved addresses":"zapisane adresy","shipping address":"adres",street:"ulica",surname:"nazwisko","tax id no.":"NIP","too long entry":"zbyt długi wpis","use this address":"użyj tego adresu","zip code":"kod pocztowy","zip code and city":"kod pocztowy i miasto"})}]),angular.module("addresses").run(["$templateCache",function(e){"use strict";e.put("addressSection.html",'<div class="address-wrapper row" ng-form name="addresses"><ng-include src="\'userAddress.html\'" ng-if="hasAccountAddress && activeAddress.isValid"></ng-include><ng-include src="\'guestAddress.html\'" ng-if="!hasAccountAddress || !activeAddress.isValid"></ng-include><div class="row separator separator-top invoice-address-separator" ng-if="::hasInvoiceAddress"></div><div class="address-indent row col-xm-10 col-sm-offset-3" ng-if="::hasInvoiceAddress"><div class="checkbox"><label class="invoice-address-checked"><input type="checkbox" ng-model="$parent.useInvoiceAddress" ng-click="$parent.clearInvoiceAddress()"> <span translate>I would like to receive an invoice</span></label></div></div><ng-include ng-if="useInvoiceAddress" src="\'invoiceAddress.html\'"></ng-include></div><section ng-if="displayAddressesModal" class="modal fade in other-address-modal" style="display: block" role="dialog"><div class="modal-dialog modal-lg modal-xs"><div class="modal-content"><div class="modal-header"><button type="button" class="btn-close" ng-click="dismissAddressModal()"><i class="icon-back"></i> <span translate>do not change my address</span></button></div><div class="modal-body row"><section class="saved-addresses col-sm-5"><h3 ng-if="!isGuest" translate>saved addresses</h3><h3 ng-if="isGuest" translate>buyer address</h3><div class="row address-button" ng-repeat="address in ::allAddresses track by $index"><button class="big-button col-xm-12" type="button" ng-class="{ selected: isAddressSelected(address) }" ng-click="changeActiveAddress(address, addresses)"><i class="icon icon-completed"></i><div class="big-button-box"><p ng-if="::address.company">{{::address.company}}</p><p ng-if="::address.lastName">{{::address.firstName}} {{::address.lastName}}</p><p>{{::address.street}}</p><p>{{::address.zipCode}} {{::address.city}}</p><p>{{::address.countryCode | countryName:locale.language }}</p></div></button></div></section><section class="other-address col-sm-7 separator separator-left"><h3 translate>other address</h3><ng-include src="\'otherAddress.html\'"></ng-include></section></div><div class="modal-footer"><button type="button" class="btn-close" ng-click="dismissAddressModal()"><i class="icon-back"></i> <span translate>do not change my address</span></button></div></div></div></section><div class="modal-backdrop fade in" ng-if="displayAddressesModal"></div>'),e.put("addressSummaryMode.html",'<div class="summary-addresses" ng-class="::{\'summary-address-with-invoice\': hasInvoiceAddress}"><section class="shipping-address"><h3 translate>shipping address</h3><span ng-if="::summaryShowBackUrl">( <a ng-if="::!isGuest" class="summary-back-url" ng-href="{{::summaryBackUrl}}" translate>change</a> <a ng-if="::isGuest" class="summary-back-url" ng-href="{{::summaryBackUrl}}" target="_self" translate>change</a> )</span><p ng-if="::activeAddress.company" ng-bind="::activeAddress.company"></p><p ng-if="::(activeAddress.firstName || activeAddress.lastName)"><span ng-bind="::activeAddress.firstName"></span> <span ng-bind="::activeAddress.lastName"></span></p><p ng-bind="::activeAddress.street"></p><p><span ng-bind="::activeAddress.zipCode"></span> <span ng-bind="::activeAddress.city"></span></p><p ng-bind="::activeAddress.countryCode | countryName:locale.language"></p><p class="email" ng-bind="::activeAddress.email"></p><p ng-if="::activeAddress.phoneNumber" ng-bind="::activeAddress.phoneNumber"></p></section><section class="invoice-address" ng-if="::(hasInvoiceAddress && invoiceAddress.street)"><h3 translate>invoice address</h3><span ng-if="::summaryShowBackUrl">(<a ng-href="{{::summaryBackUrl}}" translate>change</a>)</span><p ng-if="::invoiceAddress.company" ng-bind="::invoiceAddress.company"></p><p ng-if="::(invoiceAddress.firstName || invoiceAddress.lastName)"><span ng-bind="::invoiceAddress.firstName"></span> <span ng-bind="::invoiceAddress.lastName"></span></p><p ng-bind="::invoiceAddress.street"></p><p><span ng-bind="::invoiceAddress.zipCode"></span> <span ng-bind="::invoiceAddress.city"></span></p><p ng-bind="::invoiceAddress.countryCode | countryName:locale.language"></p><p ng-if="::invoiceAddress.taxId"><span translate>tax id no.</span>: <span ng-bind="::invoiceAddress.taxId"></span></p></section></div>'),e.put("guestAddress.html",'<div class="guest-address"><p ng-if="!hasAccountAddress" translate>Provided data will be saved in your profile.</p><div ng-if="hasAccountAddress && !activeAddress.isValid && !isCompanyUser"><div translate>Please correct your address to finalize purchase.</div><div translate>Enter those changes in My Allegro &gt; Account in order to store correct data.</div></div><ng-form name="guestForm"><fieldset><div class="form-group"><label class="control-label col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-0 col-sm-3" for="first-name"><span class="required" translate>full name</span></label><div class="col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-0 col-sm-6 input-group-validation"><div class="left-column col-xm-5"><input type="text" class="form-control" ng-class="{\'input-error\': guestForm.firstName.$touched && guestForm.firstName.$invalid}" name="firstName" ng-minlength="nameLength.min" ng-maxlength="nameLength.max" required-validation is-required="true" ng-pattern="namePattern" ng-model="$parent.activeAddress.firstName" id="first-name"><validation-messages form-model="guestForm.firstName" required-message="{{\'enter your name\' | translate}}" pattern-message="{{\'bad format\' | translate }}" min-length-message="{{\'entry is too short\' | translate}}" max-length-message="{{\'too long entry\' | translate}}"></validation-messages></div><div class="right-column col-xm-7"><input type="text" class="form-control" ng-class="{\'input-error\': guestForm.lastName.$touched && guestForm.lastName.$invalid}" name="lastName" ng-minlength="nameLength.min" ng-maxlength="nameLength.max" required-validation is-required="true" ng-pattern="namePattern" ng-model="$parent.activeAddress.lastName" id="last-name"><validation-messages form-model="guestForm.lastName" required-message="{{\'enter your surname\' | translate}}" pattern-message="{{\'bad format\' | translate }}" min-length-message="{{\'entry is too short\' | translate}}" max-length-message="{{\'too long entry\' | translate}}"></validation-messages></div></div></div><div class="form-group"><label class="control-label col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-0 col-sm-3" for="company" translate="">company</label><div class="col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-0 col-sm-6"><div class="input-group-validation right-sm"><input type="text" class="form-control" ng-class="{\'input-error\': guestForm.company.$touched && guestForm.company.$invalid}" ng-model="$parent.activeAddress.company" id="company" name="company" ng-maxlength="100"><validation-messages form-model="guestForm.company" required-message="{{\'enter company name\' | translate}}" pattern-message="{{\'bad format\' | translate }}" min-length-message="{{\'entry is too short\' | translate}}" max-length-message="{{\'too long entry\' | translate}}"></validation-messages></div></div></div><div class="form-group"><label class="control-label col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-0 col-sm-3" for="address"><span class="required" translate>street</span></label><div class="col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-0 col-sm-6 input-group-validation"><div class="left-column col-xm-12"><input type="text" class="form-control" ng-class="{\'input-error\': guestForm.street.$touched && guestForm.street.$invalid}" name="street" ng-minlength="streetLength.min" ng-maxlength="streetLength.max" required-validation is-required="true" ng-pattern="streetPattern" ng-model="$parent.activeAddress.street" id="address"><validation-messages form-model="guestForm.street" required-message="{{\'enter street name\' | translate}}" pattern-message="{{\'bad format\' | translate }}" min-length-message="{{\'entry is too short\' | translate}}" max-length-message="{{\'too long entry\' | translate}}"></validation-messages></div></div></div><div class="form-group"><label class="control-label col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-0 col-sm-3" for="postcode"><span class="required" translate>zip code and city</span></label><div class="col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-0 col-sm-6 input-group-validation"><div class="col-xm-4 left-column"><input type="text" class="form-control" ng-class="{\'input-error\': guestForm.zipCode.$touched && guestForm.zipCode.$invalid}" name="zipCode" ng-minlength="1" ng-maxlength="11" zip-code-validation country-code="$parent.activeAddress.countryCode" is-required="true" ng-model="$parent.activeAddress.zipCode" id="postcode"><validation-messages form-model="guestForm.zipCode" required-message="{{\'enter zip code\' | translate}}" pattern-message="{{\'bad format\' | translate }}" min-length-message="{{\'entry is too short\' | translate}}" max-length-message="{{\'too long entry\' | translate}}"></validation-messages></div><div class="col-xm-8 right-column"><input type="text" class="form-control" ng-class="{\'input-error\': guestForm.city.$touched && guestForm.city.$invalid}" ng-model="$parent.activeAddress.city" id="city" name="city" ng-minlength="cityLength.min" ng-maxlength="cityLength.max" required-validation is-required="true" ng-pattern="defaultPattern"><validation-messages form-model="guestForm.city" required-message="{{\'enter city name\' | translate}}" pattern-message="{{\'bad format\' | translate }}" min-length-message="{{\'entry is too short\' | translate}}" max-length-message="{{\'too long entry\' | translate}}"></validation-messages></div></div></div><div class="form-group"><label class="control-label col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-0 col-sm-3" for="country"><span class="required" translate>country</span></label><div class="col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-0 col-sm-6"><select name="country" id="country" ng-model="$parent.activeAddress.countryCode" class="form-control" ng-init="$parent.activeAddress.countryCode = $parent.activeAddress.countryCode || $parent.locale.country" ng-change="updateCountryRules($parent.activeAddress.countryCode)"><option ng-repeat="country in ::countries track by $index" value="{{::country.countryCode}}">{{::country.name}}</option></select></div></div><div class="form-group"><label class="control-label col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-0 col-sm-3" for="custom-phone"><span class="required" translate>phone number</span></label><div class="col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-0 col-sm-6"><div class="input-group-validation right-sm"><input type="text" class="form-control" ng-class="{\'input-error\': guestForm.phoneNumber.$touched && guestForm.phoneNumber.$invalid}" ng-model="$parent.activeAddress.phoneNumber" id="custom-phone" name="phoneNumber" ng-minlength="9" ng-maxlength="40" ng-pattern="phonePattern" required-validation is-required="true" ui-mask="{{phoneNumberMask}}" model-view-value="true" ui-options="{clearOnBlur: false}"><validation-messages form-model="guestForm.phoneNumber" required-message="{{\'enter phone number\' | translate}}" pattern-message="{{\'bad format\' | translate }}" min-length-message="{{\'entry is too short\' | translate}}" max-length-message="{{\'too long entry\' | translate}}"></validation-messages></div><span class="help-block" translate>Enter your phone number. That will make the contact with a seller much easier.</span></div></div></fieldset></ng-form></div>'),e.put("invoiceAddress.html",'<div class="col-sm-offset-3 address-indent"><button class="btn btn-link" type="button" ng-click="$parent.copyToInvoiceAddress($parent.activeAddress, invoiceForCompany)" translate>copy from delivery address</button></div><ng-form name="invoiceForm"><fieldset class="invoice-address"><div class="form-group" ng-if="!invoiceForCompany"><div class="col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-0 col-sm-3 invoice-col"><label class="required invoice-label" for="firstName" translate>full name</label><button class="btn-link left-indent invoice-label" type="button" ng-click="$parent.changeInvoiceType(invoiceForm)" translate>change to company</button></div><div class="col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-0 col-sm-6 input-group-validation"><div class="left-column col-xm-5"><input type="text" class="form-control" ng-class="{\'input-error\': invoiceForm.firstName.$touched && invoiceForm.firstName.$invalid}" ng-model="$parent.invoiceAddress.firstName" id="firstName" name="firstName" ng-minlength="nameLength.min" ng-maxlength="nameLength.max" required-validation is-required="!invoiceForCompany" ng-pattern="namePattern"><validation-messages form-model="invoiceForm.firstName" required-message="{{\'enter your name\' | translate}}" pattern-message="{{\'bad format\' | translate }}" min-length-message="{{\'entry is too short\' | translate}}" max-length-message="{{\'too long entry\' | translate}}"></validation-messages></div><div class="right-column col-xm-7"><input type="text" class="form-control" ng-class="{\'input-error\': invoiceForm.lastName.$touched && invoiceForm.lastName.$invalid}" ng-model="$parent.invoiceAddress.lastName" id="lastName" name="lastName" ng-minlength="nameLength.min" ng-maxlength="nameLength.max" required-validation is-required="!invoiceForCompany" ng-pattern="namePattern"><validation-messages form-model="invoiceForm.lastName" required-message="{{\'enter your surname\' | translate}}" pattern-message="{{\'bad format\' | translate }}" min-length-message="{{\'entry is too short\' | translate}}" max-length-message="{{\'too long entry\' | translate}}"></validation-messages></div></div></div><div class="form-group" ng-if="invoiceForCompany"><div class="col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-0 col-sm-3 invoice-col"><label class="invoice-label" for="company"><span class="required" translate>company</span></label><button class="btn-link left-indent invoice-label" type="button" ng-click="$parent.changeInvoiceType(invoiceForm)" translate>change to person</button></div><div class="col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-0 col-sm-6"><div class="input-group-validation right-sm"><input type="text" class="form-control" ng-class="{\'input-error\': invoiceForm.company.$touched && invoiceForm.company.$invalid}" ng-model="$parent.invoiceAddress.company" id="company" name="company" ng-maxlength="99" required-validation is-required="invoiceForCompany"><validation-messages form-model="invoiceForm.company" required-message="{{\'enter company name\' | translate}}" pattern-message="{{\'bad format\' | translate }}" min-length-message="{{\'entry is too short\' | translate}}" max-length-message="{{\'too long entry\' | translate}}"></validation-messages></div></div></div><div class="form-group"><label class="control-label col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-0 col-sm-3" for="street"><span class="required" translate>street</span></label><div class="col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-0 col-sm-6 input-group-validation"><div class="left-column col-xm-12"><input type="text" class="form-control" ng-class="{\'input-error\': invoiceForm.street.$touched && invoiceForm.street.$invalid}" name="street" ng-minlength="streetLength.min" ng-maxlength="streetLength.max" required-validation is-required="true" ng-pattern="streetPattern" ng-model="$parent.invoiceAddress.street" id="street"><validation-messages form-model="invoiceForm.street" required-message="{{\'enter street name\' | translate}}" pattern-message="{{\'bad format\' | translate }}" min-length-message="{{\'entry is too short\' | translate}}" max-length-message="{{\'too long entry\' | translate}}"></validation-messages></div></div></div><div class="form-group"><label class="col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-0 col-sm-3 control-label" for="zipcode"><span class="required" translate>zip code and city</span></label><div class="col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-0 col-sm-6 input-group-validation"><div class="col-xm-4 left-column"><input type="text" class="form-control" ng-class="{\'input-error\': invoiceForm.zipCode.$touched && invoiceForm.zipCode.$invalid}" ng-model="$parent.invoiceAddress.zipCode" id="zipCode" name="zipCode" ng-minlength="1" ng-maxlength="11" zip-code-validation country-code="$parent.activeAddress.countryCode" is-required="true"><validation-messages form-model="invoiceForm.zipCode" required-message="{{\'enter zip code\' | translate}}" pattern-message="{{\'bad format\' | translate }}" min-length-message="{{\'entry is too short\' | translate}}" max-length-message="{{\'too long entry\' | translate}}"></validation-messages></div><div class="col-xm-8 right-column"><input type="text" class="form-control" ng-class="{\'input-error\': invoiceForm.city.$touched && invoiceForm.city.$invalid}" ng-model="$parent.invoiceAddress.city" id="city" name="city" ng-minlength="cityLength.min" ng-maxlength="cityLength.max" required-validation is-required="true" ng-pattern="defaultPattern"><validation-messages form-model="invoiceForm.city" required-message="{{\'enter city name\' | translate}}" pattern-message="{{\'bad format\' | translate }}" min-length-message="{{\'entry is too short\' | translate}}" max-length-message="{{\'too long entry\' | translate}}"></validation-messages></div></div></div><div class="form-group"><label class="control-label col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-0 col-sm-3" for="taxId"><span ng-class="{\'required\':invoiceForCompany}" translate>tax id no.</span></label><div class="col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-0 col-sm-6"><div class="input-group-validation right-sm"><input type="text" class="form-control" ng-class="{\'input-error\': invoiceForm.taxId.$touched && invoiceForm.taxId.$invalid}" ng-model="$parent.invoiceAddress.taxId" id="taxId" name="taxId" ng-minlength="1" ng-maxlength="40" tax-id-validation country-code="$parent.activeAddress.countryCode" is-required="invoiceForCompany"><validation-messages form-model="invoiceForm.taxId" required-message="{{\'enter your tax id no.\' | translate}}" pattern-message="{{\'bad format\' | translate }}" min-length-message="{{\'entry is too short\' | translate}}" max-length-message="{{\'too long entry\' | translate}}"></validation-messages></div></div></div></fieldset></ng-form>'),e.put("otherAddress.html",'<ng-form name="otherAddressForm" class="form-required"><fieldset><div class="form-group"><div class="row input-group-validation"><div class="col-ss-4 col-xm-5 left-column"><label class="control-label" for="firstName"><span class="required" translate>name</span></label><input type="text" class="form-control" ng-model="formAddress.firstName" ng-class="{\'input-error\': otherAddressForm.firstName.$touched && otherAddressForm.firstName.$invalid}" id="firstName" name="firstName" ng-minlength="nameLength.min" ng-maxlength="nameLength.max" required-validation is-required="displayAddressesModal" ng-pattern="namePattern"><validation-messages form-model="otherAddressForm.firstName" required-message="{{\'enter your name\' | translate}}" pattern-message="{{\'bad format\' | translate }}" min-length-message="{{\'entry is too short\' | translate}}" max-length-message="{{\'too long entry\' | translate}}"></validation-messages></div><div class="col-ss-8 col-xm-7 right-column"><label class="control-label" for="lastName"><span class="required" translate>surname</span></label><input type="text" class="form-control" ng-class="{\'input-error\': otherAddressForm.lastName.$touched && otherAddressForm.lastName.$invalid}" name="lastName" ng-model="formAddress.lastName" id="lastName" ng-minlength="nameLength.min" ng-maxlength="nameLength.max" required-validation is-required="displayAddressesModal" ng-pattern="namePattern"><validation-messages form-model="otherAddressForm.lastName" required-message="{{\'enter your surname\' | translate}}" pattern-message="{{\'bad format\' | translate }}" min-length-message="{{\'entry is too short\' | translate}}" max-length-message="{{\'too long entry\' | translate}}"></validation-messages></div></div></div><div class="form-group"><label class="control-label" for="company" translate>company</label><div class="input-group-validation"><input type="text" class="form-control" ng-class="{\'input-error\': otherAddressForm.company.$touched && otherAddressForm.company.$invalid}" ng-model="formAddress.company" id="company" name="company" ng-maxlength="99"><validation-messages form-model="otherAddressForm.company" required-message="{{\'enter company name\' | translate}}" pattern-message="{{\'bad format\' | translate }}" min-length-message="{{\'entry is too short\' | translate}}" max-length-message="{{\'too long entry\' | translate}}"></validation-messages></div></div><div class="form-group"><div class="row input-group-validation"><div class="left-column col-xm-12"><div><label class="control-label" for="street"><span class="required" translate>street</span></label></div><input type="text" class="form-control" ng-class="{\'input-error\': otherAddressForm.street.$touched && otherAddressForm.street.$invalid}" id="street" name="street" ng-minlength="streetLength.min" ng-maxlength="streetLength.max" required-validation is-required="displayAddressesModal" ng-pattern="streetPattern" ng-model="formAddress.street"><validation-messages form-model="otherAddressForm.street" required-message="{{\'enter street name\' | translate}}" pattern-message="{{\'bad format\' | translate }}" min-length-message="{{\'entry is too short\' | translate}}" max-length-message="{{\'too long entry\' | translate}}"></validation-messages></div></div></div><div class="form-group"><div class="row input-group-validation"><div class="col-xs-5 col-xm-5 col-sm-4 left-column"><label class="control-label" for="zipcode"><span class="required" translate>zip code</span></label><input type="text" class="form-control" ng-class="{\'input-error\': otherAddressForm.zipCode.$touched && otherAddressForm.zipCode.$invalid}" name="zipCode" ng-minlength="1" ng-maxlength="11" ng-model="formAddress.zipCode" id="zipCode" zip-code-validation country-code="formAddress.countryCode" is-required="displayAddressesModal"><validation-messages form-model="otherAddressForm.zipCode" required-message="{{\'enter zip code\' | translate}}" pattern-message="{{\'bad format\' | translate }}" min-length-message="{{\'entry is too short\' | translate}}" max-length-message="{{\'too long entry\' | translate}}"></validation-messages></div><div class="col-xs-7 col-xm-7 col-sm-8 right-column"><label class="control-label" for="city"><span class="required" translate>city</span></label><input type="text" class="form-control" ng-class="{\'input-error\': otherAddressForm.city.$touched && otherAddressForm.city.$invalid}" name="city" ng-minlength="nameLength.min" ng-maxlength="nameLength.max" required-validation is-required="displayAddressesModal" ng-pattern="defaultPattern" ng-model="formAddress.city" id="city"><validation-messages form-model="otherAddressForm.city" required-message="{{\'enter city name\' | translate}}" pattern-message="{{\'bad format\' | translate }}" min-length-message="{{\'entry is too short\' | translate}}" max-length-message="{{\'too long entry\' | translate}}"></validation-messages></div></div></div><div class="form-group"><label class="control-label" for="country"><span class="required" translate>country</span></label><select name="country" id="country" ng-model="formAddress.countryCode" class="form-control" ng-init="formAddress.countryCode = formAddress.countryCode || $parent.locale.country" ng-change="updateCountryRules(formAddress.countryCode)"><option ng-repeat="country in ::countries track by $index" value="{{::country.countryCode}}">{{::country.name}}</option></select></div><div class="form-group"><input type="submit" ng-click="submitOtherAddress(otherAddressForm, formAddress)" class="btn btn-primary progress-wheel other-address-submit" value="{{\'use this address\' | translate}}"></div></fieldset></ng-form>'),e.put("userAddress.html",'<div class="row form-group"><div class="col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-3 col-sm-6"><div class="active-address"><p ng-if="$parent.activeAddress.company">{{ $parent.activeAddress.company }}</p><p ng-if="$parent.activeAddress.firstName || $parent.activeAddress.lastName">{{ $parent.activeAddress.firstName + " " + $parent.activeAddress.lastName }}</p><p>{{ $parent.activeAddress.street }}</p><p>{{ $parent.activeAddress.zipCode + " " + $parent.activeAddress.city }}</p><p>{{ $parent.activeAddress.countryCode | countryName:locale.language }}</p></div><div><button class="btn-link other-address-link" type="button" ng-click="$parent.$parent.showAddressModal()" translate>other address</button><p class="email">{{ $parent.activeAddress.email }}</p></div></div></div><div class="row"><label class="col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-0 col-sm-3 control-label" for="phoneNumber" ng-class="{\'required\':isPhoneRequired}" translate>phone number</label><div class="col-xm-offset-1 col-xs-offset-2 col-xm-10 col-xs-8 col-ss-7 col-sm-offset-0 col-sm-6"><ng-form name="phoneForm"><div class="input-group-validation right-sm"><input type="text" class="form-control" ng-class="{\'input-error\': phoneForm.phoneNumber.$touched && phoneForm.phoneNumber.$invalid}" ng-model="$parent.activeAddress.phoneNumber" id="phoneNumber" name="phoneNumber" ng-minlength="9" ng-maxlength="40" required-validation is-required="isPhoneRequired" ng-pattern="phonePattern" ui-mask="{{phoneNumberMask}}" model-view-value="true" ui-options="{clearOnBlur: false}"><validation-messages form-model="phoneForm.phoneNumber" required-message="{{\'enter phone number\' | translate}}" pattern-message="{{\'bad format\' | translate }}" min-length-message="{{\'entry is too short\' | translate}}" max-length-message="{{\'too long entry\' | translate}}"></validation-messages></div><span class="help-block" translate>Enter your phone number. That will make the contact with a seller much easier.</span></ng-form></div></div>'),e.put("validationMessages.html",'<div class="validation-message in" ng-messages="formModel.$error" ng-if="formModel.$touched && formModel.$invalid"><div ng-message="pattern">{{ patternMessage }}</div><div ng-message="required">{{ requiredMessage }}</div><div ng-message="mask">{{ requiredMessage }}</div><div ng-message="parse">{{ requiredMessage }}</div><div ng-message="minlength">{{ minLengthMessage }}</div><div ng-message="maxlength">{{ maxLengthMessage }}</div></div>')}])},245:function(e,t){angular.module("formattedPriceTemplates",[]).run(["$templateCache",function(e){e.put("formattedPriceTemplates/formattedPrice.html",'<span class="formatted-price" ng-if="$ctrl.shouldDisplayFormattedPrice && $ctrl.targetAmount">\n    \x3c!-- TODO: style spans so they can be in newlines --\x3e\n    <span class="currency prefix"\n          ng-if="!$ctrl.currencyProperties.suffix">{{$ctrl.currencyProperties.symbol}}</span><span class="decimal">{{ $ctrl.splitPrice.decimal | number:0 }}</span><span class="fraction">{{ $ctrl.splitPrice.fraction }}</span>\n    <span class="currency suffix"\n          ng-if="$ctrl.currencyProperties.suffix">{{$ctrl.currencyProperties.symbol}}</span>\n</span>\n<span class="raw-price" ng-if="!$ctrl.shouldDisplayFormattedPrice">{{ $ctrl.amount | formattedPrice: $ctrl.currency : $ctrl.targetCurrency : $ctrl.conversionRates : $ctrl.countryCode}}</span>')}]),angular.module("formattedPrice",["formattedPriceTemplates"]);var n;!function(e){!function(e){var t=function(){function PriceConverterSvc(e,t,n){this.$locale=e,this.currenciesByCountryCode=t,this.configuration=n}return PriceConverterSvc.$inject=["$locale","CURRENCIES_BY_COUNTRY","FORMATTED_PRICE_CONFIGURATION"],PriceConverterSvc.prototype.getCountryFromNgLocale=function(){return this.$locale.id.split("-").pop().toLocaleUpperCase()},PriceConverterSvc.prototype.getSplitPrice=function(e){var t=e.split(".");return{decimal:t[0],fraction:t[1]}},PriceConverterSvc.prototype.convertPrice=function(e,t){var n=e/t;return parseFloat(n.toFixed(2))},PriceConverterSvc.prototype.isConversionRequired=function(e,t){return t&&e!==t},PriceConverterSvc.prototype.shouldDisplayFormattedPrice=function(e){return void 0===e&&(e=this.getCountryFromNgLocale()),this.configuration.fancyFormat.some(function(t){return t===e})},PriceConverterSvc.prototype.isConversionRateAvailable=function(e,t){return!(!e||!Object.keys(e).length)&&!!e[t]},PriceConverterSvc.prototype.getConversionRate=function(e,t){return e&&e[t]?Number(e[t]):null},PriceConverterSvc.prototype.getCurrencyProperties=function(e,t){void 0===t&&(t=this.getCountryFromNgLocale());var n=this.currenciesByCountryCode[t];return n&&n[e]?n[e]:{iso:e,symbol:e,suffix:!1}},PriceConverterSvc}();e.PriceConverterSvc=t,angular.module("formattedPrice").service("PriceConverterSvc",t)}(e.services||(e.services={}))}(n||(n={}));var n;!function(e){!function(e){function provideFormattedPriceFilter(e,t){return function(n,o,a,r,s){void 0===o&&(o="PLN");var i=parseFloat(n);if(!i&&0!==i)return"";if(t.isConversionRequired(o,a)&&t.isConversionRateAvailable(r,a)){var l=t.getConversionRate(r,a);i=t.convertPrice(i,l),o=a}var d=t.getCurrencyProperties(o,s),c=e("number")(i,2);return d.suffix?c+" "+d.symbol:d.symbol+" "+c}}provideFormattedPriceFilter.$inject=["$filter","PriceConverterSvc"],e.provideFormattedPriceFilter=provideFormattedPriceFilter,angular.module("formattedPrice").filter("formattedPrice",provideFormattedPriceFilter)}(e.filters||(e.filters={}))}(n||(n={}));var n;!function(e){!function(e){var t=function(){function FormattedPriceCtrl(e){this.shouldDisplayFormattedPrice=!1,this.splitPrice={decimal:null,fraction:null},this.priceConverterSvc=e,this.shouldDisplayFormattedPrice=e.shouldDisplayFormattedPrice(this.countryCode),e.isConversionRateAvailable(this.conversionRates,this.targetCurrency)?(this.currencyProperties=this.priceConverterSvc.getCurrencyProperties(this.targetCurrency,this.countryCode),this.conversionRate=e.getConversionRate(this.conversionRates,this.targetCurrency)):this.currencyProperties=this.priceConverterSvc.getCurrencyProperties(this.currency,this.countryCode)}return FormattedPriceCtrl.$inject=["PriceConverterSvc"],FormattedPriceCtrl.prototype.$onChanges=function(e){e.amount&&this.onAmountChange(Number(e.amount.currentValue)||0)},FormattedPriceCtrl.prototype.onAmountChange=function(e){this.shouldDisplayFormattedPrice&&(this.targetAmount=this.getTargetAmount(e),this.splitPrice=this.priceConverterSvc.getSplitPrice(this.targetAmount.toFixed(2)))},FormattedPriceCtrl.prototype.getTargetAmount=function(e){return this.priceConverterSvc.isConversionRateAvailable(this.conversionRates,this.targetCurrency)&&this.priceConverterSvc.isConversionRequired(this.currency,this.targetCurrency)?this.priceConverterSvc.convertPrice(e,this.conversionRate):e},FormattedPriceCtrl}();e.FormattedPriceCtrl=t,angular.module("formattedPrice").controller("FormattedPriceCtrl",t)}(e.controllers||(e.controllers={}))}(n||(n={}));var n;!function(e){!function(e){var t=function(){function FormattedPrice(){this.bindings={amount:"<",currency:"<",countryCode:"<?",targetCurrency:"<?",conversionRates:"<?"},this.controller="FormattedPriceCtrl",this.templateUrl="formattedPriceTemplates/formattedPrice.html"}return FormattedPrice}();angular.module("formattedPrice").component("formattedPrice",new t)}(e.components||(e.components={}))}(n||(n={}));var n;!function(e){!function(e){var t=function(){function Constants(){}return Constants.getCurrenciesByCountryCode=function(){return{DE:{EUR:{iso:"EUR",symbol:"€",suffix:!1},PLN:{iso:"PLN",symbol:"PLN",suffix:!1}},PL:{PLN:{iso:"PLN",symbol:"zł",suffix:!0}},UA:{UAH:{iso:"UAH",symbol:"грн.",suffix:!0}},CZ:{CZK:{iso:"CZK",symbol:"Kč",suffix:!0}}}},Constants.getFormattedPriceConfiguration=function(){return{fancyFormat:["DE"]}},Constants}();e.Constants=t,angular.module("formattedPrice").constant("CURRENCIES_BY_COUNTRY",t.getCurrenciesByCountryCode()).constant("FORMATTED_PRICE_CONFIGURATION",t.getFormattedPriceConfiguration())}(e.constants||(e.constants={}))}(n||(n={}))},246:function(e,t){!function(e){function __webpack_require__(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,__webpack_require__),o.l=!0,o.exports}var t={};__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=n(3),r=n(4),s=n(5),i=n(6),l=n(7),d=n(8),c=n(9),u=n(11),m=n(12),p=n(13),g=n(14),y=n(16),v=n(17),h=o.module("ng-analytics",[]).service("NgaSvc",a.NgaSvc).service("GtmSvc",r.GtmSvc).service("dfpSvc",s.DfpSvc).service("tradeDoublerSvc",v.TradeDoublerSvc).directive("ngaAction",function(){return new i.NgaActionDirective}).controller("NgaActionCtrl",l.NgaActionCtrl).controller("dfpCtrl",d.DfpCtrl).controller("TradeDoublerCtrl",y.TradeDoublerCtrl).component("dfp",new c.DfpComponent).component("tradeDoubler",new g.TradeDoublerComponent).value("dfpLoader",u.dfpLoader).value("gtmLoader",m.gtmLoader).value("ngaLoader",p.ngaLoader);t.default=h},function(e,t){e.exports=window.angular},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function NgaSvc(e,t,n,o){"ngInject";this.$window=e,this.$log=t,this.$timeout=n,this.ngaLoader=o,this.isTrackerCreated=!1,this.isInitialized=!1,this.storedConfig=null,this.defaultEventParams={category:"DefaultEvent"}}return NgaSvc.$inject=["$window","$log","$timeout","ngaLoader"],NgaSvc.prototype.initialize=function(e){e&&e.active&&!this.isInitialized&&(this.storedConfig=e,e.defaultEventParams&&(this.defaultEventParams=e.defaultEventParams),this.ngaLoader(this.storedConfig.environment),this.createTracker(),this.isInitialized=!0)},NgaSvc.prototype.sendPageView=function(e){var t=this;this.createTracker(),this.$window.cm?this.$timeout(0).then(function(){try{t.$window.cm("send","pageview",{customParams:e})}catch(e){t.$log.info("error while sending NGA page view",e)}}):this.$log.debug("CM not found")},NgaSvc.prototype.sendEvent=function(e,t,n,o,a){this.createTracker();var r=this.createSendEventData(e,t,n,o,a);if(r)if(this.$window.cm)try{this.$window.cm("send","event",r)}catch(e){this.$log.info("error while sending NGA event",e)}else this.$log.debug("CM not found");else this.$log.debug("No category nor action provided!")},NgaSvc.prototype.getDefaultEventParams=function(){return this.defaultEventParams},NgaSvc.prototype.createTracker=function(){if(!this.isTrackerCreated)if(this.$window.cm&&this.storedConfig){try{this.$window.cm("create",this.storedConfig.account,{cookieDomain:this.storedConfig.domain})}catch(e){this.$log.info("error while creating NGA tracker",e)}this.isTrackerCreated=!0}else this.$log.debug("CM not found")},NgaSvc.prototype.createSendEventData=function(e,t,n,o,a){var r={category:e||this.defaultEventParams.category,action:t};return r.category&&r.action?((n||this.defaultEventParams.label)&&(r.label=n||this.defaultEventParams.label),(o||this.defaultEventParams.value)&&(r.value=o||this.defaultEventParams.value),(a||this.defaultEventParams.customParams)&&(r.customParams=a||this.defaultEventParams.customParams),r):(this.$log.debug("NGA Event: category or action not set"),null)},NgaSvc}();t.NgaSvc=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function GtmSvc(e,t){"ngInject";this.$window=e,this.gtmLoader=t,this.dataLayer=[]}return GtmSvc.$inject=["$window","gtmLoader"],GtmSvc.prototype.initialize=function(e){e&&e.active&&this.gtmLoader(e.account),this.$window.dataLayer?this.dataLayer=this.$window.dataLayer:this.$window.dataLayer=this.dataLayer},GtmSvc.prototype.publish=function(e){this.dataLayer.push(e)},GtmSvc}();t.GtmSvc=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function DfpSvc(e,t){"ngInject";this.$log=e,this.dfpLoader=t}return DfpSvc.$inject=["$log","dfpLoader"],DfpSvc.prototype.initialize=function(e){this.$log.debug("dfp config: ",e),e&&this.dfpLoader(e)},DfpSvc}();t.DfpSvc=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function NgaActionDirective(){this.restrict="A",this.controller="NgaActionCtrl",this.scope={ngaAction:"@",ngaCategory:"@?",ngaValue:"@?",ngaLabel:"@?",ngaCustomParams:"=?"}}return NgaActionDirective.prototype.link=function(e,t,n,o){var a={action:e.ngaAction,category:e.ngaCategory,value:e.ngaValue,label:e.ngaLabel,customParams:e.ngaCustomParams},r=function(){return o.sendEventOnClick(a)};t.on("click",r),e.$on("$destroy",function(){t.off("click",r)})},NgaActionDirective}();t.NgaActionDirective=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function NgaActionCtrl(e){"ngInject";this.NgaSvc=e}return NgaActionCtrl.$inject=["NgaSvc"],NgaActionCtrl.prototype.$onInit=function(){},NgaActionCtrl.prototype.sendEventOnClick=function(e){var t=e.category,n=e.action,o=e.label,a=e.value,r=e.customParams;t||(t=this.NgaSvc.getDefaultEventParams().category||"DefaultEvent"),this.NgaSvc.sendEvent(t,n,o,a,r)},NgaActionCtrl}();t.NgaActionCtrl=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function DfpCtrl(e,t){"ngInject";this.dfpSvc=e,this.$timeout=t}return DfpCtrl.$inject=["dfpSvc","$timeout"],DfpCtrl.prototype.$onInit=function(){this.initializeAdvert()},DfpCtrl.prototype.initializeAdvert=function(){var e=this;this.$timeout(0).then(function(){e.dfpSvc.initialize(e.dfpConfig)})},DfpCtrl}();t.DfpCtrl=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function DfpComponent(){"ngInject";this.bindings={dfpConfig:"<"},this.template=n(10),this.controller="dfpCtrl"}return DfpComponent}();t.DfpComponent=o},function(e,t){e.exports='<div id="{{::$ctrl.dfpConfig.tagId}}"></div>'},function(e,t,n){"use strict";function dfpLoader(e){function sendEvent(e,t){"function"==typeof window.cm&&window.cm("send","event",{category:"dfp.nonopbox.slot",action:e,customParams:t})}function setupSlot(){var t=e.tagId,n=document.getElementById(t),o=window.googletag.pubads(),a=window.googletag.defineSlot(e.unitPath,e.sizes,t).addService(o);if(e.targeting.forEach(function(e){a.setTargeting(e.name,e.value)}),e.sizeMapping&&e.sizeMapping.length){var r=window.googletag.sizeMapping();e.sizeMapping.forEach(function(e){r.addSize(e.viewport,e.sizes)}),a.defineSizeMapping(r.build())}o.addEventListener("impressionViewable",function(e){e.slot===a&&sendEvent("itemView",a.getResponseInformation())}),window.addEventListener("blur",function(){setTimeout(function(){var e=document.activeElement;e&&"IFRAME"===e.nodeName&&n&&n.querySelector("iframe")===e&&sendEvent("itemClick",a.getResponseInformation())},0)}),window.googletag.display(t),o.refresh([a])}(function(){function setupService(){var e=n.pubads();e.disableInitialLoad(),e.enableSingleRequest(),e.collapseEmptyDivs(!0),e.setForceSafeFrame(!0),e.setCentering(!0),e.setSafeFrameConfig({allowOverlayExpansion:!0,allowPushExpansion:!0,sandbox:!0}),n.enableServices()}var e=document.getElementsByTagName("head")[0],t=document.createElement("script"),n=window.googletag=window.googletag||{};return n.apiReady||(n.cmd=n.cmd||[],t.async=!0,t.src="https://www.googletagservices.com/tag/js/gpt.js",e.appendChild(t),n.cmd.push(setupService)),{then:function(e){n.cmd.push(e)}}})().then(setupSlot)}Object.defineProperty(t,"__esModule",{value:!0}),t.dfpLoader=dfpLoader},function(e,t,n){"use strict";function gtmLoader(e){!function(e,t,n,o,a){e[o]=e[o]||[],e[o].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var r=t.getElementsByTagName(n)[0],s=t.createElement(n);s.async=!0,s.src="//www.googletagmanager.com/gtm.js?id="+a,r.parentNode.insertBefore(s,r)}(window,document,"script","dataLayer",e)}Object.defineProperty(t,"__esModule",{value:!0}),t.gtmLoader=gtmLoader},function(e,t,n){"use strict";function ngaLoader(e){!function(e,t,n,o,a,r,s){e["cm.analytics.object"]=a,e[a]=e[a]||function(){(e[a].q=e[a].q||[]).push(arguments)},r=t.createElement(n),s=t.getElementsByTagName(n)[0],r.async=1,r.src=o,s.parentNode.insertBefore(r,s)}(window,document,"script",function(e){var t={PRODUCTION:"//ngastatic.com/s4c/tracker.js",TEST:"//ngastatic.com/s4c_test/tracker.js"};return t[e]||t.TEST}(e),"cm")}Object.defineProperty(t,"__esModule",{value:!0}),t.ngaLoader=ngaLoader},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function TradeDoublerComponent(){"ngInject";this.bindings={organizationId:"<",purchaseId:"<",currency:"<",tradeDoublerUid:"<",products:"<"},this.template=n(15),this.controller="TradeDoublerCtrl"}return TradeDoublerComponent}();t.TradeDoublerComponent=o},function(e,t){e.exports='<img alt="" style="border: none; width: 0; height: 0"\n    ng-src="{{::(\'https://tbs.tradedoubler.com/report?\' + $ctrl.getTradeDoublerQueryString())}}">\n<img alt="" style="border: none; width: 0; height: 0"\n    ng-src="{{::(\'https://imgstatic.eu/report?\' + $ctrl.getImgStaticQueryString())}}">'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function TradeDoublerCtrl(e){"ngInject";this.tradeDoublerSvc=e}return TradeDoublerCtrl.$inject=["tradeDoublerSvc"],TradeDoublerCtrl.prototype.$onInit=function(){this.tradeDoublerParams=this.tradeDoublerSvc.calculateTradeDoublerParams(this.organizationId,this.purchaseId,this.currency,this.tradeDoublerUid,this.products)},TradeDoublerCtrl.prototype.getTradeDoublerQueryString=function(){var e=this.tradeDoublerParams.reportInfo.map(function(e){return"f1="+e.f1+"&f2="+e.f2+"&f3="+e.f3+"&f4="+e.f4}).join("|");return"organization="+this.tradeDoublerParams.organization+"&event="+this.tradeDoublerParams.event+"&orderNumber="+this.tradeDoublerParams.orderNumber+"&orderValue="+this.tradeDoublerParams.orderValue+"&currency="+this.tradeDoublerParams.currency+"&tduid="+this.tradeDoublerParams.tduid+"&reportInfo="+encodeURIComponent(e)},TradeDoublerCtrl.prototype.getImgStaticQueryString=function(){return"o="+this.tradeDoublerParams.organization+"&event="+this.tradeDoublerParams.event+"&ordnum="+this.tradeDoublerParams.orderNumber+"&ordval="+this.tradeDoublerParams.orderValue+"&curr="+this.tradeDoublerParams.currency+"&tduid="+this.tradeDoublerParams.tduid},TradeDoublerCtrl}();t.TradeDoublerCtrl=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function TradeDoublerSvc(e){"ngInject";this.sha512=e}return TradeDoublerSvc.$inject=["sha512"],TradeDoublerSvc.prototype.calculateTradeDoublerParams=function(e,t,n,o,a){return a=a||[],{organization:e,event:TradeDoublerSvc.EVENT_ID,orderNumber:this.sha512(t+TradeDoublerSvc.SALT),orderValue:TradeDoublerSvc.calculateOrderValue(a),currency:n,tduid:o,reportInfo:a.map(function(e){return TradeDoublerSvc.toTradeDoublerProduct(e)})}},TradeDoublerSvc.toTradeDoublerProduct=function(e){return{f1:e.id,f2:e.name,f3:e.unitPrice,f4:e.quantity}},TradeDoublerSvc.calculateOrderValue=function(e){return e.map(function(e){return e.unitPrice*e.quantity}).reduce(function(e,t){return t+e})},TradeDoublerSvc.EVENT_ID=372295,TradeDoublerSvc.SALT="xajoguto",TradeDoublerSvc}();t.TradeDoublerSvc=o}])},247:function(e,t,n){"use strict";angular.module("gettext").run(["gettextCatalog",function(e){e.setStrings("pl",{"(acc.) 1 bundle":["1 zestaw","{{$count}} zestawy","{{$count}} zestawów"],"(acc.) 1 pair":["1 parę","{{$count}} pary","{{$count}} par"],"(acc.) 1 piece":["1 sztukę","{{$count}} sztuki","{{$count}} sztuk"],"(acc.) 1 set":["1 komplet","{{$count}} komplety","{{$count}} kompletów"],"1 bundle":["1 zestaw","{{$count}} zestawy","{{$count}} zestawów"],"1 pair":["1 para","{{$count}} pary","{{$count}} par"],"1 piece":["1 sztuka","{{$count}} sztuki","{{$count}} sztuk"],"1 set":["1 komplet","{{$count}} komplety","{{$count}} kompletów"],"out of 1 bundle":["z 1 zestawu","z {{$count}} zestawów","z {{$count}} zestawów"],"out of 1 pair":["z 1 pary","z {{$count}} par","z {{$count}} par"],"out of 1 piece":["z 1 sztuki","z {{$count}} sztuk","z {{$count}} sztuk"],"out of 1 set":["z 1 kompletu","z {{$count}} kompletów","z {{$count}} kompletów"],"per bundle":"za zestaw","per pair":"za parę","per piece":"za sztukę","per set":"za komplet"})}]),angular.module("offerQuantityTemplates",[]).run(["$templateCache",function(e){e.put("offerQuantityTemplates/accusativeQuantity.html",'<span translate\r\n    translate-n="::$ctrl.quantity"\r\n    translate-plural="(acc.) {{$count}} pieces"\r\n    ng-if="::($ctrl.isUnit() || !($ctrl.isPair() || $ctrl.isSet() || $ctrl.isBundle()))">(acc.) 1 piece</span><span\r\n    translate\r\n    translate-n="::$ctrl.quantity"\r\n    translate-plural="(acc.) {{$count}} pairs"\r\n    ng-if="::($ctrl.isPair())">(acc.) 1 pair</span><span\r\n    translate\r\n    translate-n="::$ctrl.quantity"\r\n    translate-plural="(acc.) {{$count}} sets"\r\n    ng-if="::($ctrl.isSet())">(acc.) 1 set</span><span\r\n    translate\r\n    translate-n="::$ctrl.quantity"\r\n    translate-plural="(acc.) {{$count}} bundles"\r\n    ng-if="::($ctrl.isBundle())">(acc.) 1 bundle</span>'),e.put("offerQuantityTemplates/offerQuantity.html",'<span translate\r\n      translate-n="::$ctrl.quantity"\r\n      translate-plural="{{$count}} pieces"\r\n      ng-if="::($ctrl.isUnit() || !($ctrl.isPair() || $ctrl.isSet() || $ctrl.isBundle()))">1 piece</span>\r\n<span translate\r\n      translate-n="::$ctrl.quantity"\r\n      translate-plural="{{$count}} pairs"\r\n      ng-if="::($ctrl.isPair())">1 pair</span>\r\n<span translate\r\n      translate-n="::$ctrl.quantity"\r\n      translate-plural="{{$count}} sets"\r\n      ng-if="::($ctrl.isSet())">1 set</span>\r\n<span translate\r\n      translate-n="::$ctrl.quantity"\r\n      translate-plural="{{$count}} bundles"\r\n      ng-if="::($ctrl.isBundle())">1 bundle</span>'),e.put("offerQuantityTemplates/perPiece.html",'<span translate ng-if="::($ctrl.isUnit(offer.type) ||\r\n                        !($ctrl.isPair(offer.type) || $ctrl.isSet(offer.type) || $ctrl.isBundle(offer.type)))">per piece</span>\r\n<span translate ng-if="::$ctrl.isPair(offer.type)">per pair</span>\r\n<span translate ng-if="::$ctrl.isSet(offer.type)">per set</span>\r\n<span translate ng-if="::$ctrl.isBundle(offer.type)">per bundle</span>')}]),angular.module("offerQuantity",["offerQuantityTemplates","gettext"]);var o;!function(e){!function(e){var t=function(){function OfferQuantitySvc(e){this.gettextCatalog=e}return OfferQuantitySvc.$inject=["gettextCatalog"],OfferQuantitySvc.prototype.isUnit=function(e){return e===OfferQuantitySvc.UNIT},OfferQuantitySvc.prototype.isPair=function(e){return e===OfferQuantitySvc.PAIR},OfferQuantitySvc.prototype.isSet=function(e){return e===OfferQuantitySvc.SET},OfferQuantitySvc.prototype.isBundle=function(e){return e===OfferQuantitySvc.BUNDLE},OfferQuantitySvc.prototype.getMaxQuantityLabel=function(e,t){return this.isPair(t)?this.gettextCatalog.getPlural(e,"out of 1 pair","out of {{$count}} pairs",{$count:e}):this.isSet(t)?this.gettextCatalog.getPlural(e,"out of 1 set","out of {{$count}} sets",{$count:e}):this.isBundle(t)?this.gettextCatalog.getPlural(e,"out of 1 bundle","out of {{$count}} bundles",{$count:e}):this.gettextCatalog.getPlural(e,"out of 1 piece","out of {{$count}} pieces",{$count:e})},OfferQuantitySvc.UNIT="UNIT",OfferQuantitySvc.PAIR="PAIR",OfferQuantitySvc.SET="SET",OfferQuantitySvc.BUNDLE="BUNDLE",OfferQuantitySvc}();e.OfferQuantitySvc=t,angular.module("offerQuantity").service("OfferQuantitySvc",t)}(e.services||(e.services={}))}(o||(o={}));var o;!function(e){!function(e){var t=function(){function OfferQuantityCtrl(e){this.offerQuantitySvc=e}return OfferQuantityCtrl.$inject=["OfferQuantitySvc"],OfferQuantityCtrl.prototype.isUnit=function(){return this.offerQuantitySvc.isUnit(this.quantityType)},OfferQuantityCtrl.prototype.isPair=function(){return this.offerQuantitySvc.isPair(this.quantityType)},OfferQuantityCtrl.prototype.isSet=function(){return this.offerQuantitySvc.isSet(this.quantityType)},OfferQuantityCtrl.prototype.isBundle=function(){return this.offerQuantitySvc.isBundle(this.quantityType)},OfferQuantityCtrl}();e.OfferQuantityCtrl=t,angular.module("offerQuantity").controller("OfferQuantityCtrl",t)}(e.controllers||(e.controllers={}))}(o||(o={}));var a;!function(e){!function(e){!function(e){!function(e){var t=function(){function PerPieceComponent(){this.bindings={quantityType:"<?"},this.controller="OfferQuantityCtrl",this.templateUrl="offerQuantityTemplates/perPiece.html"}return PerPieceComponent}();angular.module("offerQuantity").component("perPiece",new t)}(e.components||(e.components={}))}(e.offerQuantity||(e.offerQuantity={}))}(e.components||(e.components={}))}(a||(a={}));var o;!function(e){!function(e){var t=function(){function OfferQuantityComponent(){this.bindings={quantity:"<",quantityType:"<?"},this.controller="OfferQuantityCtrl",this.templateUrl="offerQuantityTemplates/offerQuantity.html"}return OfferQuantityComponent}();angular.module("offerQuantity").component("offerQuantity",new t)}(e.components||(e.components={}))}(o||(o={}));var a;!function(e){!function(e){!function(e){!function(e){var t=function(){function AccusativeQuantityComponent(){this.bindings={quantity:"<",quantityType:"<?"},this.controller="OfferQuantityCtrl",this.templateUrl="offerQuantityTemplates/accusativeQuantity.html"}return AccusativeQuantityComponent}();angular.module("offerQuantity").component("accusativeQuantity",new t)}(e.components||(e.components={}))}(e.offerQuantity||(e.offerQuantity={}))}(e.components||(e.components={}))}(a||(a={}))}},[239]);
//# sourceMappingURL=modules.ed658269fa97241c77f6.js.map