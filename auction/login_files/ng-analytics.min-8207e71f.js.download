function dfpLoader(t){function n(t,n){"function"==typeof window.cm&&window.cm("send","event",{category:"dfp.nonopbox.slot",action:t,customParams:n})}function e(){var e=t.tagId,a=document.getElementById(e),i=googletag.pubads(),o=googletag.defineSlot(t.unitPath,t.sizes,e).addService(i);if(t.targeting.forEach(function(t){o.setTargeting(t.name,t.value)}),t.sizeMapping&&t.sizeMapping.length){var r=googletag.sizeMapping();t.sizeMapping.forEach(function(t){r.addSize(t.viewport,t.sizes)}),o.defineSizeMapping(r.build())}i.addEventListener("impressionViewable",function(t){t.slot===o&&n("itemView",o.getResponseInformation())}),window.addEventListener("blur",function(){setTimeout(function(){var t=document.activeElement;t&&"IFRAME"===t.nodeName&&a&&a.querySelector("iframe")===t&&n("itemClick",o.getResponseInformation())},0)}),googletag.display(e),i.refresh([o])}function a(){function t(){var t=a.pubads();t.disableInitialLoad(),t.enableSingleRequest(),t.collapseEmptyDivs(!0),t.setForceSafeFrame(!0),t.setCentering(!0),t.setSafeFrameConfig({allowOverlayExpansion:!0,allowPushExpansion:!0,sandbox:!0}),a.enableServices()}var n=document.getElementsByTagName("head")[0],e=document.createElement("script"),a=window.googletag=window.googletag||{};return a.apiReady||(a.cmd=a.cmd||[],e.async=!0,e.src="https://www.googletagservices.com/tag/js/gpt.js",n.appendChild(e),a.cmd.push(t)),{then:function(t){a.cmd.push(t)}}}a().then(e)}angular.module("ngAnalyticsTemplates",[]).run(["$templateCache",function(t){t.put("ngAnalyticsTemplates/dfp.html",'<div id="{{::$ctrl.dfpConfig.tagId}}"></div>')}]),angular.module("ng-analytics",["ngAnalyticsTemplates"]);var nganalytics;!function(t){var n;!function(t){var n=function(){function t(t,n,e,a){this.$window=t,this.$log=n,this.$timeout=e,this.ngaLoader=a,this.isTrackerCreated=!1,this.isInitialized=!1,this.storedConfig=null,this.defaultEventParams={category:"DefaultEvent"}}return t.$inject=["$window","$log","$timeout","ngaLoader"],t.prototype.initialize=function(t){t&&t.active&&!this.isInitialized&&(this.storedConfig=t,t.defaultEventParams&&(this.defaultEventParams=t.defaultEventParams),this.ngaLoader(this.storedConfig.environment),this.createTracker(),this.isInitialized=!0)},t.prototype.sendPageView=function(t){var n=this;this.createTracker(),this.$window.cm?this.$timeout(0).then(function(){try{n.$window.cm("send","pageview",{customParams:t})}catch(t){n.$log.info("error while sending NGA page view",t)}}):this.$log.debug("CM not found")},t.prototype.sendEvent=function(t,n,e,a,i){this.createTracker();var o=this.createSendEventData(t,n,e,a,i);if(o)if(this.$window.cm)try{this.$window.cm("send","event",o)}catch(t){this.$log.info("error while sending NGA event",t)}else this.$log.debug("CM not found");else this.$log.debug("No category nor action provided!")},t.prototype.getDefaultEventParams=function(){return this.defaultEventParams},t.prototype.createTracker=function(){if(!this.isTrackerCreated)if(this.$window.cm&&this.storedConfig){try{this.$window.cm("create",this.storedConfig.account,{cookieDomain:this.storedConfig.domain})}catch(t){this.$log.info("error while creating NGA tracker",t)}this.isTrackerCreated=!0}else this.$log.debug("CM not found")},t.prototype.createSendEventData=function(t,n,e,a,i){var o={category:t?t:this.defaultEventParams.category,action:n};return o.category&&o.action?((e||this.defaultEventParams.label)&&(o.label=e||this.defaultEventParams.label),(a||this.defaultEventParams.value)&&(o.value=a||this.defaultEventParams.value),(i||this.defaultEventParams.customParams)&&(o.customParams=i||this.defaultEventParams.customParams),o):(this.$log.debug("NGA Event: category or action not set"),null)},t}();t.NgaSvc=n,angular.module("ng-analytics").service("NgaSvc",n)}(n=t.services||(t.services={}))}(nganalytics||(nganalytics={}));var nganalytics;!function(t){var n;!function(t){var n=function(){function t(t,n){this.$window=t,this.gtmLoader=n,this.dataLayer=[]}return t.$inject=["$window","gtmLoader"],t.prototype.initialize=function(t){t&&t.active&&this.gtmLoader(t.account),this.$window.dataLayer?this.dataLayer=this.$window.dataLayer:this.$window.dataLayer=this.dataLayer},t.prototype.publish=function(t){this.dataLayer.push(t)},t}();t.GtmSvc=n,angular.module("ng-analytics").service("GtmSvc",n)}(n=t.services||(t.services={}))}(nganalytics||(nganalytics={}));var nganalytics;!function(t){var n;!function(t){var n=function(){function t(t,n){this.$log=t,this.dfpLoader=n}return t.$inject=["$log","dfpLoader"],t.prototype.initialize=function(t){this.$log.debug("dfp config: ",t),t&&this.dfpLoader(t)},t}();t.DfpSvc=n,angular.module("ng-analytics").service("dfpSvc",n)}(n=t.services||(t.services={}))}(nganalytics||(nganalytics={}));var nganalytics;!function(t){var n;!function(t){var n=function(){function t(){this.restrict="A",this.controller="NgaActionCtrl",this.scope={ngaAction:"@",ngaCategory:"@?",ngaValue:"@?",ngaLabel:"@?",ngaCustomParams:"=?"}}return t.prototype.link=function(t,n,e,a){var i={action:t.ngaAction,category:t.ngaCategory,value:t.ngaValue,label:t.ngaLabel,customParams:t.ngaCustomParams},o=function(){return a.sendEventOnClick(i)};n.on("click",o),t.$on("$destroy",function(){n.off("click",o)})},t}();angular.module("ng-analytics").directive("ngaAction",function(){return new n})}(n=t.directives||(t.directives={}))}(nganalytics||(nganalytics={}));var nganalytics;!function(t){var n;!function(t){var n=function(){function t(t){this.NgaSvc=t}return t.$inject=["NgaSvc"],t.prototype.sendEventOnClick=function(t){var n=t.category,e=t.action,a=t.label,i=t.value,o=t.customParams;n||(n=this.NgaSvc.getDefaultEventParams().category||"DefaultEvent"),this.NgaSvc.sendEvent(n,e,a,i,o)},t}();t.NgaActionCtrl=n,angular.module("ng-analytics").controller("NgaActionCtrl",n)}(n=t.controllers||(t.controllers={}))}(nganalytics||(nganalytics={}));var nganalytics;!function(t){var n;!function(t){var n=function(){function t(t,n){this.dfpSvc=t,this.$timeout=n}return t.$inject=["dfpSvc","$timeout"],t.prototype.$onInit=function(){this.initializeAdvert()},t.prototype.initializeAdvert=function(){var t=this;this.$timeout(0).then(function(){t.dfpSvc.initialize(t.dfpConfig)})},t}();t.DfpCtrl=n,angular.module("ng-analytics").controller("dfpCtrl",n)}(n=t.controllers||(t.controllers={}))}(nganalytics||(nganalytics={}));var nganalytics;!function(t){var n;!function(t){var n=function(){function t(){this.bindings={dfpConfig:"<"},this.templateUrl="ngAnalyticsTemplates/dfp.html",this.controller="dfpCtrl"}return t}();angular.module("ng-analytics").component("dfp",new n)}(n=t.components||(t.components={}))}(nganalytics||(nganalytics={})),function(){"use strict";function t(t){function n(t){var n={PRODUCTION:"//ngastatic.com/s4c/tracker.js",TEST:"//ngastatic.com/s4c_test/tracker.js"};return n[t]||n.TEST}!function(t,n,e,a,i,o,r){t["cm.analytics.object"]=i,t[i]=t[i]||function(){(t[i].q=t[i].q||[]).push(arguments)},o=n.createElement(e),r=n.getElementsByTagName(e)[0],o.async=1,o.src=a,r.parentNode.insertBefore(o,r)}(window,document,"script",n(t),"cm")}angular.module("ng-analytics").value("ngaLoader",t)}(),function(){"use strict";function t(t){!function(t,n,e,a,i){t[a]=t[a]||[],t[a].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var o=n.getElementsByTagName(e)[0],r=n.createElement(e),s="dataLayer"!=a?"&l="+a:"";r.async=!0,r.src="//www.googletagmanager.com/gtm.js?id="+i+s,o.parentNode.insertBefore(r,o)}(window,document,"script","dataLayer",t)}angular.module("ng-analytics").value("gtmLoader",t)}(),angular.module("ng-analytics").value("dfpLoader",dfpLoader);
//# sourceMappingURL=ng-analytics.min.js.map
